var io=Object.defineProperty;var ao=(t,e,r)=>e in t?io(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Fn=(t,e,r)=>(ao(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function Se(){}const ss=t=>t;function oo(t,e){for(const r in e)t[r]=e[r];return t}function lo(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Wi(t){return t()}function ti(){return Object.create(null)}function De(t){t.forEach(Wi)}function tr(t){return typeof t=="function"}function vt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let cn;function Qe(t,e){return t===e?!0:(cn||(cn=document.createElement("a")),cn.href=e,t===cn.href)}function co(t){return Object.keys(t).length===0}function uo(t,...e){if(t==null){for(const s of e)s(void 0);return Se}const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function Dt(t,e,r){t.$$.on_destroy.push(uo(e,r))}function Gi(t,e,r,s){if(t){const n=Ji(t,e,r,s);return t[0](n)}}function Ji(t,e,r,s){return t[1]&&s?oo(r.ctx.slice(),t[1](s(e))):r.ctx}function Qi(t,e,r,s){if(t[2]&&s){const n=t[2](s(r));if(e.dirty===void 0)return n;if(typeof n=="object"){const i=[],a=Math.max(e.dirty.length,n.length);for(let o=0;o<a;o+=1)i[o]=e.dirty[o]|n[o];return i}return e.dirty|n}return e.dirty}function Yi(t,e,r,s,n,i){if(n){const a=Ji(e,r,s,i);t.p(a,n)}}function Xi(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let s=0;s<r;s++)e[s]=-1;return e}return-1}function gt(t){return t??""}function Ve(t){return t&&tr(t.destroy)?t.destroy:Se}const ea=typeof window<"u";let ta=ea?()=>window.performance.now():()=>Date.now(),is=ea?t=>requestAnimationFrame(t):Se;const $r=new Set;function ra(t){$r.forEach(e=>{e.c(t)||($r.delete(e),e.f())}),$r.size!==0&&is(ra)}function na(t){let e;return $r.size===0&&is(ra),{promise:new Promise(r=>{$r.add(e={c:t,f:r})}),abort(){$r.delete(e)}}}function oe(t,e){t.appendChild(e)}function sa(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function fo(t){const e=ae("style");return e.textContent="/* empty */",ho(sa(t),e),e.sheet}function ho(t,e){return oe(t.head||t,e),e.sheet}function ue(t,e,r){t.insertBefore(e,r||null)}function ce(t){t.parentNode&&t.parentNode.removeChild(t)}function Qr(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function ae(t){return document.createElement(t)}function nt(t){return document.createTextNode(t)}function ke(){return nt(" ")}function Zt(){return nt("")}function ve(t,e,r,s){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r,s)}function j(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function po(t){return Array.from(t.childNodes)}function Ht(t,e){e=""+e,t.data!==e&&(t.data=e)}function dt(t,e){t.value=e??""}function lt(t,e,r,s){r==null?t.style.removeProperty(e):t.style.setProperty(e,r,s?"important":"")}function ri(t,e,r){for(let s=0;s<t.options.length;s+=1){const n=t.options[s];if(n.__value===e){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function mo(t){const e=t.querySelector(":checked");return e&&e.__value}function _o(t,e,{bubbles:r=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:s})}const $n=new Map;let kn=0;function go(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function vo(t,e){const r={stylesheet:fo(e),rules:{}};return $n.set(t,r),r}function Hn(t,e,r,s,n,i,a,o=0){const l=16.666/s;let c=`{
`;for(let _=0;_<=1;_+=l){const h=e+(r-e)*i(_);c+=_*100+`%{${a(h,1-h)}}
`}const p=c+`100% {${a(r,1-r)}}
}`,f=`__svelte_${go(p)}_${o}`,y=sa(t),{stylesheet:d,rules:m}=$n.get(y)||vo(y,t);m[f]||(m[f]=!0,d.insertRule(`@keyframes ${f} ${p}`,d.cssRules.length));const u=t.style.animation||"";return t.style.animation=`${u?`${u}, `:""}${f} ${s}ms linear ${n}ms 1 both`,kn+=1,f}function Zn(t,e){const r=(t.style.animation||"").split(", "),s=r.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),n=r.length-s.length;n&&(t.style.animation=s.join(", "),kn-=n,kn||yo())}function yo(){is(()=>{kn||($n.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&ce(e)}),$n.clear())})}let Wr;function Lt(t){Wr=t}function bo(){if(!Wr)throw new Error("Function called outside component initialization");return Wr}const br=[],kt=[];let kr=[];const qn=[],wo=Promise.resolve();let Wn=!1;function $o(){Wn||(Wn=!0,wo.then(as))}function ht(t){kr.push(t)}function Ut(t){qn.push(t)}const Un=new Set;let _r=0;function as(){if(_r!==0)return;const t=Wr;do{try{for(;_r<br.length;){const e=br[_r];_r++,Lt(e),ko(e.$$)}}catch(e){throw br.length=0,_r=0,e}for(Lt(null),br.length=0,_r=0;kt.length;)kt.pop()();for(let e=0;e<kr.length;e+=1){const r=kr[e];Un.has(r)||(Un.add(r),r())}kr.length=0}while(br.length);for(;qn.length;)qn.pop()();Wn=!1,Un.clear(),Lt(t)}function ko(t){if(t.fragment!==null){t.update(),De(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ht)}}function Ao(t){const e=[],r=[];kr.forEach(s=>t.indexOf(s)===-1?e.push(s):r.push(s)),r.forEach(s=>s()),kr=e}let zr;function ia(){return zr||(zr=Promise.resolve(),zr.then(()=>{zr=null})),zr}function Vr(t,e,r){t.dispatchEvent(_o(`${e?"intro":"outro"}${r}`))}const _n=new Set;let Vt;function st(){Vt={r:0,c:[],p:Vt}}function it(){Vt.r||De(Vt.c),Vt=Vt.p}function fe(t,e){t&&t.i&&(_n.delete(t),t.i(e))}function we(t,e,r,s){if(t&&t.o){if(_n.has(t))return;_n.add(t),Vt.c.push(()=>{_n.delete(t),s&&(r&&t.d(1),s())}),t.o(e)}else s&&s()}const aa={duration:0};function Gn(t,e,r){const s={direction:"in"};let n=e(t,r,s),i=!1,a,o,l=0;function c(){a&&Zn(t,a)}function p(){const{delay:y=0,duration:d=300,easing:m=ss,tick:u=Se,css:_}=n||aa;_&&(a=Hn(t,0,1,d,y,m,_,l++)),u(0,1);const h=ta()+y,g=h+d;o&&o.abort(),i=!0,ht(()=>Vr(t,!0,"start")),o=na(w=>{if(i){if(w>=g)return u(1,0),Vr(t,!0,"end"),c(),i=!1;if(w>=h){const k=m((w-h)/d);u(k,1-k)}}return i})}let f=!1;return{start(){f||(f=!0,Zn(t),tr(n)?(n=n(s),ia().then(p)):p())},invalidate(){f=!1},end(){i&&(c(),i=!1)}}}function er(t,e,r,s){let i=e(t,r,{direction:"both"}),a=s?0:1,o=null,l=null,c=null,p;function f(){c&&Zn(t,c)}function y(m,u){const _=m.b-a;return u*=Math.abs(_),{a,b:m.b,d:_,duration:u,start:m.start,end:m.start+u,group:m.group}}function d(m){const{delay:u=0,duration:_=300,easing:h=ss,tick:g=Se,css:w}=i||aa,k={start:ta()+u,b:m};m||(k.group=Vt,Vt.r+=1),"inert"in t&&(m?p!==void 0&&(t.inert=p):(p=t.inert,t.inert=!0)),o||l?l=k:(w&&(f(),c=Hn(t,a,m,_,u,h,w)),m&&g(0,1),o=y(k,_),ht(()=>Vr(t,m,"start")),na(S=>{if(l&&S>l.start&&(o=y(l,_),l=null,Vr(t,o.b,"start"),w&&(f(),c=Hn(t,a,o.b,o.duration,0,h,i.css))),o){if(S>=o.end)g(a=o.b,1-a),Vr(t,o.b,"end"),l||(o.b?f():--o.group.r||De(o.group.c)),o=null;else if(S>=o.start){const A=S-o.start;a=o.a+o.d*h(A/o.duration),g(a,1-a)}}return!!(o||l)}))}return{run(m){tr(i)?ia().then(()=>{i=i({direction:m?"in":"out"}),d(m)}):d(m)},end(){f(),o=l=null}}}function oa(t,e){const r=e.token={};function s(n,i,a,o){if(e.token!==r)return;e.resolved=o;let l=e.ctx;a!==void 0&&(l=l.slice(),l[a]=o);const c=n&&(e.current=n)(l);let p=!1;e.block&&(e.blocks?e.blocks.forEach((f,y)=>{y!==i&&f&&(st(),we(f,1,1,()=>{e.blocks[y]===f&&(e.blocks[y]=null)}),it())}):e.block.d(1),c.c(),fe(c,1),c.m(e.mount(),e.anchor),p=!0),e.block=c,e.blocks&&(e.blocks[i]=c),p&&as()}if(lo(t)){const n=bo();if(t.then(i=>{Lt(n),s(e.then,1,e.value,i),Lt(null)},i=>{if(Lt(n),s(e.catch,2,e.error,i),Lt(null),!e.hasCatch)throw i}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}}function la(t,e,r){const s=e.slice(),{resolved:n}=t;t.current===t.then&&(s[t.value]=n),t.current===t.catch&&(s[t.error]=n),t.block.p(s,r)}function jt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Mt(t,e,r){const s=t.$$.props[e];s!==void 0&&(t.$$.bound[s]=r,r(t.$$.ctx[s]))}function Ge(t){t&&t.c()}function xe(t,e,r){const{fragment:s,after_update:n}=t.$$;s&&s.m(e,r),ht(()=>{const i=t.$$.on_mount.map(Wi).filter(tr);t.$$.on_destroy?t.$$.on_destroy.push(...i):De(i),t.$$.on_mount=[]}),n.forEach(ht)}function Ke(t,e){const r=t.$$;r.fragment!==null&&(Ao(r.after_update),De(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Eo(t,e){t.$$.dirty[0]===-1&&(br.push(t),$o(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ct(t,e,r,s,n,i,a,o=[-1]){const l=Wr;Lt(t);const c=t.$$={fragment:null,ctx:[],props:i,update:Se,not_equal:n,bound:ti(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ti(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};a&&a(c.root);let p=!1;if(c.ctx=r?r(t,e.props||{},(f,y,...d)=>{const m=d.length?d[0]:y;return c.ctx&&n(c.ctx[f],c.ctx[f]=m)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](m),p&&Eo(t,f)),y}):[],c.update(),p=!0,De(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const f=po(e.target);c.fragment&&c.fragment.l(f),f.forEach(ce)}else c.fragment&&c.fragment.c();e.intro&&fe(t.$$.fragment),xe(t,e.target,e.anchor),as()}Lt(l)}class It{constructor(){Fn(this,"$$");Fn(this,"$$set")}$destroy(){Ke(this,1),this.$destroy=Se}$on(e,r){if(!tr(r))return Se;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(r),()=>{const n=s.indexOf(r);n!==-1&&s.splice(n,1)}}$set(e){this.$$set&&!co(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const So="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(So);const Co=(t,e)=>{const{src:r,hover:s}=e,n=()=>{t.src=s},i=()=>{t.src=r};return i(),t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",i),{destroy(){t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",i)}}},zt=(t,{width:e="1px",color:r="white"}={width:"1px",color:"white"})=>{const s=()=>{t.style.border=`${e} solid ${r}`},n=()=>{t.style.border=`${e} solid transparent`};return t.addEventListener("mouseenter",s),t.addEventListener("mouseleave",n),n(),{destroy(){t.removeEventListener("mouseenter",s),t.removeEventListener("mouseleave",n)}}},Io=(t,e)=>{t.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",setTimeout(()=>{t.src=e},1)},Er=(t,e={accept:"",cb:null,multiple:!1})=>{const{accept:r,cb:s,multiple:n}=e,i=()=>{const a=document.createElement("input");a.type="file",a.accept=r,n&&a.setAttribute("multiple",""),a.addEventListener("change",()=>{s(Array.from(a.files))}),a.click()};return t.addEventListener("click",i),{destroy(){t.removeEventListener("click",i)}}},Sr=(t,e={accept:"",cb:null,multiple:!1})=>{const{accept:r,cb:s,multiple:n}=e,i=t.style.backgroundColor,a=()=>{t.dispatchEvent(new CustomEvent("mouseenter")),t.style.backgroundColor="#404040"},o=()=>{t.dispatchEvent(new CustomEvent("mouseleave")),t.style.backgroundColor=i},l=p=>{p.preventDefault()},c=p=>{const f=[];p.preventDefault(),p.dataTransfer.items&&p.dataTransfer.items.length>0?[...p.dataTransfer.items].forEach(y=>{if(y.kind==="file"){const d=y.getAsFile();r.startsWith(".")?d.name.endsWith(r)&&f.push(d):d.type.match(r)&&f.push(d)}}):[...p.dataTransfer.files].forEach(y=>{r.startsWith(".")?y.name.endsWith(r)&&f.push(y):y.type.match(r)&&f.push(y)}),s(n?f:[f[0]])};return t.addEventListener("dragenter",a),t.addEventListener("dragleave",o),t.addEventListener("dragover",l),t.addEventListener("drop",c),{destroy(){t.removeEventListener("mouseenter",a),t.removeEventListener("mouseleave",o),t.removeEventListener("dragover",l),t.removeEventListener("drop",c)}}},gr=[];function Or(t,e=Se){let r;const s=new Set;function n(o){if(vt(t,o)&&(t=o,r)){const l=!gr.length;for(const c of s)c[1](),gr.push(c,t);if(l){for(let c=0;c<gr.length;c+=2)gr[c][0](gr[c+1]);gr.length=0}}}function i(o){n(o(t))}function a(o,l=Se){const c=[o,l];return s.add(c),s.size===1&&(r=e(n,i)||Se),o(t),()=>{s.delete(c),s.size===0&&r&&(r(),r=null)}}return{set:n,update:i,subscribe:a}}const Po="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAMCAYAAABm+U3GAAAAAXNSR0IArs4c6QAAAF5JREFUOI2tksECwCAIQmH//890aTvUTKw8GrxIoyQBAEniQr28Z2zcgAIAp8Zm8pHB6OAE+iU+gUeeyVyBr7S/RgeeacJEK6Nzcfmp7qjSBUX/O5t/efMOtFTq5eob3NNX+dvBeeAAAAAASUVORK5CYII=",ni="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAIRJREFUSIntlEsOgDAIRMF4/yvjRk1Fygy6MZHZKZ/XgaYira9JK8lmZmehqo7/ju9IyxNANU5Bsgajg1kehCAHDCiFMCOKduLr1krTDKa7yk6QmH28hrBqiIjEL0Cky+3yiext80/MLY4aTAuTA/kYHFc2BgZAQRCI2Qu9eOSIcdz6mTar61wTcDDk9gAAAABJRU5ErkJggg==",si="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAIpJREFUSIntlEsOwCAIRKHpQT3a3LSuTCxBGNpNkzorP+hzwCCy9TVpJbi1do0xAJ3XxtzT8QRQ3acg0QWzg1VcCskcMKAQwqTIq4k9d1YujWAAFICWnWRi6vEawmpDRMTvAJ5uv8sGsr/NthirtHetDkYPsntpuqI0MAAKkoGYutCFzxwxjrd+pg6/w1SfCm+xxQAAAABJRU5ErkJggg==",Oo="/jext-reborn/assets/chest-dc4b25ff.png",Ro="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAFxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdZkuQoDP3nFHMEkBDLcVgj5gZz/Hkshsyq6umqjrHDNinL4klPSKRq//zd1V84iLxWVnxw0TmNw0YbKWEQ9DrivBtt530dzzvzLlfnBUHEePL66dPWT5DL/eDYye9yFfYbCtuQOYbnwWPmMa6vICGnJTd2G4ptDVwM/hVq3oaKfXFpX/a6N4/xW70JPKJUBRMxUWPDet7DQsDjIk5DjrvmAD0zJcxR4SFstjEE5M2956nfAv0e/D1SH6N/Rh+CT2nL+UMs3cOa+/qFkQ9yPtPQ68R8ENH7i+S1/+TOvnqvofe2vEvWIaJuZ9QM9hOhoZgRcp6fOZwel2Ds5xlxBp10AeVVF51xFhMNIfpdGWuqSaabNp/FFEC01MjjSVSIpyywp0iFB092nKaT58iVA3gr1BSos0wHi5nzxjlfMQEzVwNVMjBmJv2/ONV/vfzJqXovI0RGhxMr4KKR14AxmBt3aIEQ0zdvMgP8nJt+/ZI/SFUwKDPMAQ4mnZeJLObmFk+eGXqC51pCRvm6DSBEmFsAxjAY0M6wGGe0R7UxBnEMICgBObGlDAaMCFWAJMvsSHnCksHc+MabqUtCjoYYtQlECDv24CZyAlnWCvLH24AcSsJiRcSJl6AkSnLsrBPnnHejyCXP3nrxznsffPQpcLBBggs+hBBDihQZNVCiiz6GGGNKpBImSrCVoJ8gyZQ52yzZZZ9DjjkVpE+xRYorvoQSS6pUuaJMVFd9DTXW1IxqqBTNNmmu+RZabKkj1zp326W77nvosafD2mb10/kD1sxmjSZTQ88f1iBV3j8mzCgnMjgDY2QNGPeDASQ0Dc50MNbSYG5wpiNhUQgBpAxuVDWDMVBomyHp5nB3mfsWb0rCt3ij3zGnBnX/B3MK1H3m7QvW6uhzZTK2VuGIqWasvtYpII8CcgCoxzhAt1MbA8rNlx6dnj+CRjWaCi1xpSNMfenWwFXJJ93C6IWPULcp7LFxOVKK1VgBWwjwGFhtirJLVukKW5wDgasvQqlTOIB2KksDraLJ+l5Zn+wj9dKXckbrT590A/YDR2gWgM7FhyFVUyw8QaeSj08hLv+TzdejZbE45P2DtC437Sj+zySy9AJK9aOW84JoY3UHNwrSFuZrT5UFsblYrkm7TOZYjy/ex/V51bH1GzraYlWw2PmqO79GckBFWZEfLflE7WHosqFMCY/UtTv9Rh+TN9fkIdMeWd1MdGXJ52sgPnJyvkR9uc+HzkyPttTNB5JNq4elWnY+Wg7hyfOm0xxlc4Pil/MS85kHpX3S75I7CeaRmWtyZEq4SOPvkKpfQf0pUvUrqN9EWh6kClDDDYD1G6pDITrqei+zRK/rCcK9+krsrG4W6pXrCMHjVvN515RoO3Zgp3xscSiNH6Hi2pe/KE/IzCcKZetGxOMYKGEXFVe6P6rNpFXYurXdnjgOs7sERW7uyIuZ5mI83KCg7EBUikjIm42y5SaWu0JzX+FEpjZ36HBrshbYbrxKP+6UcIODLrAToR4PUM/c4pxPBTbrJa7h2vbItqfS5vsx2WWxoIDlT7W6JC79IpL1GULV2q3VP4WpvsT5BzDVlzjRUh6idXe3V/FOCvyJOUI0xenaaFX5YmBZqlm38lj9+OS8e18pFxJiVJPbGWnRZ85ET/IlwpRn/rRThEy56zDWatTIkYhefqRmtyQx9UU11aclnWR6f6pRLp+ccygwdwHXp9ySjzdBn2VdDWa8FSitCpmxk7orqm7qbXMv69ftPk9c5YvoqS/D+Sm8WP7P3sJ2NKlHblZ4W2aVbn5I2hlXXjLzu/jUN/B8C596B3jxtbyTYmwuT/fvi7xsbrPunGRuIqRlbNKu3MpSLhYbplM29lKpnG7yYqO+F2S5q7+Vrepem0XbHYT5brKWV0mHd5jqS5x/AFN9ifOnMLl3VSP+R/wLwQRCBdriyuEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDUBSFT1ulpVQc2kHEIUPVxYKoiKNWoQgVQq3QqoPJS/+gSUOS4uIouBYc/FmsOrg46+rgKgiCPyCOTk6KLlLifUmhRYwPLu/jvHcO990H+JtVppo944CqWUYmlRRy+VUh+IowQlSjiErM1OdEMQ3P9XUPH9/vEjzL+96fq08pmAzwCcSzTDcs4g3i6U1L57xPHGNlSSE+Jx4zqEHiR67LLr9xLjns55kxI5uZJ44RC6UulruYlQ2VeIo4rqga5ftzLiuctzir1Tpr98lfGCloK8tcpxpCCotYgggBMuqooAoLCdo1Ukxk6Dzp4R90/CK5ZHJVwMixgBpUSI4f/A9+z9YsTk64SZEk0Pti2x/DQHAXaDVs+/vYtlsnQOAZuNI6/loTmPkkvdHR4kdA/zZwcd3R5D3gcgcYeNIlQ3KkAJW/WATez+ib8kD0FgivuXNrn+P0AcjSrNI3wMEhMFKi7HWPd4e65/bvnfb8fgBGIXKVL4xNQwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+YKCAonM+tPNNQAAAELSURBVBjTNcE9SAJhAIDh9w5L+gSRMDUlIeiHhhAuTAocg6CWNgfnoKGIppaWyCgaAt1CCCvhIBCqrSCEIi4olKvxKjuzHBpEkA6PsKnnkfKPh50VY5UpobDgTRJ1RbkQR1iNNuVbA2ksM9KZVCYwmy+M90Z41aoMzfXRqlgs+zaQw4qH4v41PzmbYfcoLqebwtoVT1kDIQRyV7eTTltCU0s8W/c0glXM8zpvZpVscw9H3DlD/1KQyG6MnfVtpF+ZG71I6jLFp1zDESKAVnngJHfMx9k3AMmeBLObcRL2InLYM4hPBNDUEv/eT+tYNZv0XRo53zogFBf4p71k9C0KZZWBeR+G/oU/JvgD3DRc8fJrLSwAAAAASUVORK5CYII=",ca="/jext-reborn/assets/default_disc-59365372.png",No="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAFxJREFUOI3tkMsRgDAIBddyUgDtUBztUADl4EUvMSSOHnVnuPB5D4Cf12x9QlUTwMzKnlJgMDw1uyAiCZRxGjwSUdU8amt6kdlweZeIZGsNgIjA3dc/GIncXvvD7Gl5L5Lexty0AAAAAElFTkSuQmCC",To="/jext-reborn/assets/delete_btn_hover-386c7405.png",Do="/jext-reborn/assets/delete_btn-871175bc.png",Pn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR42nWSsQ1CMQxEvQ4rINFR0SOBxAgpaRgA/Q3YhelAF+mi9+/nF1YS2zn7zq7v+/H7tEu31/XYbea7nw6ruM/SRYlM0HtZluEzIO+KycporsI3qzGHeSW01tpwsJukkl0MAAcV0GdyJ6AKpa/cVlZyq9SG9yFicpR4TKDipOmzMjnH525m/g6QTp5uOT8zNt2D5J68SaVyPORsYPtJxVrVjBcraHSkwDH3TUxnguyZu1pRkD1v541wpjHb0MokKkz+WWgDkDtgkfbm7wJ/9oUoq3qXqFkAAAAASUVORK5CYII=",ua="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAFJJREFUGJWNjsENwDAIA6/jZADW8XCswwCMQz9tVZREiiUe4JMNHOgCkFQA7t7u37IAphDMrIDtvCFbUFI9HkvwD7QHzazGGABkJhHR/Aa2ilPdhC8vkoVxguIAAAAASUVORK5CYII=",fa="/jext-reborn/assets/generate_btn-516338f5.png",jo="/jext-reborn/assets/loading-9ab4977f.webp",os="/jext-reborn/assets/pack_icon-57c0be34.png",zo="data:text/plain;base64,IyBIb3cgdG8gc2V0dXAgdGhlIHBsdWdpbg0KDQojIyBPbmNlIHlvdSBoYXZlIGRvd25sb2FkZWQgdGhpcyBmaWxlIHB1dCB0aGUgZGlzY3MuanNvbiBmaWxlIGluIHRoZSByb290IG9mIHBsdWdpbiBkaXJlY3RvcnkNCg0KYGBgDQpTZXJ2ZXINCuKUlOKUgOKUgOKUgC4uLg0K4pSU4pSA4pSA4pSAcGx1Z2lucw0KICAgIOKUlOKUgOKUgOKUgEp1a2Vib3hFeHRlbmRlZFJlYm9ybg0KICAgIOKUgiAgIOKUlOKUgOKUgOKUgGRpc2NzLmpzb24NCgnilIIJ4pSU4pSA4pSA4pSAY29uZmlnLmpzb24NCgnilIIJ4pSU4pSA4pSA4pSALi4uDQoJ4pSU4pSA4pSA4pSASmV4dC5qYXINCgnilJTilIDilIDilIAuLi4NCmBgYA0KDQojIyBBcyBmb3IgdGhlIHJlc291cmNlIHBhY2sgZmlsZSB5b3UgY2FuIHNldCBpdCB1cCBieSBlZGl0aW5nIHRoZSBzZXJ2ZXIgY29uZmlnIGZpbGUNCg0KRXhhbXBsZSB1cGxvYWQgeW91ciBmaWxlIHRvIGRyb3Bib3guDQpHZW5lcmF0ZSBhIGRvd25sb2FkIHVybCBhbmQgcmVwbGFjZSB0aGUgZGw9MCBhdCB0aGUgZW5kIG9mIHRoZSB1cmwgd2l0aCBhIGRsPTENCg0KRXhhbXBsZToNCm9yaWdpbmFsIHVybDogaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vcy9tc2llN2h1Y25wYmtmeS90ZXN0LlBORz9kbD0wDQplZGl0ZWQgICB1cmw6IGh0dHBzOi8vd3d3LmRyb3Bib3guY29tL3MvbXNpZTdodWNucGJrZnkvdGVzdC5QTkc/ZGw9MQ0KDQp0aGVuIGluIHRoZSBzZXJ2ZXIucHJvcGVydGllcyBmaWxlIHNldCB0aGUgc2VydmVyLXJlc291cmNlLXBhY2sgdG8gdGhlIGVkaXRlZCB1cmwNCg0KIyBZb3VyIHBsdWdpbiBpcyBub3cgcmVhZHkgdG8gZ28sIHJlc3RhcnQgdGhlIHNlcnZlciB0byBzdGFydCB1c2luZyBqZXh0",da="data:image/gif;base64,R0lGODdhEAAQAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CI4QfccuZDB2MarZq18sIc7B9oGc55PSEaKVSXUlK3Tma7XUXACH5BAkKAAAALAAAAAAQABAAgAAAAP///wIjhB8Zx6jfjGKTrgiSw1hz+zVeKF1kZp4jubIpaKWV+MydbRQAIfkECQoAAAAsAAAAABAAEACAAAAA////AiOEHxnHqN+MYpOuCJLDO1+uaZwjjl5peqm1St+KphU8yy9TAAAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CI4QfGceo34xik64IksM7X65pnCOOXjlCpsemFxqVcIeA630XACH5BAkKAAAALAAAAAAQABAAgAAAAP///wIihB8Zx6jfjGKTrgiSwztfrmmcI46eaaEdWrKf2YJxBLlRAQAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CIoQfGceo34xik64IEt56t+5ZoThKVwmGqXquzpdW8ONabgEAIfkECQoAAAAsAAAAABAAEACAAAAA////AiOEbxHIrNoieDLC6hY+dyftPWAlhktnaWjTrdw4oRQrzlLJFAAh+QQJCgAAACwAAAIAEAAOAIAAAAD///8CI4RjmajBep6DcAJL43054r59nSNmU9kw6CJxafWRJkmDoQsUADs=",Cr=Or(15),Ur=Or("your_pack_name"),Jn=Or(os),Qt=Or([]);function ii(t,e,r){const s=t.slice();return s[5]=e[r],s[6]=e,s[7]=r,s}function ai(t){let e,r,s;function n(){return t[3](t[5])}function i(o){t[4](o,t[5],t[6],t[7])}let a={id:t[7],onRemove:n};return t[5]!==void 0&&(a.song=t[5]),e=new Od({props:a}),kt.push(()=>Mt(e,"song",i)),{c(){Ge(e.$$.fragment)},m(o,l){xe(e,o,l),s=!0},p(o,l){t=o;const c={};l&1&&(c.onRemove=n),!r&&l&1&&(r=!0,c.song=t[5],Ut(()=>r=!1)),e.$set(c)},i(o){s||(fe(e.$$.fragment,o),s=!0)},o(o){we(e.$$.fragment,o),s=!1},d(o){Ke(e,o)}}}function Bo(t){let e,r,s,n,i,a,o,l,c,p=jt(t[0]),f=[];for(let d=0;d<p.length;d+=1)f[d]=ai(ii(t,p,d));const y=d=>we(f[d],1,1,()=>{f[d]=null});return{c(){e=ae("div"),r=ae("div");for(let d=0;d<f.length;d+=1)f[d].c();s=ke(),n=ae("hr"),i=ke(),a=ae("div"),a.innerHTML='<h1 class="noselect svelte-1jovf65">+</h1>',j(r,"id","songscontainer"),j(n,"class","hidden"),j(a,"class","addsongsbtn svelte-1jovf65"),j(e,"id","content"),j(e,"class","svelte-1jovf65")},m(d,m){ue(d,e,m),oe(e,r);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(r,null);oe(e,s),oe(e,n),oe(e,i),oe(e,a),o=!0,l||(c=[Ve(Er.call(null,a,{accept:"audio/*",cb:t[1],multiple:!0})),Ve(Sr.call(null,a,{accept:"audio/*",cb:t[1],multiple:!0})),ve(a,"keydown",null)],l=!0)},p(d,[m]){if(m&5){p=jt(d[0]);let u;for(u=0;u<p.length;u+=1){const _=ii(d,p,u);f[u]?(f[u].p(_,m),fe(f[u],1)):(f[u]=ai(_),f[u].c(),fe(f[u],1),f[u].m(r,null))}for(st(),u=p.length;u<f.length;u+=1)y(u);it()}},i(d){if(!o){for(let m=0;m<p.length;m+=1)fe(f[m]);o=!0}},o(d){f=f.filter(Boolean);for(let m=0;m<f.length;m+=1)we(f[m]);o=!1},d(d){d&&ce(e),Qr(f,d),l=!1,De(c)}}}function Fo(t,e,r){let s;Dt(t,Qt,l=>r(0,s=l));const n=l=>{if(!l||l.length===0)return;const c=[];for(let p=0;p<l.length;p++)c.push({uploadedFile:l[p],name:"Disc Name",author:"Disc Author",lores:`This is the lore of the disc

You can have multiple lines

If you don't want any lores you can leave this empty`,namespace:"",creeperDrop:!0,lootTables:[],fragmentLootTables:[],normalize:!1,isMono:!0,oggFile:null,monoFile:null,texture:null,fragmentTexture:null});Qt.update(p=>p=[...p,...c])},i=l=>Qt.update(c=>c=c.filter(p=>p!=l)),a=l=>i(l);function o(l,c,p,f){p[f]=l,Qt.set(s)}return[s,n,i,a,o]}class Uo extends It{constructor(e){super(),Ct(this,e,Fo,Bo,vt,{})}}function oi(t,e,r){const s=t.slice();return s[6]=e[r],s}function li(t){let e,r=jt(t[1]),s=[];for(let n=0;n<r.length;n+=1)s[n]=ci(oi(t,r,n));return{c(){e=ae("div");for(let n=0;n<s.length;n+=1)s[n].c();j(e,"id","openmenu"),j(e,"class","svelte-14kdzrj")},m(n,i){ue(n,e,i);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(n,i){if(i&18){r=jt(n[1]);let a;for(a=0;a<r.length;a+=1){const o=oi(n,r,a);s[a]?s[a].p(o,i):(s[a]=ci(o),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}},d(n){n&&ce(e),Qr(s,n)}}}function ci(t){let e,r=t[6]+"",s,n,i;function a(){return t[5](t[6])}return{c(){e=ae("div"),s=nt(r),j(e,"class","selectopt svelte-14kdzrj")},m(o,l){ue(o,e,l),oe(e,s),n||(i=[ve(e,"click",a),ve(e,"keydown",null)],n=!0)},p(o,l){t=o,l&2&&r!==(r=t[6]+"")&&Ht(s,r)},d(o){o&&ce(e),n=!1,De(i)}}}function Mo(t){let e,r,s,n,i,a,o,l,c,p,f,y,d=t[2]&&li(t);return{c(){d&&d.c(),e=ke(),r=ae("div"),s=ae("div"),n=ae("div"),i=nt(t[0]),a=ke(),o=ae("div"),l=ae("img"),j(n,"id","selectedoption"),j(n,"class","svelte-14kdzrj"),Qe(l.src,c=Po)||j(l,"src",c),j(l,"alt","🢓"),j(l,"id","arrow"),j(l,"class",p=gt(t[2]?"active":"")+" svelte-14kdzrj"),j(o,"id","arrowcontainer"),j(o,"class","svelte-14kdzrj"),j(s,"id","row"),j(s,"class","svelte-14kdzrj"),j(r,"id","container"),j(r,"class","svelte-14kdzrj")},m(m,u){d&&d.m(m,u),ue(m,e,u),ue(m,r,u),oe(r,s),oe(s,n),oe(n,i),oe(s,a),oe(s,o),oe(o,l),f||(y=[ve(o,"click",t[3]),ve(o,"keydown",null)],f=!0)},p(m,[u]){m[2]?d?d.p(m,u):(d=li(m),d.c(),d.m(e.parentNode,e)):d&&(d.d(1),d=null),u&1&&Ht(i,m[0]),u&4&&p!==(p=gt(m[2]?"active":"")+" svelte-14kdzrj")&&j(l,"class",p)},i:Se,o:Se,d(m){m&&(ce(e),ce(r)),d&&d.d(m),f=!1,De(y)}}}function Lo(t,e,r){let{options:s}=e,{selected:n=s[0]}=e,i=!1;const a=()=>r(2,i=!i),o=c=>{r(0,n=c),r(2,i=!1)},l=c=>o(c);return t.$$set=c=>{"options"in c&&r(1,s=c.options),"selected"in c&&r(0,n=c.selected)},[n,s,i,a,o,l]}class Vo extends It{constructor(e){super(),Ct(this,e,Lo,Mo,vt,{options:1,selected:0})}}function St(t,{delay:e=0,duration:r=400,easing:s=ss}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:s,css:i=>`opacity: ${i*n}`}}function xo(t){return{c:Se,m:Se,p:Se,d:Se}}function Ko(t){let e,r;return{c(){e=ae("img"),Qe(e.src,r=t[6])||j(e,"src",r),j(e,"alt",t[1]),j(e,"class","svelte-72nmcc")},m(s,n){ue(s,e,n)},p(s,n){n&2&&j(e,"alt",s[1])},d(s){s&&ce(e)}}}function Ho(t){let e,r;return{c(){e=ae("img"),Qe(e.src,r=da)||j(e,"src",r),j(e,"alt",t[1]),j(e,"class","svelte-72nmcc")},m(s,n){ue(s,e,n)},p(s,n){n&2&&j(e,"alt",s[1])},d(s){s&&ce(e)}}}function Zo(t){let e,r,s,n,i,a,o,l,c={ctx:t,current:null,token:null,hasCatch:!1,pending:Ho,then:Ko,catch:xo,value:6};return oa(t[3],c),{c(){e=ae("div"),c.block.c(),r=ke(),s=ae("p"),n=nt(t[1]),j(e,"class",i=gt(t[0]?"selected":"")+" svelte-72nmcc")},m(p,f){ue(p,e,f),c.block.m(e,c.anchor=null),c.mount=()=>e,c.anchor=r,oe(e,r),oe(e,s),oe(s,n),o||(l=[ve(e,"click",function(){tr(t[2])&&t[2].apply(this,arguments)}),ve(e,"keydown",null)],o=!0)},p(p,[f]){t=p,la(c,t,f),f&2&&Ht(n,t[1]),f&1&&i!==(i=gt(t[0]?"selected":"")+" svelte-72nmcc")&&j(e,"class",i)},i(p){p&&(a||ht(()=>{a=Gn(e,St,{}),a.start()}))},o:Se,d(p){p&&ce(e),c.block.d(),c.token=null,c=null,o=!1,De(l)}}}function qo(t,e,r){let{value:s=!1}=e,{image:n}=e,{name:i}=e,{onClick:a=()=>{}}=e;const l=(async c=>{const f=await(await fetch(c)).blob();return URL.createObjectURL(f)})(n);return t.$$set=c=>{"value"in c&&r(0,s=c.value),"image"in c&&r(4,n=c.image),"name"in c&&r(1,i=c.name),"onClick"in c&&r(2,a=c.onClick)},[s,i,a,l,n]}class ha extends It{constructor(e){super(),Ct(this,e,qo,Zo,vt,{value:0,image:4,name:1,onClick:2})}}const ui=new Map([[4,"1.14 - 1.14.4"],[5,"1.15 - 1.16.1"],[6,"1.16.2 - 1.16.5"],[7,"1.17 - 1.17.1"],[8,"1.18 - 1.18.2"],[9,"1.19 - 1.19.2"],[12,"1.19.3"],[13,"1.19.4"],[15,"1.20 - 1.20.1"]]),Gr=[{source:"archaeology/trail_ruins_rare",img:"loottable_icons/Trail_Ruins.webp",name:"Trail Ruins",minVersion:15},{source:"chests/ancient_city,chests/ancient_city_ice_box",img:"loottable_icons/Ancient_City.webp",name:"Ancient City",minVersion:9},{source:"chests/bastion_bridge,chests/bastion_hoglin_treasure,chests/bastion_other,chests/bastion_treasure",img:"loottable_icons/Bastion_Remnant.webp",name:"Bastion Remnant",minVersion:5},{source:"chests/desert_pyramid",img:"loottable_icons/Desert_pyramid.webp",name:"Desert Pyramid",minVersion:4},{source:"chests/simple_dungeon",img:"loottable_icons/Dungeon.webp",name:"Dungeon",minVersion:4},{source:"chests/end_city_treasure",img:"loottable_icons/End_City.webp",name:"End City",minVersion:4},{source:"chests/igloo_chest",img:"loottable_icons/Igloo.webp",name:"Igloo",minVersion:4},{source:"chests/jungle_temple",img:"loottable_icons/Jungle_pyramid.webp",name:"Jungle Temple",minVersion:4},{source:"chests/nether_bridge",img:"loottable_icons/Nether_Fortress.webp",name:"Nether Fortress",minVersion:4},{source:"chests/ruined_portal",img:"loottable_icons/Nether_portal.webp",name:"Ruined Portal",minVersion:5},{source:"chests/pillager_outpost",img:"loottable_icons/Pillager_outpost.webp",name:"Pillager Outpost",minVersion:4},{source:"chests/shipwreck_map,chests/shipwreck_supply,chests/shipwreck_treasure",img:"loottable_icons/Shipwreck.webp",name:"Shipwreck",minVersion:4},{source:"chests/stronghold_corridor,chests/stronghold_crossing",img:"loottable_icons/Stronghold.webp",name:"Stronghold",minVersion:4},{source:"chests/underwater_ruin_big,chests/underwater_ruin_small",img:"loottable_icons/Underwater_ruin.webp",name:"Underwater Ruins",minVersion:4},{source:"chests/village/village_plains_house,chests/village/village_savanna_house,chests/village/village_desert_house,chests/village/village_snowy_house,chests/village/village_taiga_house",img:"loottable_icons/Village.webp",name:"Village",minVersion:4},{source:"chests/woodland_mansion",img:"loottable_icons/Woodland_Mansion.webp",name:"Woodland Mansion",minVersion:4},{source:"chests/abandoned_mineshaft",img:"loottable_icons/Mineshaft.webp",name:"Mineshaft",minVersion:4}];function fi(t,e,r){const s=t.slice();return s[6]=e[r],s}function di(t){let e,r,s=`url(${Pn})`,n,i,a;return{c(){e=ae("div"),j(e,"class","popupbackground svelte-1l5tnjn"),lt(e,"background-image",s)},m(o,l){ue(o,e,l),n=!0,i||(a=[ve(e,"click",t[4]),ve(e,"keydown",null)],i=!0)},p:Se,i(o){n||(o&&ht(()=>{n&&(r||(r=er(e,St,{},!0)),r.run(1))}),n=!0)},o(o){o&&(r||(r=er(e,St,{},!1)),r.run(0)),n=!1},d(o){o&&ce(e),o&&r&&r.end(),i=!1,De(a)}}}function hi(t){let e,r,s,n,i,a,o,l=jt(Gr),c=[];for(let f=0;f<l.length;f+=1)c[f]=mi(fi(t,l,f));const p=f=>we(c[f],1,1,()=>{c[f]=null});return{c(){e=ae("div"),r=ae("div");for(let f=0;f<c.length;f+=1)c[f].c();s=ke(),n=ae("div"),n.innerHTML='<div id="content" class="svelte-1l5tnjn"><p id="generate_text" class="noselect svelte-1l5tnjn">OK</p></div>',j(r,"class","popupcontainer svelte-1l5tnjn"),j(n,"id","messagepopupconfirm"),j(n,"class","popupconfirm svelte-1l5tnjn"),j(e,"class","popup svelte-1l5tnjn")},m(f,y){ue(f,e,y),oe(e,r);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(r,null);oe(e,s),oe(e,n),i=!0,a||(o=[ve(n,"click",t[4]),ve(n,"keydown",null)],a=!0)},p(f,y){if(y&13){l=jt(Gr);let d;for(d=0;d<l.length;d+=1){const m=fi(f,l,d);c[d]?(c[d].p(m,y),fe(c[d],1)):(c[d]=mi(m),c[d].c(),fe(c[d],1),c[d].m(r,null))}for(st(),d=l.length;d<c.length;d+=1)p(d);it()}},i(f){if(!i){for(let y=0;y<l.length;y+=1)fe(c[y]);i=!0}},o(f){c=c.filter(Boolean);for(let y=0;y<c.length;y+=1)we(c[y]);i=!1},d(f){f&&ce(e),Qr(c,f),a=!1,De(o)}}}function pi(t){let e,r;function s(){return t[5](t[6])}return e=new ha({props:{image:t[6].img,name:t[6].name,value:t[0].includes(t[6].source),onClick:s}}),{c(){Ge(e.$$.fragment)},m(n,i){xe(e,n,i),r=!0},p(n,i){t=n;const a={};i&1&&(a.value=t[0].includes(t[6].source)),e.$set(a)},i(n){r||(fe(e.$$.fragment,n),r=!0)},o(n){we(e.$$.fragment,n),r=!1},d(n){Ke(e,n)}}}function mi(t){let e,r,s=t[6].minVersion&&t[6].minVersion<=t[2]&&pi(t);return{c(){s&&s.c(),e=Zt()},m(n,i){s&&s.m(n,i),ue(n,e,i),r=!0},p(n,i){n[6].minVersion&&n[6].minVersion<=n[2]?s?(s.p(n,i),i&4&&fe(s,1)):(s=pi(n),s.c(),fe(s,1),s.m(e.parentNode,e)):s&&(st(),we(s,1,1,()=>{s=null}),it())},i(n){r||(fe(s),r=!0)},o(n){we(s),r=!1},d(n){n&&ce(e),s&&s.d(n)}}}function Wo(t){let e,r,s,n=t[1]&&di(t),i=t[1]&&hi(t);return{c(){n&&n.c(),e=ke(),i&&i.c(),r=Zt()},m(a,o){n&&n.m(a,o),ue(a,e,o),i&&i.m(a,o),ue(a,r,o),s=!0},p(a,[o]){a[1]?n?(n.p(a,o),o&2&&fe(n,1)):(n=di(a),n.c(),fe(n,1),n.m(e.parentNode,e)):n&&(st(),we(n,1,1,()=>{n=null}),it()),a[1]?i?(i.p(a,o),o&2&&fe(i,1)):(i=hi(a),i.c(),fe(i,1),i.m(r.parentNode,r)):i&&(st(),we(i,1,1,()=>{i=null}),it())},i(a){s||(fe(n),fe(i),s=!0)},o(a){we(n),we(i),s=!1},d(a){a&&(ce(e),ce(r)),n&&n.d(a),i&&i.d(a)}}}function Go(t,e,r){let s;Dt(t,Cr,c=>r(2,s=c));let{selectedDungeons:n=[]}=e,{active:i=!0}=e;const a=c=>{n.includes(c)?r(0,n=n.filter(p=>p!=c)):r(0,n=[...n,c])},o=()=>r(1,i=!1),l=c=>a(c.source);return t.$$set=c=>{"selectedDungeons"in c&&r(0,n=c.selectedDungeons),"active"in c&&r(1,i=c.active)},[n,i,s,a,o,l]}class Jo extends It{constructor(e){super(),Ct(this,e,Go,Wo,vt,{selectedDungeons:0,active:1})}}function _i(t,e,r){const s=t.slice();return s[12]=e[r][0],s[13]=e[r][1],s}function Qo(t){let e,r,s,n;return{c(){e=ae("img"),Qe(e.src,r=t[2])||j(e,"src",r),j(e,"alt","pack icon"),j(e,"id","pack_icon"),j(e,"class","noselect svelte-iv83eq")},m(i,a){ue(i,e,a),s||(n=ve(e,"keypress",null),s=!0)},p(i,a){a&4&&!Qe(e.src,r=i[2])&&j(e,"src",r)},d(i){i&&ce(e),s=!1,n()}}}function Yo(t){let e,r,s,n;return{c(){e=ae("img"),Qe(e.src,r=t[2])||j(e,"src",r),j(e,"alt","pack icon"),j(e,"id","pack_icon"),j(e,"class","noselect svelte-iv83eq")},m(i,a){ue(i,e,a),s||(n=[Ve(zt.call(null,e)),Ve(Er.call(null,e,{accept:"image/png",cb:t[5]})),Ve(Sr.call(null,e,{accept:"image/png",cb:t[5]})),ve(e,"keypress",null)],s=!0)},p(i,a){a&4&&!Qe(e.src,r=i[2])&&j(e,"src",r)},d(i){i&&ce(e),s=!1,De(n)}}}function Xo(t){let e;function r(i,a){return i[0]?Yo:Qo}let s=r(t),n=s(t);return{c(){n.c(),e=Zt()},m(i,a){n.m(i,a),ue(i,e,a)},p(i,a){s===(s=r(i))&&n?n.p(i,a):(n.d(1),n=s(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){i&&ce(e),n.d(i)}}}function el(t){let e,r,s;return{c(){e=ae("input"),j(e,"type","text"),j(e,"name","pack_name"),j(e,"id","pack_name_input"),e.readOnly=!0,j(e,"class","svelte-iv83eq")},m(n,i){ue(n,e,i),dt(e,t[3]),r||(s=[ve(e,"input",t[9]),ve(e,"input",t[6])],r=!0)},p(n,i){i&8&&e.value!==n[3]&&dt(e,n[3])},d(n){n&&ce(e),r=!1,De(s)}}}function tl(t){let e,r,s;return{c(){e=ae("input"),j(e,"type","text"),j(e,"name","pack_name"),j(e,"id","pack_name_input"),j(e,"class","svelte-iv83eq")},m(n,i){ue(n,e,i),dt(e,t[3]),r||(s=[ve(e,"input",t[8]),ve(e,"input",t[6])],r=!0)},p(n,i){i&8&&e.value!==n[3]&&dt(e,n[3])},d(n){n&&ce(e),r=!1,De(s)}}}function rl(t){let e,r=t[13]+"",s;return{c(){e=ae("option"),s=nt(r),e.__value=t[12],dt(e,e.__value),e.disabled=!0},m(n,i){ue(n,e,i),oe(e,s)},p:Se,d(n){n&&ce(e)}}}function nl(t){let e,r=t[13]+"",s;return{c(){e=ae("option"),s=nt(r),e.__value=t[12],dt(e,e.__value)},m(n,i){ue(n,e,i),oe(e,s)},p:Se,d(n){n&&ce(e)}}}function sl(t){let e,r=t[13]+"",s;return{c(){e=ae("option"),s=nt(r),e.__value=t[12],dt(e,e.__value)},m(n,i){ue(n,e,i),oe(e,s)},p:Se,d(n){n&&ce(e)}}}function gi(t){let e;function r(i,a){return i[0]?sl:i[12]===i[4]?nl:rl}let s=r(t),n=s(t);return{c(){n.c(),e=Zt()},m(i,a){n.m(i,a),ue(i,e,a)},p(i,a){s===(s=r(i))&&n?n.p(i,a):(n.d(1),n=s(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){i&&ce(e),n.d(i)}}}function il(t){let e;return{c(){e=ae("input"),j(e,"type","button"),j(e,"name","import"),j(e,"id","pack_import"),e.value="import",j(e,"class","svelte-iv83eq")},m(r,s){ue(r,e,s)},p:Se,d(r){r&&ce(e)}}}function al(t){let e,r,s;return{c(){e=ae("input"),j(e,"type","button"),j(e,"name","import"),j(e,"id","pack_import"),e.value="import",j(e,"class","svelte-iv83eq")},m(n,i){ue(n,e,i),r||(s=ve(e,"click",t[11]),r=!0)},p:Se,d(n){n&&ce(e),r=!1,s()}}}function ol(t){let e;function r(i,a){return i[0]?al:il}let s=r(t),n=s(t);return{c(){n.c(),e=Zt()},m(i,a){n.m(i,a),ue(i,e,a)},p(i,a){s===(s=r(i))&&n?n.p(i,a):(n.d(1),n=s(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){i&&ce(e),n.d(i)}}}function ll(t){let e,r,s,n,i,a,o,l,c,p,f,y,d,m;function u(A){t[7](A)}let _={};t[1]!==void 0&&(_.active=t[1]),e=new cd({props:_}),kt.push(()=>Mt(e,"active",u)),i=new $t({props:{text:"Sets the resourcepack icon",$$slots:{default:[Xo]},$$scope:{ctx:t}}});function h(A,I){return A[0]?tl:el}let g=h(t),w=g(t),k=jt([...ui]),S=[];for(let A=0;A<k.length;A+=1)S[A]=gi(_i(t,k,A));return f=new $t({props:{text:"Import an existing resourcepack",right:!1,$$slots:{default:[ol]},$$scope:{ctx:t}}}),{c(){Ge(e.$$.fragment),s=ke(),n=ae("div"),Ge(i.$$.fragment),a=ke(),w.c(),o=ke(),l=ae("select");for(let A=0;A<S.length;A+=1)S[A].c();c=ke(),p=ae("div"),Ge(f.$$.fragment),j(l,"name","version"),j(l,"id","version_input"),j(l,"class","svelte-iv83eq"),t[4]===void 0&&ht(()=>t[10].call(l)),j(p,"id","import_container"),j(p,"class","svelte-iv83eq"),j(n,"id","header"),j(n,"class","svelte-iv83eq")},m(A,I){xe(e,A,I),ue(A,s,I),ue(A,n,I),xe(i,n,null),oe(n,a),w.m(n,null),oe(n,o),oe(n,l);for(let B=0;B<S.length;B+=1)S[B]&&S[B].m(l,null);ri(l,t[4],!0),oe(n,c),oe(n,p),xe(f,p,null),y=!0,d||(m=ve(l,"change",t[10]),d=!0)},p(A,[I]){const B={};!r&&I&2&&(r=!0,B.active=A[1],Ut(()=>r=!1)),e.$set(B);const U={};if(I&65541&&(U.$$scope={dirty:I,ctx:A}),i.$set(U),g===(g=h(A))&&w?w.p(A,I):(w.d(1),w=g(A),w&&(w.c(),w.m(n,o))),I&17){k=jt([...ui]);let ne;for(ne=0;ne<k.length;ne+=1){const T=_i(A,k,ne);S[ne]?S[ne].p(T,I):(S[ne]=gi(T),S[ne].c(),S[ne].m(l,null))}for(;ne<S.length;ne+=1)S[ne].d(1);S.length=k.length}I&16&&ri(l,A[4]);const V={};I&65539&&(V.$$scope={dirty:I,ctx:A}),f.$set(V)},i(A){y||(fe(e.$$.fragment,A),fe(i.$$.fragment,A),fe(f.$$.fragment,A),y=!0)},o(A){we(e.$$.fragment,A),we(i.$$.fragment,A),we(f.$$.fragment,A),y=!1},d(A){A&&(ce(s),ce(n)),Ke(e,A),Ke(i),w.d(),Qr(S,A),Ke(f),d=!1,m()}}}function cl(t,e,r){let s,n,i;Dt(t,Jn,u=>r(2,s=u)),Dt(t,Ur,u=>r(3,n=u)),Dt(t,Cr,u=>r(4,i=u));let a=!1,{canEdit:o=!0}=e;const l=u=>{if(!u||u.length===0)return;const _=u[0],h=new FileReader;h.onload=()=>{const g=new Image;g.onload=()=>{const w=document.createElement("canvas");w.width=64,w.height=64,w.getContext("2d").drawImage(g,0,0,64,64),Jn.set(w.toDataURL("image/png"))},g.src=h.result},h.readAsDataURL(_)},c=()=>{Ur.update(u=>u.replace(" ","_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase())};function p(u){a=u,r(1,a)}function f(){n=this.value,Ur.set(n)}function y(){n=this.value,Ur.set(n)}function d(){i=mo(this),Cr.set(i)}const m=()=>r(1,a=!0);return t.$$set=u=>{"canEdit"in u&&r(0,o=u.canEdit)},[o,a,s,n,i,l,c,p,f,y,d,m]}class ul extends It{constructor(e){super(),Ct(this,e,cl,ll,vt,{canEdit:0})}}var Mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function un(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ma={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(s,n,i){function a(c,p){if(!n[c]){if(!s[c]){var f=typeof un=="function"&&un;if(!p&&f)return f(c,!0);if(o)return o(c,!0);var y=new Error("Cannot find module '"+c+"'");throw y.code="MODULE_NOT_FOUND",y}var d=n[c]={exports:{}};s[c][0].call(d.exports,function(m){var u=s[c][1][m];return a(u||m)},d,d.exports,r,s,n,i)}return n[c].exports}for(var o=typeof un=="function"&&un,l=0;l<i.length;l++)a(i[l]);return a}({1:[function(r,s,n){var i=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var c,p,f,y,d,m,u,_=[],h=0,g=l.length,w=g,k=i.getTypeOf(l)!=="string";h<l.length;)w=g-h,f=k?(c=l[h++],p=h<g?l[h++]:0,h<g?l[h++]:0):(c=l.charCodeAt(h++),p=h<g?l.charCodeAt(h++):0,h<g?l.charCodeAt(h++):0),y=c>>2,d=(3&c)<<4|p>>4,m=1<w?(15&p)<<2|f>>6:64,u=2<w?63&f:64,_.push(o.charAt(y)+o.charAt(d)+o.charAt(m)+o.charAt(u));return _.join("")},n.decode=function(l){var c,p,f,y,d,m,u=0,_=0,h="data:";if(l.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var g,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=a.uint8array?new Uint8Array(0|w):new Array(0|w);u<l.length;)c=o.indexOf(l.charAt(u++))<<2|(y=o.indexOf(l.charAt(u++)))>>4,p=(15&y)<<4|(d=o.indexOf(l.charAt(u++)))>>2,f=(3&d)<<6|(m=o.indexOf(l.charAt(u++))),g[_++]=c,d!==64&&(g[_++]=p),m!==64&&(g[_++]=f);return g}},{"./support":30,"./utils":32}],2:[function(r,s,n){var i=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(p,f,y,d,m){this.compressedSize=p,this.uncompressedSize=f,this.crc32=y,this.compression=d,this.compressedContent=m}c.prototype={getContentWorker:function(){var p=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return p.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(p,f,y){return p.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(y)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},s.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,s,n){var i=r("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,s,n){var i=r("./utils"),a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var p=0;p<8;p++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();s.exports=function(o,l){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?function(c,p,f,y){var d=a,m=y+f;c^=-1;for(var u=y;u<m;u++)c=c>>>8^d[255&(c^p[u])];return-1^c}(0|l,o,o.length,0):function(c,p,f,y){var d=a,m=y+f;c^=-1;for(var u=y;u<m;u++)c=c>>>8^d[255&(c^p.charCodeAt(u))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,s,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(r,s,n){var i=null;i=typeof Promise<"u"?Promise:r("lie"),s.exports={Promise:i}},{lie:37}],7:[function(r,s,n){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),c=i?"uint8array":"array";function p(f,y){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=y,this.meta={}}n.magic="\b\0",o.inherits(p,l),p.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},p.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(y){f.push({data:y,meta:f.meta})}},n.compressWorker=function(f){return new p("Deflate",f)},n.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,s,n){function i(d,m){var u,_="";for(u=0;u<m;u++)_+=String.fromCharCode(255&d),d>>>=8;return _}function a(d,m,u,_,h,g){var w,k,S=d.file,A=d.compression,I=g!==c.utf8encode,B=o.transformTo("string",g(S.name)),U=o.transformTo("string",c.utf8encode(S.name)),V=S.comment,ne=o.transformTo("string",g(V)),T=o.transformTo("string",c.utf8encode(V)),W=U.length!==S.name.length,b=T.length!==V.length,J="",me="",X="",he=S.dir,Z=S.date,x={crc32:0,compressedSize:0,uncompressedSize:0};m&&!u||(x.crc32=d.crc32,x.compressedSize=d.compressedSize,x.uncompressedSize=d.uncompressedSize);var E=0;m&&(E|=8),I||!W&&!b||(E|=2048);var R=0,F=0;he&&(R|=16),h==="UNIX"?(F=798,R|=function(C,K){var se=C;return C||(se=K?16893:33204),(65535&se)<<16}(S.unixPermissions,he)):(F=20,R|=function(C){return 63&(C||0)}(S.dosPermissions)),w=Z.getUTCHours(),w<<=6,w|=Z.getUTCMinutes(),w<<=5,w|=Z.getUTCSeconds()/2,k=Z.getUTCFullYear()-1980,k<<=4,k|=Z.getUTCMonth()+1,k<<=5,k|=Z.getUTCDate(),W&&(me=i(1,1)+i(p(B),4)+U,J+="up"+i(me.length,2)+me),b&&(X=i(1,1)+i(p(ne),4)+T,J+="uc"+i(X.length,2)+X);var $="";return $+=`
\0`,$+=i(E,2),$+=A.magic,$+=i(w,2),$+=i(k,2),$+=i(x.crc32,4),$+=i(x.compressedSize,4),$+=i(x.uncompressedSize,4),$+=i(B.length,2),$+=i(J.length,2),{fileRecord:f.LOCAL_FILE_HEADER+$+B+J,dirRecord:f.CENTRAL_FILE_HEADER+i(F,2)+$+i(ne.length,2)+"\0\0\0\0"+i(R,4)+i(_,4)+B+J+ne}}var o=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),p=r("../crc32"),f=r("../signature");function y(d,m,u,_){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=u,this.encodeFileName=_,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(y,l),y.prototype.push=function(d){var m=d.meta.percent||0,u=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:u?(m+100*(u-_-1))/u:100}}))},y.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var m=this.streamFiles&&!d.file.dir;if(m){var u=a(d,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(d){this.accumulate=!1;var m=this.streamFiles&&!d.file.dir,u=a(d,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),m)this.push({data:function(_){return f.DATA_DESCRIPTOR+i(_.crc32,4)+i(_.compressedSize,4)+i(_.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var d=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var u=this.bytesWritten-d,_=function(h,g,w,k,S){var A=o.transformTo("string",S(k));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(h,2)+i(h,2)+i(g,4)+i(w,4)+i(A.length,2)+A}(this.dirRecords.length,u,d,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(d){this._sources.push(d);var m=this;return d.on("data",function(u){m.processChunk(u)}),d.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),d.on("error",function(u){m.error(u)}),this},y.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(d){var m=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var u=0;u<m.length;u++)try{m[u].error(d)}catch{}return!0},y.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,m=0;m<d.length;m++)d[m].lock()},s.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,s,n){var i=r("../compressions"),a=r("./ZipFileWorker");n.generateWorker=function(o,l,c){var p=new a(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(y,d){f++;var m=function(g,w){var k=g||w,S=i[k];if(!S)throw new Error(k+" is not a valid compression method !");return S}(d.options.compression,l.compression),u=d.options.compressionOptions||l.compressionOptions||{},_=d.dir,h=d.date;d._compressWorker(m,u).withStreamInfo("file",{name:y,dir:_,date:h,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(p)}),p.entriesCount=f}catch(y){p.error(y)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,s,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(a,o){return new i().loadAsync(a,o)},i.external=r("./external"),s.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,s,n){var i=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),p=r("./nodejsUtils");function f(y){return new a.Promise(function(d,m){var u=y.decompressed.getContentWorker().pipe(new c);u.on("error",function(_){m(_)}).on("end",function(){u.streamInfo.crc32!==y.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}s.exports=function(y,d){var m=this;return d=i.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),p.isNode&&p.isStream(y)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",y,!0,d.optimizedBinaryString,d.base64).then(function(u){var _=new l(d);return _.load(u),_}).then(function(u){var _=[a.Promise.resolve(u)],h=u.files;if(d.checkCRC32)for(var g=0;g<h.length;g++)_.push(f(h[g]));return a.Promise.all(_)}).then(function(u){for(var _=u.shift(),h=_.files,g=0;g<h.length;g++){var w=h[g],k=w.fileNameStr,S=i.resolve(w.fileNameStr);m.file(S,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:d.createFolders}),w.dir||(m.file(S).unsafeOriginalName=k)}return _.zipComment.length&&(m.comment=_.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,s,n){var i=r("../utils"),a=r("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(p){c.push({data:p,meta:{percent:0}})}).on("error",function(p){c.isPaused?this.generatedError=p:c.error(p)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,s,n){var i=r("readable-stream").Readable;function a(o,l,c){i.call(this,l),this._helper=o;var p=this;o.on("data",function(f,y){p.push(f)||p._helper.pause(),c&&c(y)}).on("error",function(f){p.emit("error",f)}).on("end",function(){p.push(null)})}r("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},s.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,s,n){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,s,n){function i(S,A,I){var B,U=o.getTypeOf(A),V=o.extend(I||{},p);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(S=h(S)),V.createFolders&&(B=_(S))&&g.call(this,B,!0);var ne=U==="string"&&V.binary===!1&&V.base64===!1;I&&I.binary!==void 0||(V.binary=!ne),(A instanceof f&&A.uncompressedSize===0||V.dir||!A||A.length===0)&&(V.base64=!1,V.binary=!0,A="",V.compression="STORE",U="string");var T=null;T=A instanceof f||A instanceof l?A:m.isNode&&m.isStream(A)?new u(S,A):o.prepareContent(S,A,V.binary,V.optimizedBinaryString,V.base64);var W=new y(S,T,V);this.files[S]=W}var a=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),p=r("./defaults"),f=r("./compressedObject"),y=r("./zipObject"),d=r("./generate"),m=r("./nodejsUtils"),u=r("./nodejs/NodejsStreamInputAdapter"),_=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var A=S.lastIndexOf("/");return 0<A?S.substring(0,A):""},h=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},g=function(S,A){return A=A!==void 0?A:p.createFolders,S=h(S),this.files[S]||i.call(this,S,null,{dir:!0,createFolders:A}),this.files[S]};function w(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var A,I,B;for(A in this.files)B=this.files[A],(I=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&S(I,B)},filter:function(S){var A=[];return this.forEach(function(I,B){S(I,B)&&A.push(B)}),A},file:function(S,A,I){if(arguments.length!==1)return S=this.root+S,i.call(this,S,A,I),this;if(w(S)){var B=S;return this.filter(function(V,ne){return!ne.dir&&B.test(V)})}var U=this.files[this.root+S];return U&&!U.dir?U:null},folder:function(S){if(!S)return this;if(w(S))return this.filter(function(U,V){return V.dir&&S.test(U)});var A=this.root+S,I=g.call(this,A),B=this.clone();return B.root=I.name,B},remove:function(S){S=this.root+S;var A=this.files[S];if(A||(S.slice(-1)!=="/"&&(S+="/"),A=this.files[S]),A&&!A.dir)delete this.files[S];else for(var I=this.filter(function(U,V){return V.name.slice(0,S.length)===S}),B=0;B<I.length;B++)delete this.files[I[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var A,I={};try{if((I=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");o.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var B=I.comment||this.comment||"";A=d.generateWorker(this,I,B)}catch(U){(A=new l("error")).error(U)}return new c(A,I.type||"string",I.mimeType)},generateAsync:function(S,A){return this.generateInternalStream(S).accumulate(A)},generateNodeStream:function(S,A){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(A)}};s.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,s,n){s.exports=r("stream")},{stream:void 0}],17:[function(r,s,n){var i=r("./DataReader");function a(o){i.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(a,i),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),p=o.charCodeAt(2),f=o.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===l&&this.data[y+1]===c&&this.data[y+2]===p&&this.data[y+3]===f)return y-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),p=o.charCodeAt(2),f=o.charCodeAt(3),y=this.readData(4);return l===y[0]&&c===y[1]&&p===y[2]&&f===y[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},s.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,s,n){var i=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},s.exports=a},{"../utils":32}],19:[function(r,s,n){var i=r("./Uint8ArrayReader");function a(o){i.call(this,o)}r("../utils").inherits(a,i),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},s.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,s,n){var i=r("./DataReader");function a(o){i.call(this,o)}r("../utils").inherits(a,i),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},s.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,s,n){var i=r("./ArrayReader");function a(o){i.call(this,o)}r("../utils").inherits(a,i),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},s.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,s,n){var i=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),p=r("./Uint8ArrayReader");s.exports=function(f){var y=i.getTypeOf(f);return i.checkSupport(y),y!=="string"||a.uint8array?y==="nodebuffer"?new c(f):a.uint8array?new p(i.transformTo("uint8array",f)):new o(i.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,s,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,s,n){var i=r("./GenericWorker"),a=r("../utils");function o(l){i.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,i),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},s.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,s,n){var i=r("./GenericWorker"),a=r("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,i),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},s.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,s,n){var i=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},s.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,s,n){var i=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(p){c.dataIsReady=!0,c.data=p,c.max=p&&p.length||0,c.type=i.getTypeOf(p),c.isPaused||c._tickAndRepeat()},function(p){c.error(p)})}i.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,s,n){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},s.exports=i},{}],29:[function(r,s,n){var i=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),c=r("../support"),p=r("../external"),f=null;if(c.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(m,u){return new p.Promise(function(_,h){var g=[],w=m._internalType,k=m._outputType,S=m._mimeType;m.on("data",function(A,I){g.push(A),u&&u(I)}).on("error",function(A){g=[],h(A)}).on("end",function(){try{var A=function(I,B,U){switch(I){case"blob":return i.newBlob(i.transformTo("arraybuffer",B),U);case"base64":return l.encode(B);default:return i.transformTo(I,B)}}(k,function(I,B){var U,V=0,ne=null,T=0;for(U=0;U<B.length;U++)T+=B[U].length;switch(I){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(ne=new Uint8Array(T),U=0;U<B.length;U++)ne.set(B[U],V),V+=B[U].length;return ne;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+I+"'")}}(w,g),S);_(A)}catch(I){h(I)}g=[]}).resume()})}function d(m,u,_){var h=u;switch(u){case"blob":case"arraybuffer":h="uint8array";break;case"base64":h="string"}try{this._internalType=h,this._outputType=u,this._mimeType=_,i.checkSupport(h),this._worker=m.pipe(new a(h)),m.lock()}catch(g){this._worker=new o("error"),this._worker.error(g)}}d.prototype={accumulate:function(m){return y(this,m)},on:function(m,u){var _=this;return m==="data"?this._worker.on(m,function(h){u.call(_,h.data,h.meta)}):this._worker.on(m,function(){i.delay(u,arguments,_)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},m)}},s.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,s,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),n.blob=a.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!r("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(r,s,n){for(var i=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),p=0;p<256;p++)c[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function y(){l.call(this,"utf-8 encode")}n.utf8encode=function(d){return a.nodebuffer?o.newBufferFrom(d,"utf-8"):function(m){var u,_,h,g,w,k=m.length,S=0;for(g=0;g<k;g++)(64512&(_=m.charCodeAt(g)))==55296&&g+1<k&&(64512&(h=m.charCodeAt(g+1)))==56320&&(_=65536+(_-55296<<10)+(h-56320),g++),S+=_<128?1:_<2048?2:_<65536?3:4;for(u=a.uint8array?new Uint8Array(S):new Array(S),g=w=0;w<S;g++)(64512&(_=m.charCodeAt(g)))==55296&&g+1<k&&(64512&(h=m.charCodeAt(g+1)))==56320&&(_=65536+(_-55296<<10)+(h-56320),g++),_<128?u[w++]=_:(_<2048?u[w++]=192|_>>>6:(_<65536?u[w++]=224|_>>>12:(u[w++]=240|_>>>18,u[w++]=128|_>>>12&63),u[w++]=128|_>>>6&63),u[w++]=128|63&_);return u}(d)},n.utf8decode=function(d){return a.nodebuffer?i.transformTo("nodebuffer",d).toString("utf-8"):function(m){var u,_,h,g,w=m.length,k=new Array(2*w);for(u=_=0;u<w;)if((h=m[u++])<128)k[_++]=h;else if(4<(g=c[h]))k[_++]=65533,u+=g-1;else{for(h&=g===2?31:g===3?15:7;1<g&&u<w;)h=h<<6|63&m[u++],g--;1<g?k[_++]=65533:h<65536?k[_++]=h:(h-=65536,k[_++]=55296|h>>10&1023,k[_++]=56320|1023&h)}return k.length!==_&&(k.subarray?k=k.subarray(0,_):k.length=_),i.applyFromCharCode(k)}(d=i.transformTo(a.uint8array?"uint8array":"array",d))},i.inherits(f,l),f.prototype.processChunk=function(d){var m=i.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var u=m;(m=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),m.set(u,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var _=function(g,w){var k;for((w=w||g.length)>g.length&&(w=g.length),k=w-1;0<=k&&(192&g[k])==128;)k--;return k<0||k===0?w:k+c[g[k]]>w?k:w}(m),h=m;_!==m.length&&(a.uint8array?(h=m.subarray(0,_),this.leftOver=m.subarray(_,m.length)):(h=m.slice(0,_),this.leftOver=m.slice(_,m.length))),this.push({data:n.utf8decode(h),meta:d.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=f,i.inherits(y,l),y.prototype.processChunk=function(d){this.push({data:n.utf8encode(d.data),meta:d.meta})},n.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,s,n){var i=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function c(u){return u}function p(u,_){for(var h=0;h<u.length;++h)_[h]=255&u.charCodeAt(h);return _}r("setimmediate"),n.newBlob=function(u,_){n.checkSupport("blob");try{return new Blob([u],{type:_})}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return h.append(u),h.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(u,_,h){var g=[],w=0,k=u.length;if(k<=h)return String.fromCharCode.apply(null,u);for(;w<k;)_==="array"||_==="nodebuffer"?g.push(String.fromCharCode.apply(null,u.slice(w,Math.min(w+h,k)))):g.push(String.fromCharCode.apply(null,u.subarray(w,Math.min(w+h,k)))),w+=h;return g.join("")},stringifyByChar:function(u){for(var _="",h=0;h<u.length;h++)_+=String.fromCharCode(u[h]);return _},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function y(u){var _=65536,h=n.getTypeOf(u),g=!0;if(h==="uint8array"?g=f.applyCanBeUsed.uint8array:h==="nodebuffer"&&(g=f.applyCanBeUsed.nodebuffer),g)for(;1<_;)try{return f.stringifyByChunk(u,h,_)}catch{_=Math.floor(_/2)}return f.stringifyByChar(u)}function d(u,_){for(var h=0;h<u.length;h++)_[h]=u[h];return _}n.applyFromCharCode=y;var m={};m.string={string:c,array:function(u){return p(u,new Array(u.length))},arraybuffer:function(u){return m.string.uint8array(u).buffer},uint8array:function(u){return p(u,new Uint8Array(u.length))},nodebuffer:function(u){return p(u,o.allocBuffer(u.length))}},m.array={string:y,array:c,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return o.newBufferFrom(u)}},m.arraybuffer={string:function(u){return y(new Uint8Array(u))},array:function(u){return d(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:c,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return o.newBufferFrom(new Uint8Array(u))}},m.uint8array={string:y,array:function(u){return d(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:c,nodebuffer:function(u){return o.newBufferFrom(u)}},m.nodebuffer={string:y,array:function(u){return d(u,new Array(u.length))},arraybuffer:function(u){return m.nodebuffer.uint8array(u).buffer},uint8array:function(u){return d(u,new Uint8Array(u.length))},nodebuffer:c},n.transformTo=function(u,_){if(_=_||"",!u)return _;n.checkSupport(u);var h=n.getTypeOf(_);return m[h][u](_)},n.resolve=function(u){for(var _=u.split("/"),h=[],g=0;g<_.length;g++){var w=_[g];w==="."||w===""&&g!==0&&g!==_.length-1||(w===".."?h.pop():h.push(w))}return h.join("/")},n.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(u)?"nodebuffer":i.uint8array&&u instanceof Uint8Array?"uint8array":i.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(u){if(!i[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(u){var _,h,g="";for(h=0;h<(u||"").length;h++)g+="\\x"+((_=u.charCodeAt(h))<16?"0":"")+_.toString(16).toUpperCase();return g},n.delay=function(u,_,h){setImmediate(function(){u.apply(h||null,_||[])})},n.inherits=function(u,_){function h(){}h.prototype=_.prototype,u.prototype=new h},n.extend=function(){var u,_,h={};for(u=0;u<arguments.length;u++)for(_ in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],_)&&h[_]===void 0&&(h[_]=arguments[u][_]);return h},n.prepareContent=function(u,_,h,g,w){return l.Promise.resolve(_).then(function(k){return i.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,A){var I=new FileReader;I.onload=function(B){S(B.target.result)},I.onerror=function(B){A(B.target.error)},I.readAsArrayBuffer(k)}):k}).then(function(k){var S=n.getTypeOf(k);return S?(S==="arraybuffer"?k=n.transformTo("uint8array",k):S==="string"&&(w?k=a.decode(k):h&&g!==!0&&(k=function(A){return p(A,i.uint8array?new Uint8Array(A.length):new Array(A.length))}(k))),k):l.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,s,n){var i=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),c=r("./support");function p(f){this.files=[],this.loadOptions=f}p.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(y)+", expected "+a.pretty(f)+")")}},isSignature:function(f,y){var d=this.reader.index;this.reader.setIndex(f);var m=this.reader.readString(4)===y;return this.reader.setIndex(d),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),y=c.uint8array?"uint8array":"array",d=a.transformTo(y,f);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,y,d,m=this.zip64EndOfCentralSize-44;0<m;)f=this.reader.readInt(2),y=this.reader.readInt(4),d=this.reader.readData(y),this.zip64ExtensibleData[f]={id:f,length:y,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,y;for(f=0;f<this.files.length;f++)y=this.files[f],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var y=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var m=y-d;if(0<m)this.isSignature(y,o.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,s,n){var i=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),p=r("./compressions"),f=r("./support");function y(d,m){this.options=d,this.loadOptions=m}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var m,u;if(d.skip(22),this.fileNameLength=d.readInt(2),u=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(_){for(var h in p)if(Object.prototype.hasOwnProperty.call(p,h)&&p[h].magic===_)return p[h];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,m,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var m=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(m),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var m,u,_,h=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<h;)m=d.readInt(2),u=d.readInt(2),_=d.readData(u),this.extraFields[m]={id:m,length:u,value:_};d.setIndex(h)},handleUTF8:function(){var d=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var u=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var h=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(h)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var m=i(d.value);return m.readInt(1)!==1||l(this.fileName)!==m.readInt(4)?null:c.utf8decode(m.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var m=i(d.value);return m.readInt(1)!==1||l(this.fileComment)!==m.readInt(4)?null:c.utf8decode(m.readData(d.length-5))}return null}},s.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,s,n){function i(m,u,_){this.name=m,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=u,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),p=r("./stream/GenericWorker");i.prototype={internalStream:function(m){var u=null,_="string";try{if(!m)throw new Error("No output type specified.");var h=(_=m.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),u=this._decompressWorker();var g=!this._dataBinary;g&&!h&&(u=u.pipe(new l.Utf8EncodeWorker)),!g&&h&&(u=u.pipe(new l.Utf8DecodeWorker))}catch(w){(u=new p("error")).error(w)}return new a(u,_,"")},async:function(m,u){return this.internalStream(m).accumulate(u)},nodeStream:function(m,u){return this.internalStream(m||"nodebuffer").toNodejsStream(u)},_compressWorker:function(m,u){if(this._data instanceof c&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(_,m,u)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof p?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<f.length;d++)i.prototype[f[d]]=y;s.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,s,n){(function(i){var a,o,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var c=0,p=new l(m),f=i.document.createTextNode("");p.observe(f,{characterData:!0}),a=function(){f.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var u=i.document.createElement("script");u.onreadystatechange=function(){m(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},i.document.documentElement.appendChild(u)}:function(){setTimeout(m,0)};else{var y=new i.MessageChannel;y.port1.onmessage=m,a=function(){y.port2.postMessage(0)}}var d=[];function m(){var u,_;o=!0;for(var h=d.length;h;){for(_=d,d=[],u=-1;++u<h;)_[u]();h=d.length}o=!1}s.exports=function(u){d.push(u)!==1||o||a()}}).call(this,typeof Mr<"u"?Mr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,s,n){var i=r("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],p=["PENDING"];function f(h){if(typeof h!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,h!==a&&u(this,h)}function y(h,g,w){this.promise=h,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function d(h,g,w){i(function(){var k;try{k=g(w)}catch(S){return o.reject(h,S)}k===h?o.reject(h,new TypeError("Cannot resolve promise with itself")):o.resolve(h,k)})}function m(h){var g=h&&h.then;if(h&&(typeof h=="object"||typeof h=="function")&&typeof g=="function")return function(){g.apply(h,arguments)}}function u(h,g){var w=!1;function k(I){w||(w=!0,o.reject(h,I))}function S(I){w||(w=!0,o.resolve(h,I))}var A=_(function(){g(S,k)});A.status==="error"&&k(A.value)}function _(h,g){var w={};try{w.value=h(g),w.status="success"}catch(k){w.status="error",w.value=k}return w}(s.exports=f).prototype.finally=function(h){if(typeof h!="function")return this;var g=this.constructor;return this.then(function(w){return g.resolve(h()).then(function(){return w})},function(w){return g.resolve(h()).then(function(){throw w})})},f.prototype.catch=function(h){return this.then(null,h)},f.prototype.then=function(h,g){if(typeof h!="function"&&this.state===c||typeof g!="function"&&this.state===l)return this;var w=new this.constructor(a);return this.state!==p?d(w,this.state===c?h:g,this.outcome):this.queue.push(new y(w,h,g)),w},y.prototype.callFulfilled=function(h){o.resolve(this.promise,h)},y.prototype.otherCallFulfilled=function(h){d(this.promise,this.onFulfilled,h)},y.prototype.callRejected=function(h){o.reject(this.promise,h)},y.prototype.otherCallRejected=function(h){d(this.promise,this.onRejected,h)},o.resolve=function(h,g){var w=_(m,g);if(w.status==="error")return o.reject(h,w.value);var k=w.value;if(k)u(h,k);else{h.state=c,h.outcome=g;for(var S=-1,A=h.queue.length;++S<A;)h.queue[S].callFulfilled(g)}return h},o.reject=function(h,g){h.state=l,h.outcome=g;for(var w=-1,k=h.queue.length;++w<k;)h.queue[w].callRejected(g);return h},f.resolve=function(h){return h instanceof this?h:o.resolve(new this(a),h)},f.reject=function(h){var g=new this(a);return o.reject(g,h)},f.all=function(h){var g=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=h.length,k=!1;if(!w)return this.resolve([]);for(var S=new Array(w),A=0,I=-1,B=new this(a);++I<w;)U(h[I],I);return B;function U(V,ne){g.resolve(V).then(function(T){S[ne]=T,++A!==w||k||(k=!0,o.resolve(B,S))},function(T){k||(k=!0,o.reject(B,T))})}},f.race=function(h){var g=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=h.length,k=!1;if(!w)return this.resolve([]);for(var S=-1,A=new this(a);++S<w;)I=h[S],g.resolve(I).then(function(B){k||(k=!0,o.resolve(A,B))},function(B){k||(k=!0,o.reject(A,B))});var I;return A}},{immediate:36}],38:[function(r,s,n){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),s.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,s,n){var i=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),p=Object.prototype.toString,f=0,y=-1,d=0,m=8;function u(h){if(!(this instanceof u))return new u(h);this.options=a.assign({level:y,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},h||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(w!==f)throw new Error(l[w]);if(g.header&&i.deflateSetHeader(this.strm,g.header),g.dictionary){var k;if(k=typeof g.dictionary=="string"?o.string2buf(g.dictionary):p.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(w=i.deflateSetDictionary(this.strm,k))!==f)throw new Error(l[w]);this._dict_set=!0}}function _(h,g){var w=new u(g);if(w.push(h,!0),w.err)throw w.msg||l[w.err];return w.result}u.prototype.push=function(h,g){var w,k,S=this.strm,A=this.options.chunkSize;if(this.ended)return!1;k=g===~~g?g:g===!0?4:0,typeof h=="string"?S.input=o.string2buf(h):p.call(h)==="[object ArrayBuffer]"?S.input=new Uint8Array(h):S.input=h,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(A),S.next_out=0,S.avail_out=A),(w=i.deflate(S,k))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&w!==1);return k===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):k!==2||(this.onEnd(f),!(S.avail_out=0))},u.prototype.onData=function(h){this.chunks.push(h)},u.prototype.onEnd=function(h){h===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},n.Deflate=u,n.deflate=_,n.deflateRaw=function(h,g){return(g=g||{}).raw=!0,_(h,g)},n.gzip=function(h,g){return(g=g||{}).gzip=!0,_(h,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,s,n){var i=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),p=r("./zlib/zstream"),f=r("./zlib/gzheader"),y=Object.prototype.toString;function d(u){if(!(this instanceof d))return new d(u);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},u||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||u&&u.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var h=i.inflateInit2(this.strm,_.windowBits);if(h!==l.Z_OK)throw new Error(c[h]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function m(u,_){var h=new d(_);if(h.push(u,!0),h.err)throw h.msg||c[h.err];return h.result}d.prototype.push=function(u,_){var h,g,w,k,S,A,I=this.strm,B=this.options.chunkSize,U=this.options.dictionary,V=!1;if(this.ended)return!1;g=_===~~_?_:_===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof u=="string"?I.input=o.binstring2buf(u):y.call(u)==="[object ArrayBuffer]"?I.input=new Uint8Array(u):I.input=u,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new a.Buf8(B),I.next_out=0,I.avail_out=B),(h=i.inflate(I,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&U&&(A=typeof U=="string"?o.string2buf(U):y.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,h=i.inflateSetDictionary(this.strm,A)),h===l.Z_BUF_ERROR&&V===!0&&(h=l.Z_OK,V=!1),h!==l.Z_STREAM_END&&h!==l.Z_OK)return this.onEnd(h),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&h!==l.Z_STREAM_END&&(I.avail_in!==0||g!==l.Z_FINISH&&g!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(I.output,I.next_out),k=I.next_out-w,S=o.buf2string(I.output,w),I.next_out=k,I.avail_out=B-k,k&&a.arraySet(I.output,I.output,w,k,0),this.onData(S)):this.onData(a.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(V=!0)}while((0<I.avail_in||I.avail_out===0)&&h!==l.Z_STREAM_END);return h===l.Z_STREAM_END&&(g=l.Z_FINISH),g===l.Z_FINISH?(h=i.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===l.Z_OK):g!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(I.avail_out=0))},d.prototype.onData=function(u){this.chunks.push(u)},d.prototype.onEnd=function(u){u===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},n.Inflate=d,n.inflate=m,n.inflateRaw=function(u,_){return(_=_||{}).raw=!0,m(u,_)},n.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,s,n){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var p=c.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var f in p)p.hasOwnProperty(f)&&(l[f]=p[f])}}return l},n.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,p,f,y){if(c.subarray&&l.subarray)l.set(c.subarray(p,p+f),y);else for(var d=0;d<f;d++)l[y+d]=c[p+d]},flattenChunks:function(l){var c,p,f,y,d,m;for(c=f=0,p=l.length;c<p;c++)f+=l[c].length;for(m=new Uint8Array(f),c=y=0,p=l.length;c<p;c++)d=l[c],m.set(d,y),y+=d.length;return m}},o={arraySet:function(l,c,p,f,y){for(var d=0;d<f;d++)l[y+d]=c[p+d]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(r,s,n){var i=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new i.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function p(f,y){if(y<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(f,y));for(var d="",m=0;m<y;m++)d+=String.fromCharCode(f[m]);return d}l[254]=l[254]=1,n.string2buf=function(f){var y,d,m,u,_,h=f.length,g=0;for(u=0;u<h;u++)(64512&(d=f.charCodeAt(u)))==55296&&u+1<h&&(64512&(m=f.charCodeAt(u+1)))==56320&&(d=65536+(d-55296<<10)+(m-56320),u++),g+=d<128?1:d<2048?2:d<65536?3:4;for(y=new i.Buf8(g),u=_=0;_<g;u++)(64512&(d=f.charCodeAt(u)))==55296&&u+1<h&&(64512&(m=f.charCodeAt(u+1)))==56320&&(d=65536+(d-55296<<10)+(m-56320),u++),d<128?y[_++]=d:(d<2048?y[_++]=192|d>>>6:(d<65536?y[_++]=224|d>>>12:(y[_++]=240|d>>>18,y[_++]=128|d>>>12&63),y[_++]=128|d>>>6&63),y[_++]=128|63&d);return y},n.buf2binstring=function(f){return p(f,f.length)},n.binstring2buf=function(f){for(var y=new i.Buf8(f.length),d=0,m=y.length;d<m;d++)y[d]=f.charCodeAt(d);return y},n.buf2string=function(f,y){var d,m,u,_,h=y||f.length,g=new Array(2*h);for(d=m=0;d<h;)if((u=f[d++])<128)g[m++]=u;else if(4<(_=l[u]))g[m++]=65533,d+=_-1;else{for(u&=_===2?31:_===3?15:7;1<_&&d<h;)u=u<<6|63&f[d++],_--;1<_?g[m++]=65533:u<65536?g[m++]=u:(u-=65536,g[m++]=55296|u>>10&1023,g[m++]=56320|1023&u)}return p(g,m)},n.utf8border=function(f,y){var d;for((y=y||f.length)>f.length&&(y=f.length),d=y-1;0<=d&&(192&f[d])==128;)d--;return d<0||d===0?y:d+l[f[d]]>y?d:y}},{"./common":41}],43:[function(r,s,n){s.exports=function(i,a,o,l){for(var c=65535&i|0,p=i>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;p=p+(c=c+a[l++]|0)|0,--f;);c%=65521,p%=65521}return c|p<<16|0}},{}],44:[function(r,s,n){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,s,n){var i=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();s.exports=function(a,o,l,c){var p=i,f=c+l;a^=-1;for(var y=c;y<f;y++)a=a>>>8^p[255&(a^o[y])];return-1^a}},{}],46:[function(r,s,n){var i,a=r("../utils/common"),o=r("./trees"),l=r("./adler32"),c=r("./crc32"),p=r("./messages"),f=0,y=4,d=0,m=-2,u=-1,_=4,h=2,g=8,w=9,k=286,S=30,A=19,I=2*k+1,B=15,U=3,V=258,ne=V+U+1,T=42,W=113,b=1,J=2,me=3,X=4;function he(v,Q){return v.msg=p[Q],Q}function Z(v){return(v<<1)-(4<v?9:0)}function x(v){for(var Q=v.length;0<=--Q;)v[Q]=0}function E(v){var Q=v.state,H=Q.pending;H>v.avail_out&&(H=v.avail_out),H!==0&&(a.arraySet(v.output,Q.pending_buf,Q.pending_out,H,v.next_out),v.next_out+=H,Q.pending_out+=H,v.total_out+=H,v.avail_out-=H,Q.pending-=H,Q.pending===0&&(Q.pending_out=0))}function R(v,Q){o._tr_flush_block(v,0<=v.block_start?v.block_start:-1,v.strstart-v.block_start,Q),v.block_start=v.strstart,E(v.strm)}function F(v,Q){v.pending_buf[v.pending++]=Q}function $(v,Q){v.pending_buf[v.pending++]=Q>>>8&255,v.pending_buf[v.pending++]=255&Q}function C(v,Q){var H,N,P=v.max_chain_length,M=v.strstart,Y=v.prev_length,ee=v.nice_match,L=v.strstart>v.w_size-ne?v.strstart-(v.w_size-ne):0,te=v.window,le=v.w_mask,ie=v.prev,pe=v.strstart+V,Te=te[M+Y-1],Ce=te[M+Y];v.prev_length>=v.good_match&&(P>>=2),ee>v.lookahead&&(ee=v.lookahead);do if(te[(H=Q)+Y]===Ce&&te[H+Y-1]===Te&&te[H]===te[M]&&te[++H]===te[M+1]){M+=2,H++;do;while(te[++M]===te[++H]&&te[++M]===te[++H]&&te[++M]===te[++H]&&te[++M]===te[++H]&&te[++M]===te[++H]&&te[++M]===te[++H]&&te[++M]===te[++H]&&te[++M]===te[++H]&&M<pe);if(N=V-(pe-M),M=pe-V,Y<N){if(v.match_start=Q,ee<=(Y=N))break;Te=te[M+Y-1],Ce=te[M+Y]}}while((Q=ie[Q&le])>L&&--P!=0);return Y<=v.lookahead?Y:v.lookahead}function K(v){var Q,H,N,P,M,Y,ee,L,te,le,ie=v.w_size;do{if(P=v.window_size-v.lookahead-v.strstart,v.strstart>=ie+(ie-ne)){for(a.arraySet(v.window,v.window,ie,ie,0),v.match_start-=ie,v.strstart-=ie,v.block_start-=ie,Q=H=v.hash_size;N=v.head[--Q],v.head[Q]=ie<=N?N-ie:0,--H;);for(Q=H=ie;N=v.prev[--Q],v.prev[Q]=ie<=N?N-ie:0,--H;);P+=ie}if(v.strm.avail_in===0)break;if(Y=v.strm,ee=v.window,L=v.strstart+v.lookahead,te=P,le=void 0,le=Y.avail_in,te<le&&(le=te),H=le===0?0:(Y.avail_in-=le,a.arraySet(ee,Y.input,Y.next_in,le,L),Y.state.wrap===1?Y.adler=l(Y.adler,ee,le,L):Y.state.wrap===2&&(Y.adler=c(Y.adler,ee,le,L)),Y.next_in+=le,Y.total_in+=le,le),v.lookahead+=H,v.lookahead+v.insert>=U)for(M=v.strstart-v.insert,v.ins_h=v.window[M],v.ins_h=(v.ins_h<<v.hash_shift^v.window[M+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[M+U-1])&v.hash_mask,v.prev[M&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=M,M++,v.insert--,!(v.lookahead+v.insert<U)););}while(v.lookahead<ne&&v.strm.avail_in!==0)}function se(v,Q){for(var H,N;;){if(v.lookahead<ne){if(K(v),v.lookahead<ne&&Q===f)return b;if(v.lookahead===0)break}if(H=0,v.lookahead>=U&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+U-1])&v.hash_mask,H=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),H!==0&&v.strstart-H<=v.w_size-ne&&(v.match_length=C(v,H)),v.match_length>=U)if(N=o._tr_tally(v,v.strstart-v.match_start,v.match_length-U),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=U){for(v.match_length--;v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+U-1])&v.hash_mask,H=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart,--v.match_length!=0;);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else N=o._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(N&&(R(v,!1),v.strm.avail_out===0))return b}return v.insert=v.strstart<U-1?v.strstart:U-1,Q===y?(R(v,!0),v.strm.avail_out===0?me:X):v.last_lit&&(R(v,!1),v.strm.avail_out===0)?b:J}function re(v,Q){for(var H,N,P;;){if(v.lookahead<ne){if(K(v),v.lookahead<ne&&Q===f)return b;if(v.lookahead===0)break}if(H=0,v.lookahead>=U&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+U-1])&v.hash_mask,H=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=U-1,H!==0&&v.prev_length<v.max_lazy_match&&v.strstart-H<=v.w_size-ne&&(v.match_length=C(v,H),v.match_length<=5&&(v.strategy===1||v.match_length===U&&4096<v.strstart-v.match_start)&&(v.match_length=U-1)),v.prev_length>=U&&v.match_length<=v.prev_length){for(P=v.strstart+v.lookahead-U,N=o._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-U),v.lookahead-=v.prev_length-1,v.prev_length-=2;++v.strstart<=P&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+U-1])&v.hash_mask,H=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),--v.prev_length!=0;);if(v.match_available=0,v.match_length=U-1,v.strstart++,N&&(R(v,!1),v.strm.avail_out===0))return b}else if(v.match_available){if((N=o._tr_tally(v,0,v.window[v.strstart-1]))&&R(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return b}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(N=o._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<U-1?v.strstart:U-1,Q===y?(R(v,!0),v.strm.avail_out===0?me:X):v.last_lit&&(R(v,!1),v.strm.avail_out===0)?b:J}function de(v,Q,H,N,P){this.good_length=v,this.max_lazy=Q,this.nice_length=H,this.max_chain=N,this.func=P}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*I),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*A+1)),x(this.dyn_ltree),x(this.dyn_dtree),x(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(B+1),this.heap=new a.Buf16(2*k+1),x(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*k+1),x(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(v){var Q;return v&&v.state?(v.total_in=v.total_out=0,v.data_type=h,(Q=v.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?T:W,v.adler=Q.wrap===2?0:1,Q.last_flush=f,o._tr_init(Q),d):he(v,m)}function He(v){var Q=Ae(v);return Q===d&&function(H){H.window_size=2*H.w_size,x(H.head),H.max_lazy_match=i[H.level].max_lazy,H.good_match=i[H.level].good_length,H.nice_match=i[H.level].nice_length,H.max_chain_length=i[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=U-1,H.match_available=0,H.ins_h=0}(v.state),Q}function Ye(v,Q,H,N,P,M){if(!v)return m;var Y=1;if(Q===u&&(Q=6),N<0?(Y=0,N=-N):15<N&&(Y=2,N-=16),P<1||w<P||H!==g||N<8||15<N||Q<0||9<Q||M<0||_<M)return he(v,m);N===8&&(N=9);var ee=new ye;return(v.state=ee).strm=v,ee.wrap=Y,ee.gzhead=null,ee.w_bits=N,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=P+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+U-1)/U),ee.window=new a.Buf8(2*ee.w_size),ee.head=new a.Buf16(ee.hash_size),ee.prev=new a.Buf16(ee.w_size),ee.lit_bufsize=1<<P+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new a.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=Q,ee.strategy=M,ee.method=H,He(v)}i=[new de(0,0,0,0,function(v,Q){var H=65535;for(H>v.pending_buf_size-5&&(H=v.pending_buf_size-5);;){if(v.lookahead<=1){if(K(v),v.lookahead===0&&Q===f)return b;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var N=v.block_start+H;if((v.strstart===0||v.strstart>=N)&&(v.lookahead=v.strstart-N,v.strstart=N,R(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-ne&&(R(v,!1),v.strm.avail_out===0))return b}return v.insert=0,Q===y?(R(v,!0),v.strm.avail_out===0?me:X):(v.strstart>v.block_start&&(R(v,!1),v.strm.avail_out),b)}),new de(4,4,8,4,se),new de(4,5,16,8,se),new de(4,6,32,32,se),new de(4,4,16,16,re),new de(8,16,32,32,re),new de(8,16,128,128,re),new de(8,32,128,256,re),new de(32,128,258,1024,re),new de(32,258,258,4096,re)],n.deflateInit=function(v,Q){return Ye(v,Q,g,15,8,0)},n.deflateInit2=Ye,n.deflateReset=He,n.deflateResetKeep=Ae,n.deflateSetHeader=function(v,Q){return v&&v.state?v.state.wrap!==2?m:(v.state.gzhead=Q,d):m},n.deflate=function(v,Q){var H,N,P,M;if(!v||!v.state||5<Q||Q<0)return v?he(v,m):m;if(N=v.state,!v.output||!v.input&&v.avail_in!==0||N.status===666&&Q!==y)return he(v,v.avail_out===0?-5:m);if(N.strm=v,H=N.last_flush,N.last_flush=Q,N.status===T)if(N.wrap===2)v.adler=0,F(N,31),F(N,139),F(N,8),N.gzhead?(F(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),F(N,255&N.gzhead.time),F(N,N.gzhead.time>>8&255),F(N,N.gzhead.time>>16&255),F(N,N.gzhead.time>>24&255),F(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),F(N,255&N.gzhead.os),N.gzhead.extra&&N.gzhead.extra.length&&(F(N,255&N.gzhead.extra.length),F(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(v.adler=c(v.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=69):(F(N,0),F(N,0),F(N,0),F(N,0),F(N,0),F(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),F(N,3),N.status=W);else{var Y=g+(N.w_bits-8<<4)<<8;Y|=(2<=N.strategy||N.level<2?0:N.level<6?1:N.level===6?2:3)<<6,N.strstart!==0&&(Y|=32),Y+=31-Y%31,N.status=W,$(N,Y),N.strstart!==0&&($(N,v.adler>>>16),$(N,65535&v.adler)),v.adler=1}if(N.status===69)if(N.gzhead.extra){for(P=N.pending;N.gzindex<(65535&N.gzhead.extra.length)&&(N.pending!==N.pending_buf_size||(N.gzhead.hcrc&&N.pending>P&&(v.adler=c(v.adler,N.pending_buf,N.pending-P,P)),E(v),P=N.pending,N.pending!==N.pending_buf_size));)F(N,255&N.gzhead.extra[N.gzindex]),N.gzindex++;N.gzhead.hcrc&&N.pending>P&&(v.adler=c(v.adler,N.pending_buf,N.pending-P,P)),N.gzindex===N.gzhead.extra.length&&(N.gzindex=0,N.status=73)}else N.status=73;if(N.status===73)if(N.gzhead.name){P=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>P&&(v.adler=c(v.adler,N.pending_buf,N.pending-P,P)),E(v),P=N.pending,N.pending===N.pending_buf_size)){M=1;break}M=N.gzindex<N.gzhead.name.length?255&N.gzhead.name.charCodeAt(N.gzindex++):0,F(N,M)}while(M!==0);N.gzhead.hcrc&&N.pending>P&&(v.adler=c(v.adler,N.pending_buf,N.pending-P,P)),M===0&&(N.gzindex=0,N.status=91)}else N.status=91;if(N.status===91)if(N.gzhead.comment){P=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>P&&(v.adler=c(v.adler,N.pending_buf,N.pending-P,P)),E(v),P=N.pending,N.pending===N.pending_buf_size)){M=1;break}M=N.gzindex<N.gzhead.comment.length?255&N.gzhead.comment.charCodeAt(N.gzindex++):0,F(N,M)}while(M!==0);N.gzhead.hcrc&&N.pending>P&&(v.adler=c(v.adler,N.pending_buf,N.pending-P,P)),M===0&&(N.status=103)}else N.status=103;if(N.status===103&&(N.gzhead.hcrc?(N.pending+2>N.pending_buf_size&&E(v),N.pending+2<=N.pending_buf_size&&(F(N,255&v.adler),F(N,v.adler>>8&255),v.adler=0,N.status=W)):N.status=W),N.pending!==0){if(E(v),v.avail_out===0)return N.last_flush=-1,d}else if(v.avail_in===0&&Z(Q)<=Z(H)&&Q!==y)return he(v,-5);if(N.status===666&&v.avail_in!==0)return he(v,-5);if(v.avail_in!==0||N.lookahead!==0||Q!==f&&N.status!==666){var ee=N.strategy===2?function(L,te){for(var le;;){if(L.lookahead===0&&(K(L),L.lookahead===0)){if(te===f)return b;break}if(L.match_length=0,le=o._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,le&&(R(L,!1),L.strm.avail_out===0))return b}return L.insert=0,te===y?(R(L,!0),L.strm.avail_out===0?me:X):L.last_lit&&(R(L,!1),L.strm.avail_out===0)?b:J}(N,Q):N.strategy===3?function(L,te){for(var le,ie,pe,Te,Ce=L.window;;){if(L.lookahead<=V){if(K(L),L.lookahead<=V&&te===f)return b;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=U&&0<L.strstart&&(ie=Ce[pe=L.strstart-1])===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]){Te=L.strstart+V;do;while(ie===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]&&pe<Te);L.match_length=V-(Te-pe),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=U?(le=o._tr_tally(L,1,L.match_length-U),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(le=o._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),le&&(R(L,!1),L.strm.avail_out===0))return b}return L.insert=0,te===y?(R(L,!0),L.strm.avail_out===0?me:X):L.last_lit&&(R(L,!1),L.strm.avail_out===0)?b:J}(N,Q):i[N.level].func(N,Q);if(ee!==me&&ee!==X||(N.status=666),ee===b||ee===me)return v.avail_out===0&&(N.last_flush=-1),d;if(ee===J&&(Q===1?o._tr_align(N):Q!==5&&(o._tr_stored_block(N,0,0,!1),Q===3&&(x(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),E(v),v.avail_out===0))return N.last_flush=-1,d}return Q!==y?d:N.wrap<=0?1:(N.wrap===2?(F(N,255&v.adler),F(N,v.adler>>8&255),F(N,v.adler>>16&255),F(N,v.adler>>24&255),F(N,255&v.total_in),F(N,v.total_in>>8&255),F(N,v.total_in>>16&255),F(N,v.total_in>>24&255)):($(N,v.adler>>>16),$(N,65535&v.adler)),E(v),0<N.wrap&&(N.wrap=-N.wrap),N.pending!==0?d:1)},n.deflateEnd=function(v){var Q;return v&&v.state?(Q=v.state.status)!==T&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==W&&Q!==666?he(v,m):(v.state=null,Q===W?he(v,-3):d):m},n.deflateSetDictionary=function(v,Q){var H,N,P,M,Y,ee,L,te,le=Q.length;if(!v||!v.state||(M=(H=v.state).wrap)===2||M===1&&H.status!==T||H.lookahead)return m;for(M===1&&(v.adler=l(v.adler,Q,le,0)),H.wrap=0,le>=H.w_size&&(M===0&&(x(H.head),H.strstart=0,H.block_start=0,H.insert=0),te=new a.Buf8(H.w_size),a.arraySet(te,Q,le-H.w_size,H.w_size,0),Q=te,le=H.w_size),Y=v.avail_in,ee=v.next_in,L=v.input,v.avail_in=le,v.next_in=0,v.input=Q,K(H);H.lookahead>=U;){for(N=H.strstart,P=H.lookahead-(U-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[N+U-1])&H.hash_mask,H.prev[N&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=N,N++,--P;);H.strstart=N,H.lookahead=U-1,K(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=U-1,H.match_available=0,v.next_in=ee,v.input=L,v.avail_in=Y,H.wrap=M,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,s,n){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,s,n){s.exports=function(i,a){var o,l,c,p,f,y,d,m,u,_,h,g,w,k,S,A,I,B,U,V,ne,T,W,b,J;o=i.state,l=i.next_in,b=i.input,c=l+(i.avail_in-5),p=i.next_out,J=i.output,f=p-(a-i.avail_out),y=p+(i.avail_out-257),d=o.dmax,m=o.wsize,u=o.whave,_=o.wnext,h=o.window,g=o.hold,w=o.bits,k=o.lencode,S=o.distcode,A=(1<<o.lenbits)-1,I=(1<<o.distbits)-1;e:do{w<15&&(g+=b[l++]<<w,w+=8,g+=b[l++]<<w,w+=8),B=k[g&A];t:for(;;){if(g>>>=U=B>>>24,w-=U,(U=B>>>16&255)===0)J[p++]=65535&B;else{if(!(16&U)){if(!(64&U)){B=k[(65535&B)+(g&(1<<U)-1)];continue t}if(32&U){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}V=65535&B,(U&=15)&&(w<U&&(g+=b[l++]<<w,w+=8),V+=g&(1<<U)-1,g>>>=U,w-=U),w<15&&(g+=b[l++]<<w,w+=8,g+=b[l++]<<w,w+=8),B=S[g&I];r:for(;;){if(g>>>=U=B>>>24,w-=U,!(16&(U=B>>>16&255))){if(!(64&U)){B=S[(65535&B)+(g&(1<<U)-1)];continue r}i.msg="invalid distance code",o.mode=30;break e}if(ne=65535&B,w<(U&=15)&&(g+=b[l++]<<w,(w+=8)<U&&(g+=b[l++]<<w,w+=8)),d<(ne+=g&(1<<U)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(g>>>=U,w-=U,(U=p-f)<ne){if(u<(U=ne-U)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if(W=h,(T=0)===_){if(T+=m-U,U<V){for(V-=U;J[p++]=h[T++],--U;);T=p-ne,W=J}}else if(_<U){if(T+=m+_-U,(U-=_)<V){for(V-=U;J[p++]=h[T++],--U;);if(T=0,_<V){for(V-=U=_;J[p++]=h[T++],--U;);T=p-ne,W=J}}}else if(T+=_-U,U<V){for(V-=U;J[p++]=h[T++],--U;);T=p-ne,W=J}for(;2<V;)J[p++]=W[T++],J[p++]=W[T++],J[p++]=W[T++],V-=3;V&&(J[p++]=W[T++],1<V&&(J[p++]=W[T++]))}else{for(T=p-ne;J[p++]=J[T++],J[p++]=J[T++],J[p++]=J[T++],2<(V-=3););V&&(J[p++]=J[T++],1<V&&(J[p++]=J[T++]))}break}}break}}while(l<c&&p<y);l-=V=w>>3,g&=(1<<(w-=V<<3))-1,i.next_in=l,i.next_out=p,i.avail_in=l<c?c-l+5:5-(l-c),i.avail_out=p<y?y-p+257:257-(p-y),o.hold=g,o.bits=w}},{}],49:[function(r,s,n){var i=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),p=1,f=2,y=0,d=-2,m=1,u=852,_=592;function h(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(T){var W;return T&&T.state?(W=T.state,T.total_in=T.total_out=W.total=0,T.msg="",W.wrap&&(T.adler=1&W.wrap),W.mode=m,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new i.Buf32(u),W.distcode=W.distdyn=new i.Buf32(_),W.sane=1,W.back=-1,y):d}function k(T){var W;return T&&T.state?((W=T.state).wsize=0,W.whave=0,W.wnext=0,w(T)):d}function S(T,W){var b,J;return T&&T.state?(J=T.state,W<0?(b=0,W=-W):(b=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?d:(J.window!==null&&J.wbits!==W&&(J.window=null),J.wrap=b,J.wbits=W,k(T))):d}function A(T,W){var b,J;return T?(J=new g,(T.state=J).window=null,(b=S(T,W))!==y&&(T.state=null),b):d}var I,B,U=!0;function V(T){if(U){var W;for(I=new i.Buf32(512),B=new i.Buf32(32),W=0;W<144;)T.lens[W++]=8;for(;W<256;)T.lens[W++]=9;for(;W<280;)T.lens[W++]=7;for(;W<288;)T.lens[W++]=8;for(c(p,T.lens,0,288,I,0,T.work,{bits:9}),W=0;W<32;)T.lens[W++]=5;c(f,T.lens,0,32,B,0,T.work,{bits:5}),U=!1}T.lencode=I,T.lenbits=9,T.distcode=B,T.distbits=5}function ne(T,W,b,J){var me,X=T.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new i.Buf8(X.wsize)),J>=X.wsize?(i.arraySet(X.window,W,b-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(J<(me=X.wsize-X.wnext)&&(me=J),i.arraySet(X.window,W,b-J,me,X.wnext),(J-=me)?(i.arraySet(X.window,W,b-J,J,0),X.wnext=J,X.whave=X.wsize):(X.wnext+=me,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=me))),0}n.inflateReset=k,n.inflateReset2=S,n.inflateResetKeep=w,n.inflateInit=function(T){return A(T,15)},n.inflateInit2=A,n.inflate=function(T,W){var b,J,me,X,he,Z,x,E,R,F,$,C,K,se,re,de,ye,Ae,He,Ye,v,Q,H,N,P=0,M=new i.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return d;(b=T.state).mode===12&&(b.mode=13),he=T.next_out,me=T.output,x=T.avail_out,X=T.next_in,J=T.input,Z=T.avail_in,E=b.hold,R=b.bits,F=Z,$=x,Q=y;e:for(;;)switch(b.mode){case m:if(b.wrap===0){b.mode=13;break}for(;R<16;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}if(2&b.wrap&&E===35615){M[b.check=0]=255&E,M[1]=E>>>8&255,b.check=o(b.check,M,2,0),R=E=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&E)<<8)+(E>>8))%31){T.msg="incorrect header check",b.mode=30;break}if((15&E)!=8){T.msg="unknown compression method",b.mode=30;break}if(R-=4,v=8+(15&(E>>>=4)),b.wbits===0)b.wbits=v;else if(v>b.wbits){T.msg="invalid window size",b.mode=30;break}b.dmax=1<<v,T.adler=b.check=1,b.mode=512&E?10:12,R=E=0;break;case 2:for(;R<16;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}if(b.flags=E,(255&b.flags)!=8){T.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){T.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=E>>8&1),512&b.flags&&(M[0]=255&E,M[1]=E>>>8&255,b.check=o(b.check,M,2,0)),R=E=0,b.mode=3;case 3:for(;R<32;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}b.head&&(b.head.time=E),512&b.flags&&(M[0]=255&E,M[1]=E>>>8&255,M[2]=E>>>16&255,M[3]=E>>>24&255,b.check=o(b.check,M,4,0)),R=E=0,b.mode=4;case 4:for(;R<16;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}b.head&&(b.head.xflags=255&E,b.head.os=E>>8),512&b.flags&&(M[0]=255&E,M[1]=E>>>8&255,b.check=o(b.check,M,2,0)),R=E=0,b.mode=5;case 5:if(1024&b.flags){for(;R<16;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}b.length=E,b.head&&(b.head.extra_len=E),512&b.flags&&(M[0]=255&E,M[1]=E>>>8&255,b.check=o(b.check,M,2,0)),R=E=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(Z<(C=b.length)&&(C=Z),C&&(b.head&&(v=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),i.arraySet(b.head.extra,J,X,C,v)),512&b.flags&&(b.check=o(b.check,J,C,X)),Z-=C,X+=C,b.length-=C),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(Z===0)break e;for(C=0;v=J[X+C++],b.head&&v&&b.length<65536&&(b.head.name+=String.fromCharCode(v)),v&&C<Z;);if(512&b.flags&&(b.check=o(b.check,J,C,X)),Z-=C,X+=C,v)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(Z===0)break e;for(C=0;v=J[X+C++],b.head&&v&&b.length<65536&&(b.head.comment+=String.fromCharCode(v)),v&&C<Z;);if(512&b.flags&&(b.check=o(b.check,J,C,X)),Z-=C,X+=C,v)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;R<16;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}if(E!==(65535&b.check)){T.msg="header crc mismatch",b.mode=30;break}R=E=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),T.adler=b.check=0,b.mode=12;break;case 10:for(;R<32;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}T.adler=b.check=h(E),R=E=0,b.mode=11;case 11:if(b.havedict===0)return T.next_out=he,T.avail_out=x,T.next_in=X,T.avail_in=Z,b.hold=E,b.bits=R,2;T.adler=b.check=1,b.mode=12;case 12:if(W===5||W===6)break e;case 13:if(b.last){E>>>=7&R,R-=7&R,b.mode=27;break}for(;R<3;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}switch(b.last=1&E,R-=1,3&(E>>>=1)){case 0:b.mode=14;break;case 1:if(V(b),b.mode=20,W!==6)break;E>>>=2,R-=2;break e;case 2:b.mode=17;break;case 3:T.msg="invalid block type",b.mode=30}E>>>=2,R-=2;break;case 14:for(E>>>=7&R,R-=7&R;R<32;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}if((65535&E)!=(E>>>16^65535)){T.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&E,R=E=0,b.mode=15,W===6)break e;case 15:b.mode=16;case 16:if(C=b.length){if(Z<C&&(C=Z),x<C&&(C=x),C===0)break e;i.arraySet(me,J,X,C,he),Z-=C,X+=C,x-=C,he+=C,b.length-=C;break}b.mode=12;break;case 17:for(;R<14;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}if(b.nlen=257+(31&E),E>>>=5,R-=5,b.ndist=1+(31&E),E>>>=5,R-=5,b.ncode=4+(15&E),E>>>=4,R-=4,286<b.nlen||30<b.ndist){T.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;R<3;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}b.lens[Y[b.have++]]=7&E,E>>>=3,R-=3}for(;b.have<19;)b.lens[Y[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,H={bits:b.lenbits},Q=c(0,b.lens,0,19,b.lencode,0,b.work,H),b.lenbits=H.bits,Q){T.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;de=(P=b.lencode[E&(1<<b.lenbits)-1])>>>16&255,ye=65535&P,!((re=P>>>24)<=R);){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}if(ye<16)E>>>=re,R-=re,b.lens[b.have++]=ye;else{if(ye===16){for(N=re+2;R<N;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}if(E>>>=re,R-=re,b.have===0){T.msg="invalid bit length repeat",b.mode=30;break}v=b.lens[b.have-1],C=3+(3&E),E>>>=2,R-=2}else if(ye===17){for(N=re+3;R<N;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}R-=re,v=0,C=3+(7&(E>>>=re)),E>>>=3,R-=3}else{for(N=re+7;R<N;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}R-=re,v=0,C=11+(127&(E>>>=re)),E>>>=7,R-=7}if(b.have+C>b.nlen+b.ndist){T.msg="invalid bit length repeat",b.mode=30;break}for(;C--;)b.lens[b.have++]=v}}if(b.mode===30)break;if(b.lens[256]===0){T.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,H={bits:b.lenbits},Q=c(p,b.lens,0,b.nlen,b.lencode,0,b.work,H),b.lenbits=H.bits,Q){T.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,H={bits:b.distbits},Q=c(f,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,H),b.distbits=H.bits,Q){T.msg="invalid distances set",b.mode=30;break}if(b.mode=20,W===6)break e;case 20:b.mode=21;case 21:if(6<=Z&&258<=x){T.next_out=he,T.avail_out=x,T.next_in=X,T.avail_in=Z,b.hold=E,b.bits=R,l(T,$),he=T.next_out,me=T.output,x=T.avail_out,X=T.next_in,J=T.input,Z=T.avail_in,E=b.hold,R=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;de=(P=b.lencode[E&(1<<b.lenbits)-1])>>>16&255,ye=65535&P,!((re=P>>>24)<=R);){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}if(de&&!(240&de)){for(Ae=re,He=de,Ye=ye;de=(P=b.lencode[Ye+((E&(1<<Ae+He)-1)>>Ae)])>>>16&255,ye=65535&P,!(Ae+(re=P>>>24)<=R);){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}E>>>=Ae,R-=Ae,b.back+=Ae}if(E>>>=re,R-=re,b.back+=re,b.length=ye,de===0){b.mode=26;break}if(32&de){b.back=-1,b.mode=12;break}if(64&de){T.msg="invalid literal/length code",b.mode=30;break}b.extra=15&de,b.mode=22;case 22:if(b.extra){for(N=b.extra;R<N;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}b.length+=E&(1<<b.extra)-1,E>>>=b.extra,R-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;de=(P=b.distcode[E&(1<<b.distbits)-1])>>>16&255,ye=65535&P,!((re=P>>>24)<=R);){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}if(!(240&de)){for(Ae=re,He=de,Ye=ye;de=(P=b.distcode[Ye+((E&(1<<Ae+He)-1)>>Ae)])>>>16&255,ye=65535&P,!(Ae+(re=P>>>24)<=R);){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}E>>>=Ae,R-=Ae,b.back+=Ae}if(E>>>=re,R-=re,b.back+=re,64&de){T.msg="invalid distance code",b.mode=30;break}b.offset=ye,b.extra=15&de,b.mode=24;case 24:if(b.extra){for(N=b.extra;R<N;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}b.offset+=E&(1<<b.extra)-1,E>>>=b.extra,R-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){T.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(x===0)break e;if(C=$-x,b.offset>C){if((C=b.offset-C)>b.whave&&b.sane){T.msg="invalid distance too far back",b.mode=30;break}K=C>b.wnext?(C-=b.wnext,b.wsize-C):b.wnext-C,C>b.length&&(C=b.length),se=b.window}else se=me,K=he-b.offset,C=b.length;for(x<C&&(C=x),x-=C,b.length-=C;me[he++]=se[K++],--C;);b.length===0&&(b.mode=21);break;case 26:if(x===0)break e;me[he++]=b.length,x--,b.mode=21;break;case 27:if(b.wrap){for(;R<32;){if(Z===0)break e;Z--,E|=J[X++]<<R,R+=8}if($-=x,T.total_out+=$,b.total+=$,$&&(T.adler=b.check=b.flags?o(b.check,me,$,he-$):a(b.check,me,$,he-$)),$=x,(b.flags?E:h(E))!==b.check){T.msg="incorrect data check",b.mode=30;break}R=E=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;R<32;){if(Z===0)break e;Z--,E+=J[X++]<<R,R+=8}if(E!==(4294967295&b.total)){T.msg="incorrect length check",b.mode=30;break}R=E=0}b.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;case 32:default:return d}return T.next_out=he,T.avail_out=x,T.next_in=X,T.avail_in=Z,b.hold=E,b.bits=R,(b.wsize||$!==T.avail_out&&b.mode<30&&(b.mode<27||W!==4))&&ne(T,T.output,T.next_out,$-T.avail_out)?(b.mode=31,-4):(F-=T.avail_in,$-=T.avail_out,T.total_in+=F,T.total_out+=$,b.total+=$,b.wrap&&$&&(T.adler=b.check=b.flags?o(b.check,me,$,T.next_out-$):a(b.check,me,$,T.next_out-$)),T.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(F==0&&$===0||W===4)&&Q===y&&(Q=-5),Q)},n.inflateEnd=function(T){if(!T||!T.state)return d;var W=T.state;return W.window&&(W.window=null),T.state=null,y},n.inflateGetHeader=function(T,W){var b;return T&&T.state&&2&(b=T.state).wrap?((b.head=W).done=!1,y):d},n.inflateSetDictionary=function(T,W){var b,J=W.length;return T&&T.state?(b=T.state).wrap!==0&&b.mode!==11?d:b.mode===11&&a(1,W,J,0)!==b.check?-3:ne(T,W,J,J)?(b.mode=31,-4):(b.havedict=1,y):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,s,n){var i=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(p,f,y,d,m,u,_,h){var g,w,k,S,A,I,B,U,V,ne=h.bits,T=0,W=0,b=0,J=0,me=0,X=0,he=0,Z=0,x=0,E=0,R=null,F=0,$=new i.Buf16(16),C=new i.Buf16(16),K=null,se=0;for(T=0;T<=15;T++)$[T]=0;for(W=0;W<d;W++)$[f[y+W]]++;for(me=ne,J=15;1<=J&&$[J]===0;J--);if(J<me&&(me=J),J===0)return m[u++]=20971520,m[u++]=20971520,h.bits=1,0;for(b=1;b<J&&$[b]===0;b++);for(me<b&&(me=b),T=Z=1;T<=15;T++)if(Z<<=1,(Z-=$[T])<0)return-1;if(0<Z&&(p===0||J!==1))return-1;for(C[1]=0,T=1;T<15;T++)C[T+1]=C[T]+$[T];for(W=0;W<d;W++)f[y+W]!==0&&(_[C[f[y+W]]++]=W);if(I=p===0?(R=K=_,19):p===1?(R=a,F-=257,K=o,se-=257,256):(R=l,K=c,-1),T=b,A=u,he=W=E=0,k=-1,S=(x=1<<(X=me))-1,p===1&&852<x||p===2&&592<x)return 1;for(;;){for(B=T-he,V=_[W]<I?(U=0,_[W]):_[W]>I?(U=K[se+_[W]],R[F+_[W]]):(U=96,0),g=1<<T-he,b=w=1<<X;m[A+(E>>he)+(w-=g)]=B<<24|U<<16|V|0,w!==0;);for(g=1<<T-1;E&g;)g>>=1;if(g!==0?(E&=g-1,E+=g):E=0,W++,--$[T]==0){if(T===J)break;T=f[y+_[W]]}if(me<T&&(E&S)!==k){for(he===0&&(he=me),A+=b,Z=1<<(X=T-he);X+he<J&&!((Z-=$[X+he])<=0);)X++,Z<<=1;if(x+=1<<X,p===1&&852<x||p===2&&592<x)return 1;m[k=E&S]=me<<24|X<<16|A-u|0}}return E!==0&&(m[A+E]=T-he<<24|64<<16|0),h.bits=me,0}},{"../utils/common":41}],51:[function(r,s,n){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,s,n){var i=r("../utils/common"),a=0,o=1;function l(P){for(var M=P.length;0<=--M;)P[M]=0}var c=0,p=29,f=256,y=f+1+p,d=30,m=19,u=2*y+1,_=15,h=16,g=7,w=256,k=16,S=17,A=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(2*(y+2));l(ne);var T=new Array(2*d);l(T);var W=new Array(512);l(W);var b=new Array(256);l(b);var J=new Array(p);l(J);var me,X,he,Z=new Array(d);function x(P,M,Y,ee,L){this.static_tree=P,this.extra_bits=M,this.extra_base=Y,this.elems=ee,this.max_length=L,this.has_stree=P&&P.length}function E(P,M){this.dyn_tree=P,this.max_code=0,this.stat_desc=M}function R(P){return P<256?W[P]:W[256+(P>>>7)]}function F(P,M){P.pending_buf[P.pending++]=255&M,P.pending_buf[P.pending++]=M>>>8&255}function $(P,M,Y){P.bi_valid>h-Y?(P.bi_buf|=M<<P.bi_valid&65535,F(P,P.bi_buf),P.bi_buf=M>>h-P.bi_valid,P.bi_valid+=Y-h):(P.bi_buf|=M<<P.bi_valid&65535,P.bi_valid+=Y)}function C(P,M,Y){$(P,Y[2*M],Y[2*M+1])}function K(P,M){for(var Y=0;Y|=1&P,P>>>=1,Y<<=1,0<--M;);return Y>>>1}function se(P,M,Y){var ee,L,te=new Array(_+1),le=0;for(ee=1;ee<=_;ee++)te[ee]=le=le+Y[ee-1]<<1;for(L=0;L<=M;L++){var ie=P[2*L+1];ie!==0&&(P[2*L]=K(te[ie]++,ie))}}function re(P){var M;for(M=0;M<y;M++)P.dyn_ltree[2*M]=0;for(M=0;M<d;M++)P.dyn_dtree[2*M]=0;for(M=0;M<m;M++)P.bl_tree[2*M]=0;P.dyn_ltree[2*w]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function de(P){8<P.bi_valid?F(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function ye(P,M,Y,ee){var L=2*M,te=2*Y;return P[L]<P[te]||P[L]===P[te]&&ee[M]<=ee[Y]}function Ae(P,M,Y){for(var ee=P.heap[Y],L=Y<<1;L<=P.heap_len&&(L<P.heap_len&&ye(M,P.heap[L+1],P.heap[L],P.depth)&&L++,!ye(M,ee,P.heap[L],P.depth));)P.heap[Y]=P.heap[L],Y=L,L<<=1;P.heap[Y]=ee}function He(P,M,Y){var ee,L,te,le,ie=0;if(P.last_lit!==0)for(;ee=P.pending_buf[P.d_buf+2*ie]<<8|P.pending_buf[P.d_buf+2*ie+1],L=P.pending_buf[P.l_buf+ie],ie++,ee===0?C(P,L,M):(C(P,(te=b[L])+f+1,M),(le=I[te])!==0&&$(P,L-=J[te],le),C(P,te=R(--ee),Y),(le=B[te])!==0&&$(P,ee-=Z[te],le)),ie<P.last_lit;);C(P,w,M)}function Ye(P,M){var Y,ee,L,te=M.dyn_tree,le=M.stat_desc.static_tree,ie=M.stat_desc.has_stree,pe=M.stat_desc.elems,Te=-1;for(P.heap_len=0,P.heap_max=u,Y=0;Y<pe;Y++)te[2*Y]!==0?(P.heap[++P.heap_len]=Te=Y,P.depth[Y]=0):te[2*Y+1]=0;for(;P.heap_len<2;)te[2*(L=P.heap[++P.heap_len]=Te<2?++Te:0)]=1,P.depth[L]=0,P.opt_len--,ie&&(P.static_len-=le[2*L+1]);for(M.max_code=Te,Y=P.heap_len>>1;1<=Y;Y--)Ae(P,te,Y);for(L=pe;Y=P.heap[1],P.heap[1]=P.heap[P.heap_len--],Ae(P,te,1),ee=P.heap[1],P.heap[--P.heap_max]=Y,P.heap[--P.heap_max]=ee,te[2*L]=te[2*Y]+te[2*ee],P.depth[L]=(P.depth[Y]>=P.depth[ee]?P.depth[Y]:P.depth[ee])+1,te[2*Y+1]=te[2*ee+1]=L,P.heap[1]=L++,Ae(P,te,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],function(Ce,Be){var ct,ut,qt,je,rr,Tr,pt=Be.dyn_tree,ft=Be.max_code,Dn=Be.stat_desc.static_tree,jn=Be.stat_desc.has_stree,zn=Be.stat_desc.extra_bits,sn=Be.stat_desc.extra_base,nr=Be.stat_desc.max_length,hr=0;for(je=0;je<=_;je++)Ce.bl_count[je]=0;for(pt[2*Ce.heap[Ce.heap_max]+1]=0,ct=Ce.heap_max+1;ct<u;ct++)nr<(je=pt[2*pt[2*(ut=Ce.heap[ct])+1]+1]+1)&&(je=nr,hr++),pt[2*ut+1]=je,ft<ut||(Ce.bl_count[je]++,rr=0,sn<=ut&&(rr=zn[ut-sn]),Tr=pt[2*ut],Ce.opt_len+=Tr*(je+rr),jn&&(Ce.static_len+=Tr*(Dn[2*ut+1]+rr)));if(hr!==0){do{for(je=nr-1;Ce.bl_count[je]===0;)je--;Ce.bl_count[je]--,Ce.bl_count[je+1]+=2,Ce.bl_count[nr]--,hr-=2}while(0<hr);for(je=nr;je!==0;je--)for(ut=Ce.bl_count[je];ut!==0;)ft<(qt=Ce.heap[--ct])||(pt[2*qt+1]!==je&&(Ce.opt_len+=(je-pt[2*qt+1])*pt[2*qt],pt[2*qt+1]=je),ut--)}}(P,M),se(te,Te,P.bl_count)}function v(P,M,Y){var ee,L,te=-1,le=M[1],ie=0,pe=7,Te=4;for(le===0&&(pe=138,Te=3),M[2*(Y+1)+1]=65535,ee=0;ee<=Y;ee++)L=le,le=M[2*(ee+1)+1],++ie<pe&&L===le||(ie<Te?P.bl_tree[2*L]+=ie:L!==0?(L!==te&&P.bl_tree[2*L]++,P.bl_tree[2*k]++):ie<=10?P.bl_tree[2*S]++:P.bl_tree[2*A]++,te=L,Te=(ie=0)===le?(pe=138,3):L===le?(pe=6,3):(pe=7,4))}function Q(P,M,Y){var ee,L,te=-1,le=M[1],ie=0,pe=7,Te=4;for(le===0&&(pe=138,Te=3),ee=0;ee<=Y;ee++)if(L=le,le=M[2*(ee+1)+1],!(++ie<pe&&L===le)){if(ie<Te)for(;C(P,L,P.bl_tree),--ie!=0;);else L!==0?(L!==te&&(C(P,L,P.bl_tree),ie--),C(P,k,P.bl_tree),$(P,ie-3,2)):ie<=10?(C(P,S,P.bl_tree),$(P,ie-3,3)):(C(P,A,P.bl_tree),$(P,ie-11,7));te=L,Te=(ie=0)===le?(pe=138,3):L===le?(pe=6,3):(pe=7,4)}}l(Z);var H=!1;function N(P,M,Y,ee){$(P,(c<<1)+(ee?1:0),3),function(L,te,le,ie){de(L),ie&&(F(L,le),F(L,~le)),i.arraySet(L.pending_buf,L.window,te,le,L.pending),L.pending+=le}(P,M,Y,!0)}n._tr_init=function(P){H||(function(){var M,Y,ee,L,te,le=new Array(_+1);for(L=ee=0;L<p-1;L++)for(J[L]=ee,M=0;M<1<<I[L];M++)b[ee++]=L;for(b[ee-1]=L,L=te=0;L<16;L++)for(Z[L]=te,M=0;M<1<<B[L];M++)W[te++]=L;for(te>>=7;L<d;L++)for(Z[L]=te<<7,M=0;M<1<<B[L]-7;M++)W[256+te++]=L;for(Y=0;Y<=_;Y++)le[Y]=0;for(M=0;M<=143;)ne[2*M+1]=8,M++,le[8]++;for(;M<=255;)ne[2*M+1]=9,M++,le[9]++;for(;M<=279;)ne[2*M+1]=7,M++,le[7]++;for(;M<=287;)ne[2*M+1]=8,M++,le[8]++;for(se(ne,y+1,le),M=0;M<d;M++)T[2*M+1]=5,T[2*M]=K(M,5);me=new x(ne,I,f+1,y,_),X=new x(T,B,0,d,_),he=new x(new Array(0),U,0,m,g)}(),H=!0),P.l_desc=new E(P.dyn_ltree,me),P.d_desc=new E(P.dyn_dtree,X),P.bl_desc=new E(P.bl_tree,he),P.bi_buf=0,P.bi_valid=0,re(P)},n._tr_stored_block=N,n._tr_flush_block=function(P,M,Y,ee){var L,te,le=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=function(ie){var pe,Te=4093624447;for(pe=0;pe<=31;pe++,Te>>>=1)if(1&Te&&ie.dyn_ltree[2*pe]!==0)return a;if(ie.dyn_ltree[18]!==0||ie.dyn_ltree[20]!==0||ie.dyn_ltree[26]!==0)return o;for(pe=32;pe<f;pe++)if(ie.dyn_ltree[2*pe]!==0)return o;return a}(P)),Ye(P,P.l_desc),Ye(P,P.d_desc),le=function(ie){var pe;for(v(ie,ie.dyn_ltree,ie.l_desc.max_code),v(ie,ie.dyn_dtree,ie.d_desc.max_code),Ye(ie,ie.bl_desc),pe=m-1;3<=pe&&ie.bl_tree[2*V[pe]+1]===0;pe--);return ie.opt_len+=3*(pe+1)+5+5+4,pe}(P),L=P.opt_len+3+7>>>3,(te=P.static_len+3+7>>>3)<=L&&(L=te)):L=te=Y+5,Y+4<=L&&M!==-1?N(P,M,Y,ee):P.strategy===4||te===L?($(P,2+(ee?1:0),3),He(P,ne,T)):($(P,4+(ee?1:0),3),function(ie,pe,Te,Ce){var Be;for($(ie,pe-257,5),$(ie,Te-1,5),$(ie,Ce-4,4),Be=0;Be<Ce;Be++)$(ie,ie.bl_tree[2*V[Be]+1],3);Q(ie,ie.dyn_ltree,pe-1),Q(ie,ie.dyn_dtree,Te-1)}(P,P.l_desc.max_code+1,P.d_desc.max_code+1,le+1),He(P,P.dyn_ltree,P.dyn_dtree)),re(P),ee&&de(P)},n._tr_tally=function(P,M,Y){return P.pending_buf[P.d_buf+2*P.last_lit]=M>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&M,P.pending_buf[P.l_buf+P.last_lit]=255&Y,P.last_lit++,M===0?P.dyn_ltree[2*Y]++:(P.matches++,M--,P.dyn_ltree[2*(b[Y]+f+1)]++,P.dyn_dtree[2*R(M)]++),P.last_lit===P.lit_bufsize-1},n._tr_align=function(P){$(P,2,3),C(P,w,ne),function(M){M.bi_valid===16?(F(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)}(P)}},{"../utils/common":41}],53:[function(r,s,n){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,s,n){(function(i){(function(a,o){if(!a.setImmediate){var l,c,p,f,y=1,d={},m=!1,u=a.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(a);_=_&&_.setTimeout?_:a,l={}.toString.call(a.process)==="[object process]"?function(k){process.nextTick(function(){g(k)})}:function(){if(a.postMessage&&!a.importScripts){var k=!0,S=a.onmessage;return a.onmessage=function(){k=!1},a.postMessage("","*"),a.onmessage=S,k}}()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(k){a.postMessage(f+k,"*")}):a.MessageChannel?((p=new MessageChannel).port1.onmessage=function(k){g(k.data)},function(k){p.port2.postMessage(k)}):u&&"onreadystatechange"in u.createElement("script")?(c=u.documentElement,function(k){var S=u.createElement("script");S.onreadystatechange=function(){g(k),S.onreadystatechange=null,c.removeChild(S),S=null},c.appendChild(S)}):function(k){setTimeout(g,0,k)},_.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var S=new Array(arguments.length-1),A=0;A<S.length;A++)S[A]=arguments[A+1];var I={callback:k,args:S};return d[y]=I,l(y),y++},_.clearImmediate=h}function h(k){delete d[k]}function g(k){if(m)setTimeout(g,0,k);else{var S=d[k];if(S){m=!0;try{(function(A){var I=A.callback,B=A.args;switch(B.length){case 0:I();break;case 1:I(B[0]);break;case 2:I(B[0],B[1]);break;case 3:I(B[0],B[1],B[2]);break;default:I.apply(o,B)}})(S)}finally{h(k),m=!1}}}}function w(k){k.source===a&&typeof k.data=="string"&&k.data.indexOf(f)===0&&g(+k.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Mr<"u"?Mr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ma);var fl=ma.exports;const Yr=pa(fl);var Qn={exports:{}},_a={},Et={},Ir={},Xr={},Pe={},Jr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(g){if(super(),!t.IDENTIFIER.test(g))throw new Error("CodeGen: name must be a valid identifier");this.str=g}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class s extends e{constructor(g){super(),this._items=typeof g=="string"?[g]:g}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const g=this._items[0];return g===""||g==='""'}get str(){var g;return(g=this._str)!==null&&g!==void 0?g:this._str=this._items.reduce((w,k)=>`${w}${k}`,"")}get names(){var g;return(g=this._names)!==null&&g!==void 0?g:this._names=this._items.reduce((w,k)=>(k instanceof r&&(w[k.str]=(w[k.str]||0)+1),w),{})}}t._Code=s,t.nil=new s("");function n(h,...g){const w=[h[0]];let k=0;for(;k<g.length;)o(w,g[k]),w.push(h[++k]);return new s(w)}t._=n;const i=new s("+");function a(h,...g){const w=[d(h[0])];let k=0;for(;k<g.length;)w.push(i),o(w,g[k]),w.push(i,d(h[++k]));return l(w),new s(w)}t.str=a;function o(h,g){g instanceof s?h.push(...g._items):g instanceof r?h.push(g):h.push(f(g))}t.addCodeArg=o;function l(h){let g=1;for(;g<h.length-1;){if(h[g]===i){const w=c(h[g-1],h[g+1]);if(w!==void 0){h.splice(g-1,3,w);continue}h[g++]="+"}g++}}function c(h,g){if(g==='""')return h;if(h==='""')return g;if(typeof h=="string")return g instanceof r||h[h.length-1]!=='"'?void 0:typeof g!="string"?`${h.slice(0,-1)}${g}"`:g[0]==='"'?h.slice(0,-1)+g.slice(1):void 0;if(typeof g=="string"&&g[0]==='"'&&!(h instanceof r))return`"${h}${g.slice(1)}`}function p(h,g){return g.emptyStr()?h:h.emptyStr()?g:a`${h}${g}`}t.strConcat=p;function f(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:d(Array.isArray(h)?h.join(","):h)}function y(h){return new s(d(h))}t.stringify=y;function d(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=d;function m(h){return typeof h=="string"&&t.IDENTIFIER.test(h)?new s(`.${h}`):n`[${h}]`}t.getProperty=m;function u(h){if(typeof h=="string"&&t.IDENTIFIER.test(h))return new s(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}t.getEsmExportName=u;function _(h){return new s(h.toString())}t.regexpCode=_})(Jr);var Yn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Jr;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var s;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(s=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class n{constructor({prefixes:c,parent:p}={}){this._names={},this._prefixes=c,this._parent=p}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const p=this._names[c]||this._nameGroup(c);return`${c}${p.index++}`}_nameGroup(c){var p,f;if(!((f=(p=this._parent)===null||p===void 0?void 0:p._prefixes)===null||f===void 0)&&f.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=n;class i extends e.Name{constructor(c,p){super(p),this.prefix=c}setValue(c,{property:p,itemIndex:f}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(p)}[${f}]`}}t.ValueScopeName=i;const a=(0,e._)`\n`;class o extends n{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?a:e.nil}}get(){return this._scope}name(c){return new i(c,this._newName(c))}value(c,p){var f;if(p.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const y=this.toName(c),{prefix:d}=y,m=(f=p.key)!==null&&f!==void 0?f:p.ref;let u=this._values[d];if(u){const g=u.get(m);if(g)return g}else u=this._values[d]=new Map;u.set(m,y);const _=this._scope[d]||(this._scope[d]=[]),h=_.length;return _[h]=p.ref,y.setValue(p,{property:d,itemIndex:h}),y}getValue(c,p){const f=this._values[c];if(f)return f.get(p)}scopeRefs(c,p=this._values){return this._reduceValues(p,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${c}${f.scopePath}`})}scopeCode(c=this._values,p,f){return this._reduceValues(c,y=>{if(y.value===void 0)throw new Error(`CodeGen: name "${y}" has no value`);return y.value.code},p,f)}_reduceValues(c,p,f={},y){let d=e.nil;for(const m in c){const u=c[m];if(!u)continue;const _=f[m]=f[m]||new Map;u.forEach(h=>{if(_.has(h))return;_.set(h,s.Started);let g=p(h);if(g){const w=this.opts.es5?t.varKinds.var:t.varKinds.const;d=(0,e._)`${d}${w} ${h} = ${g};${this.opts._n}`}else if(g=y==null?void 0:y(h))d=(0,e._)`${d}${g}${this.opts._n}`;else throw new r(h);_.set(h,s.Completed)})}return d}}t.ValueScope=o})(Yn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Jr,r=Yn;var s=Jr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return s.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return s.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return s.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return s.Name}});var n=Yn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class i{optimizeNodes(){return this}optimizeNames($,C){return this}}class a extends i{constructor($,C,K){super(),this.varKind=$,this.name=C,this.rhs=K}render({es5:$,_n:C}){const K=$?r.varKinds.var:this.varKind,se=this.rhs===void 0?"":` = ${this.rhs}`;return`${K} ${this.name}${se};`+C}optimizeNames($,C){if($[this.name.str])return this.rhs&&(this.rhs=b(this.rhs,$,C)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends i{constructor($,C,K){super(),this.lhs=$,this.rhs=C,this.sideEffects=K}render({_n:$}){return`${this.lhs} = ${this.rhs};`+$}optimizeNames($,C){if(!(this.lhs instanceof e.Name&&!$[this.lhs.str]&&!this.sideEffects))return this.rhs=b(this.rhs,$,C),this}get names(){const $=this.lhs instanceof e.Name?{}:{...this.lhs.names};return W($,this.rhs)}}class l extends o{constructor($,C,K,se){super($,K,se),this.op=C}render({_n:$}){return`${this.lhs} ${this.op}= ${this.rhs};`+$}}class c extends i{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`${this.label}:`+$}}class p extends i{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`break${this.label?` ${this.label}`:""};`+$}}class f extends i{constructor($){super(),this.error=$}render({_n:$}){return`throw ${this.error};`+$}get names(){return this.error.names}}class y extends i{constructor($){super(),this.code=$}render({_n:$}){return`${this.code};`+$}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames($,C){return this.code=b(this.code,$,C),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class d extends i{constructor($=[]){super(),this.nodes=$}render($){return this.nodes.reduce((C,K)=>C+K.render($),"")}optimizeNodes(){const{nodes:$}=this;let C=$.length;for(;C--;){const K=$[C].optimizeNodes();Array.isArray(K)?$.splice(C,1,...K):K?$[C]=K:$.splice(C,1)}return $.length>0?this:void 0}optimizeNames($,C){const{nodes:K}=this;let se=K.length;for(;se--;){const re=K[se];re.optimizeNames($,C)||(J($,re.names),K.splice(se,1))}return K.length>0?this:void 0}get names(){return this.nodes.reduce(($,C)=>T($,C.names),{})}}class m extends d{render($){return"{"+$._n+super.render($)+"}"+$._n}}class u extends d{}class _ extends m{}_.kind="else";class h extends m{constructor($,C){super(C),this.condition=$}render($){let C=`if(${this.condition})`+super.render($);return this.else&&(C+="else "+this.else.render($)),C}optimizeNodes(){super.optimizeNodes();const $=this.condition;if($===!0)return this.nodes;let C=this.else;if(C){const K=C.optimizeNodes();C=this.else=Array.isArray(K)?new _(K):K}if(C)return $===!1?C instanceof h?C:C.nodes:this.nodes.length?this:new h(me($),C instanceof h?[C]:C.nodes);if(!($===!1||!this.nodes.length))return this}optimizeNames($,C){var K;if(this.else=(K=this.else)===null||K===void 0?void 0:K.optimizeNames($,C),!!(super.optimizeNames($,C)||this.else))return this.condition=b(this.condition,$,C),this}get names(){const $=super.names;return W($,this.condition),this.else&&T($,this.else.names),$}}h.kind="if";class g extends m{}g.kind="for";class w extends g{constructor($){super(),this.iteration=$}render($){return`for(${this.iteration})`+super.render($)}optimizeNames($,C){if(super.optimizeNames($,C))return this.iteration=b(this.iteration,$,C),this}get names(){return T(super.names,this.iteration.names)}}class k extends g{constructor($,C,K,se){super(),this.varKind=$,this.name=C,this.from=K,this.to=se}render($){const C=$.es5?r.varKinds.var:this.varKind,{name:K,from:se,to:re}=this;return`for(${C} ${K}=${se}; ${K}<${re}; ${K}++)`+super.render($)}get names(){const $=W(super.names,this.from);return W($,this.to)}}class S extends g{constructor($,C,K,se){super(),this.loop=$,this.varKind=C,this.name=K,this.iterable=se}render($){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render($)}optimizeNames($,C){if(super.optimizeNames($,C))return this.iterable=b(this.iterable,$,C),this}get names(){return T(super.names,this.iterable.names)}}class A extends m{constructor($,C,K){super(),this.name=$,this.args=C,this.async=K}render($){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render($)}}A.kind="func";class I extends d{render($){return"return "+super.render($)}}I.kind="return";class B extends m{render($){let C="try"+super.render($);return this.catch&&(C+=this.catch.render($)),this.finally&&(C+=this.finally.render($)),C}optimizeNodes(){var $,C;return super.optimizeNodes(),($=this.catch)===null||$===void 0||$.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames($,C){var K,se;return super.optimizeNames($,C),(K=this.catch)===null||K===void 0||K.optimizeNames($,C),(se=this.finally)===null||se===void 0||se.optimizeNames($,C),this}get names(){const $=super.names;return this.catch&&T($,this.catch.names),this.finally&&T($,this.finally.names),$}}class U extends m{constructor($){super(),this.error=$}render($){return`catch(${this.error})`+super.render($)}}U.kind="catch";class V extends m{render($){return"finally"+super.render($)}}V.kind="finally";class ne{constructor($,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=$,this._scope=new r.Scope({parent:$}),this._nodes=[new u]}toString(){return this._root.render(this.opts)}name($){return this._scope.name($)}scopeName($){return this._extScope.name($)}scopeValue($,C){const K=this._extScope.value($,C);return(this._values[K.prefix]||(this._values[K.prefix]=new Set)).add(K),K}getScopeValue($,C){return this._extScope.getValue($,C)}scopeRefs($){return this._extScope.scopeRefs($,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def($,C,K,se){const re=this._scope.toName(C);return K!==void 0&&se&&(this._constants[re.str]=K),this._leafNode(new a($,re,K)),re}const($,C,K){return this._def(r.varKinds.const,$,C,K)}let($,C,K){return this._def(r.varKinds.let,$,C,K)}var($,C,K){return this._def(r.varKinds.var,$,C,K)}assign($,C,K){return this._leafNode(new o($,C,K))}add($,C){return this._leafNode(new l($,t.operators.ADD,C))}code($){return typeof $=="function"?$():$!==e.nil&&this._leafNode(new y($)),this}object(...$){const C=["{"];for(const[K,se]of $)C.length>1&&C.push(","),C.push(K),(K!==se||this.opts.es5)&&(C.push(":"),(0,e.addCodeArg)(C,se));return C.push("}"),new e._Code(C)}if($,C,K){if(this._blockNode(new h($)),C&&K)this.code(C).else().code(K).endIf();else if(C)this.code(C).endIf();else if(K)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf($){return this._elseNode(new h($))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode(h,_)}_for($,C){return this._blockNode($),C&&this.code(C).endFor(),this}for($,C){return this._for(new w($),C)}forRange($,C,K,se,re=this.opts.es5?r.varKinds.var:r.varKinds.let){const de=this._scope.toName($);return this._for(new k(re,de,C,K),()=>se(de))}forOf($,C,K,se=r.varKinds.const){const re=this._scope.toName($);if(this.opts.es5){const de=C instanceof e.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,e._)`${de}.length`,ye=>{this.var(re,(0,e._)`${de}[${ye}]`),K(re)})}return this._for(new S("of",se,re,C),()=>K(re))}forIn($,C,K,se=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf($,(0,e._)`Object.keys(${C})`,K);const re=this._scope.toName($);return this._for(new S("in",se,re,C),()=>K(re))}endFor(){return this._endBlockNode(g)}label($){return this._leafNode(new c($))}break($){return this._leafNode(new p($))}return($){const C=new I;if(this._blockNode(C),this.code($),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try($,C,K){if(!C&&!K)throw new Error('CodeGen: "try" without "catch" and "finally"');const se=new B;if(this._blockNode(se),this.code($),C){const re=this.name("e");this._currNode=se.catch=new U(re),C(re)}return K&&(this._currNode=se.finally=new V,this.code(K)),this._endBlockNode(U,V)}throw($){return this._leafNode(new f($))}block($,C){return this._blockStarts.push(this._nodes.length),$&&this.code($).endBlock(C),this}endBlock($){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const K=this._nodes.length-C;if(K<0||$!==void 0&&K!==$)throw new Error(`CodeGen: wrong number of nodes: ${K} vs ${$} expected`);return this._nodes.length=C,this}func($,C=e.nil,K,se){return this._blockNode(new A($,C,K)),se&&this.code(se).endFunc(),this}endFunc(){return this._endBlockNode(A)}optimize($=1){for(;$-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode($){return this._currNode.nodes.push($),this}_blockNode($){this._currNode.nodes.push($),this._nodes.push($)}_endBlockNode($,C){const K=this._currNode;if(K instanceof $||C&&K instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${$.kind}/${C.kind}`:$.kind}"`)}_elseNode($){const C=this._currNode;if(!(C instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=$,this}get _root(){return this._nodes[0]}get _currNode(){const $=this._nodes;return $[$.length-1]}set _currNode($){const C=this._nodes;C[C.length-1]=$}}t.CodeGen=ne;function T(F,$){for(const C in $)F[C]=(F[C]||0)+($[C]||0);return F}function W(F,$){return $ instanceof e._CodeOrName?T(F,$.names):F}function b(F,$,C){if(F instanceof e.Name)return K(F);if(!se(F))return F;return new e._Code(F._items.reduce((re,de)=>(de instanceof e.Name&&(de=K(de)),de instanceof e._Code?re.push(...de._items):re.push(de),re),[]));function K(re){const de=C[re.str];return de===void 0||$[re.str]!==1?re:(delete $[re.str],de)}function se(re){return re instanceof e._Code&&re._items.some(de=>de instanceof e.Name&&$[de.str]===1&&C[de.str]!==void 0)}}function J(F,$){for(const C in $)F[C]=(F[C]||0)-($[C]||0)}function me(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:(0,e._)`!${R(F)}`}t.not=me;const X=E(t.operators.AND);function he(...F){return F.reduce(X)}t.and=he;const Z=E(t.operators.OR);function x(...F){return F.reduce(Z)}t.or=x;function E(F){return($,C)=>$===e.nil?C:C===e.nil?$:(0,e._)`${R($)} ${F} ${R(C)}`}function R(F){return F instanceof e.Name?F:(0,e._)`(${F})`}})(Pe);var Ne={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=Pe,r=Jr;function s(A){const I={};for(const B of A)I[B]=!0;return I}t.toHash=s;function n(A,I){return typeof I=="boolean"?I:Object.keys(I).length===0?!0:(i(A,I),!a(I,A.self.RULES.all))}t.alwaysValidSchema=n;function i(A,I=A.schema){const{opts:B,self:U}=A;if(!B.strictSchema||typeof I=="boolean")return;const V=U.RULES.keywords;for(const ne in I)V[ne]||S(A,`unknown keyword: "${ne}"`)}t.checkUnknownRules=i;function a(A,I){if(typeof A=="boolean")return!A;for(const B in A)if(I[B])return!0;return!1}t.schemaHasRules=a;function o(A,I){if(typeof A=="boolean")return!A;for(const B in A)if(B!=="$ref"&&I.all[B])return!0;return!1}t.schemaHasRulesButRef=o;function l({topSchemaRef:A,schemaPath:I},B,U,V){if(!V){if(typeof B=="number"||typeof B=="boolean")return B;if(typeof B=="string")return(0,e._)`${B}`}return(0,e._)`${A}${I}${(0,e.getProperty)(U)}`}t.schemaRefOrVal=l;function c(A){return y(decodeURIComponent(A))}t.unescapeFragment=c;function p(A){return encodeURIComponent(f(A))}t.escapeFragment=p;function f(A){return typeof A=="number"?`${A}`:A.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=f;function y(A){return A.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=y;function d(A,I){if(Array.isArray(A))for(const B of A)I(B);else I(A)}t.eachItem=d;function m({mergeNames:A,mergeToName:I,mergeValues:B,resultToName:U}){return(V,ne,T,W)=>{const b=T===void 0?ne:T instanceof e.Name?(ne instanceof e.Name?A(V,ne,T):I(V,ne,T),T):ne instanceof e.Name?(I(V,T,ne),ne):B(ne,T);return W===e.Name&&!(b instanceof e.Name)?U(V,b):b}}t.mergeEvaluated={props:m({mergeNames:(A,I,B)=>A.if((0,e._)`${B} !== true && ${I} !== undefined`,()=>{A.if((0,e._)`${I} === true`,()=>A.assign(B,!0),()=>A.assign(B,(0,e._)`${B} || {}`).code((0,e._)`Object.assign(${B}, ${I})`))}),mergeToName:(A,I,B)=>A.if((0,e._)`${B} !== true`,()=>{I===!0?A.assign(B,!0):(A.assign(B,(0,e._)`${B} || {}`),_(A,B,I))}),mergeValues:(A,I)=>A===!0?!0:{...A,...I},resultToName:u}),items:m({mergeNames:(A,I,B)=>A.if((0,e._)`${B} !== true && ${I} !== undefined`,()=>A.assign(B,(0,e._)`${I} === true ? true : ${B} > ${I} ? ${B} : ${I}`)),mergeToName:(A,I,B)=>A.if((0,e._)`${B} !== true`,()=>A.assign(B,I===!0?!0:(0,e._)`${B} > ${I} ? ${B} : ${I}`)),mergeValues:(A,I)=>A===!0?!0:Math.max(A,I),resultToName:(A,I)=>A.var("items",I)})};function u(A,I){if(I===!0)return A.var("props",!0);const B=A.var("props",(0,e._)`{}`);return I!==void 0&&_(A,B,I),B}t.evaluatedPropsToName=u;function _(A,I,B){Object.keys(B).forEach(U=>A.assign((0,e._)`${I}${(0,e.getProperty)(U)}`,!0))}t.setEvaluated=_;const h={};function g(A,I){return A.scopeValue("func",{ref:I,code:h[I.code]||(h[I.code]=new r._Code(I.code))})}t.useFunc=g;var w;(function(A){A[A.Num=0]="Num",A[A.Str=1]="Str"})(w=t.Type||(t.Type={}));function k(A,I,B){if(A instanceof e.Name){const U=I===w.Num;return B?U?(0,e._)`"[" + ${A} + "]"`:(0,e._)`"['" + ${A} + "']"`:U?(0,e._)`"/" + ${A}`:(0,e._)`"/" + ${A}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return B?(0,e.getProperty)(A).toString():"/"+f(A)}t.getErrorPath=k;function S(A,I,B=A.opts.strictSchema){if(B){if(I=`strict mode: ${I}`,B===!0)throw new Error(I);A.self.logger.warn(I)}}t.checkStrictMode=S})(Ne);var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});const tt=Pe,dl={data:new tt.Name("data"),valCxt:new tt.Name("valCxt"),instancePath:new tt.Name("instancePath"),parentData:new tt.Name("parentData"),parentDataProperty:new tt.Name("parentDataProperty"),rootData:new tt.Name("rootData"),dynamicAnchors:new tt.Name("dynamicAnchors"),vErrors:new tt.Name("vErrors"),errors:new tt.Name("errors"),this:new tt.Name("this"),self:new tt.Name("self"),scope:new tt.Name("scope"),json:new tt.Name("json"),jsonPos:new tt.Name("jsonPos"),jsonLen:new tt.Name("jsonLen"),jsonPart:new tt.Name("jsonPart")};Bt.default=dl;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=Pe,r=Ne,s=Bt;t.keywordError={message:({keyword:_})=>(0,e.str)`must pass "${_}" keyword validation`},t.keyword$DataError={message:({keyword:_,schemaType:h})=>h?(0,e.str)`"${_}" keyword must be ${h} ($data)`:(0,e.str)`"${_}" keyword is invalid ($data)`};function n(_,h=t.keywordError,g,w){const{it:k}=_,{gen:S,compositeRule:A,allErrors:I}=k,B=f(_,h,g);w??(A||I)?l(S,B):c(k,(0,e._)`[${B}]`)}t.reportError=n;function i(_,h=t.keywordError,g){const{it:w}=_,{gen:k,compositeRule:S,allErrors:A}=w,I=f(_,h,g);l(k,I),S||A||c(w,s.default.vErrors)}t.reportExtraError=i;function a(_,h){_.assign(s.default.errors,h),_.if((0,e._)`${s.default.vErrors} !== null`,()=>_.if(h,()=>_.assign((0,e._)`${s.default.vErrors}.length`,h),()=>_.assign(s.default.vErrors,null)))}t.resetErrorsCount=a;function o({gen:_,keyword:h,schemaValue:g,data:w,errsCount:k,it:S}){if(k===void 0)throw new Error("ajv implementation error");const A=_.name("err");_.forRange("i",k,s.default.errors,I=>{_.const(A,(0,e._)`${s.default.vErrors}[${I}]`),_.if((0,e._)`${A}.instancePath === undefined`,()=>_.assign((0,e._)`${A}.instancePath`,(0,e.strConcat)(s.default.instancePath,S.errorPath))),_.assign((0,e._)`${A}.schemaPath`,(0,e.str)`${S.errSchemaPath}/${h}`),S.opts.verbose&&(_.assign((0,e._)`${A}.schema`,g),_.assign((0,e._)`${A}.data`,w))})}t.extendErrors=o;function l(_,h){const g=_.const("err",h);_.if((0,e._)`${s.default.vErrors} === null`,()=>_.assign(s.default.vErrors,(0,e._)`[${g}]`),(0,e._)`${s.default.vErrors}.push(${g})`),_.code((0,e._)`${s.default.errors}++`)}function c(_,h){const{gen:g,validateName:w,schemaEnv:k}=_;k.$async?g.throw((0,e._)`new ${_.ValidationError}(${h})`):(g.assign((0,e._)`${w}.errors`,h),g.return(!1))}const p={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(_,h,g){const{createErrors:w}=_.it;return w===!1?(0,e._)`{}`:y(_,h,g)}function y(_,h,g={}){const{gen:w,it:k}=_,S=[d(k,g),m(_,g)];return u(_,h,S),w.object(...S)}function d({errorPath:_},{instancePath:h}){const g=h?(0,e.str)`${_}${(0,r.getErrorPath)(h,r.Type.Str)}`:_;return[s.default.instancePath,(0,e.strConcat)(s.default.instancePath,g)]}function m({keyword:_,it:{errSchemaPath:h}},{schemaPath:g,parentSchema:w}){let k=w?h:(0,e.str)`${h}/${_}`;return g&&(k=(0,e.str)`${k}${(0,r.getErrorPath)(g,r.Type.Str)}`),[p.schemaPath,k]}function u(_,{params:h,message:g},w){const{keyword:k,data:S,schemaValue:A,it:I}=_,{opts:B,propertyName:U,topSchemaRef:V,schemaPath:ne}=I;w.push([p.keyword,k],[p.params,typeof h=="function"?h(_):h||(0,e._)`{}`]),B.messages&&w.push([p.message,typeof g=="function"?g(_):g]),B.verbose&&w.push([p.schema,A],[p.parentSchema,(0,e._)`${V}${ne}`],[s.default.data,S]),U&&w.push([p.propertyName,U])}})(Xr);Object.defineProperty(Ir,"__esModule",{value:!0});Ir.boolOrEmptySchema=Ir.topBoolOrEmptySchema=void 0;const hl=Xr,pl=Pe,ml=Bt,_l={message:"boolean schema is false"};function gl(t){const{gen:e,schema:r,validateName:s}=t;r===!1?ga(t,!1):typeof r=="object"&&r.$async===!0?e.return(ml.default.data):(e.assign((0,pl._)`${s}.errors`,null),e.return(!0))}Ir.topBoolOrEmptySchema=gl;function vl(t,e){const{gen:r,schema:s}=t;s===!1?(r.var(e,!1),ga(t)):r.var(e,!0)}Ir.boolOrEmptySchema=vl;function ga(t,e){const{gen:r,data:s}=t,n={gen:r,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,hl.reportError)(n,_l,void 0,e)}var en={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.getRules=fr.isJSONType=void 0;const yl=["string","number","integer","boolean","null","object","array"],bl=new Set(yl);function wl(t){return typeof t=="string"&&bl.has(t)}fr.isJSONType=wl;function $l(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}fr.getRules=$l;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.shouldUseRule=xt.shouldUseGroup=xt.schemaHasRulesForType=void 0;function kl({schema:t,self:e},r){const s=e.RULES.types[r];return s&&s!==!0&&va(t,s)}xt.schemaHasRulesForType=kl;function va(t,e){return e.rules.some(r=>ya(t,r))}xt.shouldUseGroup=va;function ya(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(s=>t[s]!==void 0))}xt.shouldUseRule=ya;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=fr,r=xt,s=Xr,n=Pe,i=Ne;var a;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(a=t.DataType||(t.DataType={}));function o(w){const k=l(w.type);if(k.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!k.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&k.push("null")}return k}t.getSchemaTypes=o;function l(w){const k=Array.isArray(w)?w:w?[w]:[];if(k.every(e.isJSONType))return k;throw new Error("type must be JSONType or JSONType[]: "+k.join(","))}t.getJSONTypes=l;function c(w,k){const{gen:S,data:A,opts:I}=w,B=f(k,I.coerceTypes),U=k.length>0&&!(B.length===0&&k.length===1&&(0,r.schemaHasRulesForType)(w,k[0]));if(U){const V=u(k,A,I.strictNumbers,a.Wrong);S.if(V,()=>{B.length?y(w,k,B):h(w)})}return U}t.coerceAndCheckDataType=c;const p=new Set(["string","number","integer","boolean","null"]);function f(w,k){return k?w.filter(S=>p.has(S)||k==="array"&&S==="array"):[]}function y(w,k,S){const{gen:A,data:I,opts:B}=w,U=A.let("dataType",(0,n._)`typeof ${I}`),V=A.let("coerced",(0,n._)`undefined`);B.coerceTypes==="array"&&A.if((0,n._)`${U} == 'object' && Array.isArray(${I}) && ${I}.length == 1`,()=>A.assign(I,(0,n._)`${I}[0]`).assign(U,(0,n._)`typeof ${I}`).if(u(k,I,B.strictNumbers),()=>A.assign(V,I))),A.if((0,n._)`${V} !== undefined`);for(const T of S)(p.has(T)||T==="array"&&B.coerceTypes==="array")&&ne(T);A.else(),h(w),A.endIf(),A.if((0,n._)`${V} !== undefined`,()=>{A.assign(I,V),d(w,V)});function ne(T){switch(T){case"string":A.elseIf((0,n._)`${U} == "number" || ${U} == "boolean"`).assign(V,(0,n._)`"" + ${I}`).elseIf((0,n._)`${I} === null`).assign(V,(0,n._)`""`);return;case"number":A.elseIf((0,n._)`${U} == "boolean" || ${I} === null
              || (${U} == "string" && ${I} && ${I} == +${I})`).assign(V,(0,n._)`+${I}`);return;case"integer":A.elseIf((0,n._)`${U} === "boolean" || ${I} === null
              || (${U} === "string" && ${I} && ${I} == +${I} && !(${I} % 1))`).assign(V,(0,n._)`+${I}`);return;case"boolean":A.elseIf((0,n._)`${I} === "false" || ${I} === 0 || ${I} === null`).assign(V,!1).elseIf((0,n._)`${I} === "true" || ${I} === 1`).assign(V,!0);return;case"null":A.elseIf((0,n._)`${I} === "" || ${I} === 0 || ${I} === false`),A.assign(V,null);return;case"array":A.elseIf((0,n._)`${U} === "string" || ${U} === "number"
              || ${U} === "boolean" || ${I} === null`).assign(V,(0,n._)`[${I}]`)}}}function d({gen:w,parentData:k,parentDataProperty:S},A){w.if((0,n._)`${k} !== undefined`,()=>w.assign((0,n._)`${k}[${S}]`,A))}function m(w,k,S,A=a.Correct){const I=A===a.Correct?n.operators.EQ:n.operators.NEQ;let B;switch(w){case"null":return(0,n._)`${k} ${I} null`;case"array":B=(0,n._)`Array.isArray(${k})`;break;case"object":B=(0,n._)`${k} && typeof ${k} == "object" && !Array.isArray(${k})`;break;case"integer":B=U((0,n._)`!(${k} % 1) && !isNaN(${k})`);break;case"number":B=U();break;default:return(0,n._)`typeof ${k} ${I} ${w}`}return A===a.Correct?B:(0,n.not)(B);function U(V=n.nil){return(0,n.and)((0,n._)`typeof ${k} == "number"`,V,S?(0,n._)`isFinite(${k})`:n.nil)}}t.checkDataType=m;function u(w,k,S,A){if(w.length===1)return m(w[0],k,S,A);let I;const B=(0,i.toHash)(w);if(B.array&&B.object){const U=(0,n._)`typeof ${k} != "object"`;I=B.null?U:(0,n._)`!${k} || ${U}`,delete B.null,delete B.array,delete B.object}else I=n.nil;B.number&&delete B.integer;for(const U in B)I=(0,n.and)(I,m(U,k,S,A));return I}t.checkDataTypes=u;const _={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:k})=>typeof w=="string"?(0,n._)`{type: ${w}}`:(0,n._)`{type: ${k}}`};function h(w){const k=g(w);(0,s.reportError)(k,_)}t.reportTypeError=h;function g(w){const{gen:k,data:S,schema:A}=w,I=(0,i.schemaRefOrVal)(w,A,"type");return{gen:k,keyword:"type",data:S,schema:A.type,schemaCode:I,schemaValue:I,parentSchema:A,params:{},it:w}}})(en);var On={};Object.defineProperty(On,"__esModule",{value:!0});On.assignDefaults=void 0;const vr=Pe,Al=Ne;function El(t,e){const{properties:r,items:s}=t.schema;if(e==="object"&&r)for(const n in r)vi(t,n,r[n].default);else e==="array"&&Array.isArray(s)&&s.forEach((n,i)=>vi(t,i,n.default))}On.assignDefaults=El;function vi(t,e,r){const{gen:s,compositeRule:n,data:i,opts:a}=t;if(r===void 0)return;const o=(0,vr._)`${i}${(0,vr.getProperty)(e)}`;if(n){(0,Al.checkStrictMode)(t,`default is ignored for: ${o}`);return}let l=(0,vr._)`${o} === undefined`;a.useDefaults==="empty"&&(l=(0,vr._)`${l} || ${o} === null || ${o} === ""`),s.if(l,(0,vr._)`${o} = ${(0,vr.stringify)(r)}`)}var Tt={},Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.validateUnion=Ie.validateArray=Ie.usePattern=Ie.callValidateCode=Ie.schemaProperties=Ie.allSchemaProperties=Ie.noPropertyInData=Ie.propertyInData=Ie.isOwnProperty=Ie.hasPropFunc=Ie.reportMissingProp=Ie.checkMissingProp=Ie.checkReportMissingProp=void 0;const Ue=Pe,ls=Ne,Gt=Bt,Sl=Ne;function Cl(t,e){const{gen:r,data:s,it:n}=t;r.if(us(r,s,e,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Ue._)`${e}`},!0),t.error()})}Ie.checkReportMissingProp=Cl;function Il({gen:t,data:e,it:{opts:r}},s,n){return(0,Ue.or)(...s.map(i=>(0,Ue.and)(us(t,e,i,r.ownProperties),(0,Ue._)`${n} = ${i}`)))}Ie.checkMissingProp=Il;function Pl(t,e){t.setParams({missingProperty:e},!0),t.error()}Ie.reportMissingProp=Pl;function ba(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ue._)`Object.prototype.hasOwnProperty`})}Ie.hasPropFunc=ba;function cs(t,e,r){return(0,Ue._)`${ba(t)}.call(${e}, ${r})`}Ie.isOwnProperty=cs;function Ol(t,e,r,s){const n=(0,Ue._)`${e}${(0,Ue.getProperty)(r)} !== undefined`;return s?(0,Ue._)`${n} && ${cs(t,e,r)}`:n}Ie.propertyInData=Ol;function us(t,e,r,s){const n=(0,Ue._)`${e}${(0,Ue.getProperty)(r)} === undefined`;return s?(0,Ue.or)(n,(0,Ue.not)(cs(t,e,r))):n}Ie.noPropertyInData=us;function wa(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Ie.allSchemaProperties=wa;function Rl(t,e){return wa(e).filter(r=>!(0,ls.alwaysValidSchema)(t,e[r]))}Ie.schemaProperties=Rl;function Nl({schemaCode:t,data:e,it:{gen:r,topSchemaRef:s,schemaPath:n,errorPath:i},it:a},o,l,c){const p=c?(0,Ue._)`${t}, ${e}, ${s}${n}`:e,f=[[Gt.default.instancePath,(0,Ue.strConcat)(Gt.default.instancePath,i)],[Gt.default.parentData,a.parentData],[Gt.default.parentDataProperty,a.parentDataProperty],[Gt.default.rootData,Gt.default.rootData]];a.opts.dynamicRef&&f.push([Gt.default.dynamicAnchors,Gt.default.dynamicAnchors]);const y=(0,Ue._)`${p}, ${r.object(...f)}`;return l!==Ue.nil?(0,Ue._)`${o}.call(${l}, ${y})`:(0,Ue._)`${o}(${y})`}Ie.callValidateCode=Nl;const Tl=(0,Ue._)`new RegExp`;function Dl({gen:t,it:{opts:e}},r){const s=e.unicodeRegExp?"u":"",{regExp:n}=e.code,i=n(r,s);return t.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,Ue._)`${n.code==="new RegExp"?Tl:(0,Sl.useFunc)(t,n)}(${r}, ${s})`})}Ie.usePattern=Dl;function jl(t){const{gen:e,data:r,keyword:s,it:n}=t,i=e.name("valid");if(n.allErrors){const o=e.let("valid",!0);return a(()=>e.assign(o,!1)),o}return e.var(i,!0),a(()=>e.break()),i;function a(o){const l=e.const("len",(0,Ue._)`${r}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:s,dataProp:c,dataPropType:ls.Type.Num},i),e.if((0,Ue.not)(i),o)})}}Ie.validateArray=jl;function zl(t){const{gen:e,schema:r,keyword:s,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,ls.alwaysValidSchema)(n,l))&&!n.opts.unevaluated)return;const a=e.let("valid",!1),o=e.name("_valid");e.block(()=>r.forEach((l,c)=>{const p=t.subschema({keyword:s,schemaProp:c,compositeRule:!0},o);e.assign(a,(0,Ue._)`${a} || ${o}`),t.mergeValidEvaluated(p,o)||e.if((0,Ue.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}Ie.validateUnion=zl;Object.defineProperty(Tt,"__esModule",{value:!0});Tt.validateKeywordUsage=Tt.validSchemaType=Tt.funcKeywordCode=Tt.macroKeywordCode=void 0;const rt=Pe,or=Bt,Bl=Ie,Fl=Xr;function Ul(t,e){const{gen:r,keyword:s,schema:n,parentSchema:i,it:a}=t,o=e.macro.call(a.self,n,i,a),l=$a(r,s,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);const c=r.name("valid");t.subschema({schema:o,schemaPath:rt.nil,errSchemaPath:`${a.errSchemaPath}/${s}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}Tt.macroKeywordCode=Ul;function Ml(t,e){var r;const{gen:s,keyword:n,schema:i,parentSchema:a,$data:o,it:l}=t;Vl(l,e);const c=!o&&e.compile?e.compile.call(l.self,i,a,l):e.validate,p=$a(s,n,c),f=s.let("valid");t.block$data(f,y),t.ok((r=e.valid)!==null&&r!==void 0?r:f);function y(){if(e.errors===!1)u(),e.modifying&&yi(t),_(()=>t.error());else{const h=e.async?d():m();e.modifying&&yi(t),_(()=>Ll(t,h))}}function d(){const h=s.let("ruleErrs",null);return s.try(()=>u((0,rt._)`await `),g=>s.assign(f,!1).if((0,rt._)`${g} instanceof ${l.ValidationError}`,()=>s.assign(h,(0,rt._)`${g}.errors`),()=>s.throw(g))),h}function m(){const h=(0,rt._)`${p}.errors`;return s.assign(h,null),u(rt.nil),h}function u(h=e.async?(0,rt._)`await `:rt.nil){const g=l.opts.passContext?or.default.this:or.default.self,w=!("compile"in e&&!o||e.schema===!1);s.assign(f,(0,rt._)`${h}${(0,Bl.callValidateCode)(t,p,g,w)}`,e.modifying)}function _(h){var g;s.if((0,rt.not)((g=e.valid)!==null&&g!==void 0?g:f),h)}}Tt.funcKeywordCode=Ml;function yi(t){const{gen:e,data:r,it:s}=t;e.if(s.parentData,()=>e.assign(r,(0,rt._)`${s.parentData}[${s.parentDataProperty}]`))}function Ll(t,e){const{gen:r}=t;r.if((0,rt._)`Array.isArray(${e})`,()=>{r.assign(or.default.vErrors,(0,rt._)`${or.default.vErrors} === null ? ${e} : ${or.default.vErrors}.concat(${e})`).assign(or.default.errors,(0,rt._)`${or.default.vErrors}.length`),(0,Fl.extendErrors)(t)},()=>t.error())}function Vl({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function $a(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,rt.stringify)(r)})}function xl(t,e,r=!1){return!e.length||e.some(s=>s==="array"?Array.isArray(t):s==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==s||r&&typeof t>"u")}Tt.validSchemaType=xl;function Kl({schema:t,opts:e,self:r,errSchemaPath:s},n,i){if(Array.isArray(n.keyword)?!n.keyword.includes(i):n.keyword!==i)throw new Error("ajv implementation error");const a=n.dependencies;if(a!=null&&a.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[i])){const l=`keyword "${i}" value is invalid at path "${s}": `+r.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Tt.validateKeywordUsage=Kl;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.extendSubschemaMode=Xt.extendSubschemaData=Xt.getSubschema=void 0;const Nt=Pe,ka=Ne;function Hl(t,{keyword:e,schemaProp:r,schema:s,schemaPath:n,errSchemaPath:i,topSchemaRef:a}){if(e!==void 0&&s!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return r===void 0?{schema:o,schemaPath:(0,Nt._)`${t.schemaPath}${(0,Nt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[r],schemaPath:(0,Nt._)`${t.schemaPath}${(0,Nt.getProperty)(e)}${(0,Nt.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,ka.escapeFragment)(r)}`}}if(s!==void 0){if(n===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:n,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Xt.getSubschema=Hl;function Zl(t,e,{dataProp:r,dataPropType:s,data:n,dataTypes:i,propertyName:a}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(r!==void 0){const{errorPath:c,dataPathArr:p,opts:f}=e,y=o.let("data",(0,Nt._)`${e.data}${(0,Nt.getProperty)(r)}`,!0);l(y),t.errorPath=(0,Nt.str)`${c}${(0,ka.getErrorPath)(r,s,f.jsPropertySyntax)}`,t.parentDataProperty=(0,Nt._)`${r}`,t.dataPathArr=[...p,t.parentDataProperty]}if(n!==void 0){const c=n instanceof Nt.Name?n:o.let("data",n,!0);l(c),a!==void 0&&(t.propertyName=a)}i&&(t.dataTypes=i);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}Xt.extendSubschemaData=Zl;function ql(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:s,createErrors:n,allErrors:i}){s!==void 0&&(t.compositeRule=s),n!==void 0&&(t.createErrors=n),i!==void 0&&(t.allErrors=i),t.jtdDiscriminator=e,t.jtdMetadata=r}Xt.extendSubschemaMode=ql;var et={},Aa=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,n,i;if(Array.isArray(e)){if(s=e.length,s!=r.length)return!1;for(n=s;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),s=i.length,s!==Object.keys(r).length)return!1;for(n=s;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=s;n--!==0;){var a=i[n];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r},Ea={exports:{}},Yt=Ea.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var s=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};gn(e,s,n,t,"",t)};Yt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Yt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Yt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Yt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function gn(t,e,r,s,n,i,a,o,l,c){if(s&&typeof s=="object"&&!Array.isArray(s)){e(s,n,i,a,o,l,c);for(var p in s){var f=s[p];if(Array.isArray(f)){if(p in Yt.arrayKeywords)for(var y=0;y<f.length;y++)gn(t,e,r,f[y],n+"/"+p+"/"+y,i,n,p,s,y)}else if(p in Yt.propsKeywords){if(f&&typeof f=="object")for(var d in f)gn(t,e,r,f[d],n+"/"+p+"/"+Wl(d),i,n,p,s,d)}else(p in Yt.keywords||t.allKeys&&!(p in Yt.skipKeywords))&&gn(t,e,r,f,n+"/"+p,i,n,p,s)}r(s,n,i,a,o,l,c)}}function Wl(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var Gl=Ea.exports;Object.defineProperty(et,"__esModule",{value:!0});et.getSchemaRefs=et.resolveUrl=et.normalizeId=et._getFullPath=et.getFullPath=et.inlineRef=void 0;const Jl=Ne,Ql=Aa,Yl=Gl,Xl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function ec(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Xn(t):e?Sa(t)<=e:!1}et.inlineRef=ec;const tc=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Xn(t){for(const e in t){if(tc.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(Xn)||typeof r=="object"&&Xn(r))return!0}return!1}function Sa(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Xl.has(r)&&(typeof t[r]=="object"&&(0,Jl.eachItem)(t[r],s=>e+=Sa(s)),e===1/0))return 1/0}return e}function Ca(t,e="",r){r!==!1&&(e=Ar(e));const s=t.parse(e);return Ia(t,s)}et.getFullPath=Ca;function Ia(t,e){return t.serialize(e).split("#")[0]+"#"}et._getFullPath=Ia;const rc=/#\/?$/;function Ar(t){return t?t.replace(rc,""):""}et.normalizeId=Ar;function nc(t,e,r){return r=Ar(r),t.resolve(e,r)}et.resolveUrl=nc;const sc=/^[a-z_][-a-z0-9._]*$/i;function ic(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:s}=this.opts,n=Ar(t[r]||e),i={"":n},a=Ca(s,n,!1),o={},l=new Set;return Yl(t,{allKeys:!0},(f,y,d,m)=>{if(m===void 0)return;const u=a+y;let _=i[m];typeof f[r]=="string"&&(_=h.call(this,f[r])),g.call(this,f.$anchor),g.call(this,f.$dynamicAnchor),i[y]=_;function h(w){const k=this.opts.uriResolver.resolve;if(w=Ar(_?k(_,w):w),l.has(w))throw p(w);l.add(w);let S=this.refs[w];return typeof S=="string"&&(S=this.refs[S]),typeof S=="object"?c(f,S.schema,w):w!==Ar(u)&&(w[0]==="#"?(c(f,o[w],w),o[w]=f):this.refs[w]=u),w}function g(w){if(typeof w=="string"){if(!sc.test(w))throw new Error(`invalid anchor "${w}"`);h.call(this,`#${w}`)}}}),o;function c(f,y,d){if(y!==void 0&&!Ql(f,y))throw p(d)}function p(f){return new Error(`reference "${f}" resolves to more than one schema`)}}et.getSchemaRefs=ic;Object.defineProperty(Et,"__esModule",{value:!0});Et.getData=Et.KeywordCxt=Et.validateFunctionCode=void 0;const Pa=Ir,bi=en,fs=xt,An=en,ac=On,xr=Tt,Mn=Xt,_e=Pe,$e=Bt,oc=et,Kt=Ne,Br=Xr;function lc(t){if(Na(t)&&(Ta(t),Ra(t))){fc(t);return}Oa(t,()=>(0,Pa.topBoolOrEmptySchema)(t))}Et.validateFunctionCode=lc;function Oa({gen:t,validateName:e,schema:r,schemaEnv:s,opts:n},i){n.code.es5?t.func(e,(0,_e._)`${$e.default.data}, ${$e.default.valCxt}`,s.$async,()=>{t.code((0,_e._)`"use strict"; ${wi(r,n)}`),uc(t,n),t.code(i)}):t.func(e,(0,_e._)`${$e.default.data}, ${cc(n)}`,s.$async,()=>t.code(wi(r,n)).code(i))}function cc(t){return(0,_e._)`{${$e.default.instancePath}="", ${$e.default.parentData}, ${$e.default.parentDataProperty}, ${$e.default.rootData}=${$e.default.data}${t.dynamicRef?(0,_e._)`, ${$e.default.dynamicAnchors}={}`:_e.nil}}={}`}function uc(t,e){t.if($e.default.valCxt,()=>{t.var($e.default.instancePath,(0,_e._)`${$e.default.valCxt}.${$e.default.instancePath}`),t.var($e.default.parentData,(0,_e._)`${$e.default.valCxt}.${$e.default.parentData}`),t.var($e.default.parentDataProperty,(0,_e._)`${$e.default.valCxt}.${$e.default.parentDataProperty}`),t.var($e.default.rootData,(0,_e._)`${$e.default.valCxt}.${$e.default.rootData}`),e.dynamicRef&&t.var($e.default.dynamicAnchors,(0,_e._)`${$e.default.valCxt}.${$e.default.dynamicAnchors}`)},()=>{t.var($e.default.instancePath,(0,_e._)`""`),t.var($e.default.parentData,(0,_e._)`undefined`),t.var($e.default.parentDataProperty,(0,_e._)`undefined`),t.var($e.default.rootData,$e.default.data),e.dynamicRef&&t.var($e.default.dynamicAnchors,(0,_e._)`{}`)})}function fc(t){const{schema:e,opts:r,gen:s}=t;Oa(t,()=>{r.$comment&&e.$comment&&ja(t),_c(t),s.let($e.default.vErrors,null),s.let($e.default.errors,0),r.unevaluated&&dc(t),Da(t),yc(t)})}function dc(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,_e._)`${r}.evaluated`),e.if((0,_e._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,_e._)`${t.evaluated}.props`,(0,_e._)`undefined`)),e.if((0,_e._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,_e._)`${t.evaluated}.items`,(0,_e._)`undefined`))}function wi(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,_e._)`/*# sourceURL=${r} */`:_e.nil}function hc(t,e){if(Na(t)&&(Ta(t),Ra(t))){pc(t,e);return}(0,Pa.boolOrEmptySchema)(t,e)}function Ra({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function Na(t){return typeof t.schema!="boolean"}function pc(t,e){const{schema:r,gen:s,opts:n}=t;n.$comment&&r.$comment&&ja(t),gc(t),vc(t);const i=s.const("_errs",$e.default.errors);Da(t,i),s.var(e,(0,_e._)`${i} === ${$e.default.errors}`)}function Ta(t){(0,Kt.checkUnknownRules)(t),mc(t)}function Da(t,e){if(t.opts.jtd)return $i(t,[],!1,e);const r=(0,bi.getSchemaTypes)(t.schema),s=(0,bi.coerceAndCheckDataType)(t,r);$i(t,r,!s,e)}function mc(t){const{schema:e,errSchemaPath:r,opts:s,self:n}=t;e.$ref&&s.ignoreKeywordsWithRef&&(0,Kt.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function _c(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Kt.checkStrictMode)(t,"default is ignored in the schema root")}function gc(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,oc.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function vc(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function ja({gen:t,schemaEnv:e,schema:r,errSchemaPath:s,opts:n}){const i=r.$comment;if(n.$comment===!0)t.code((0,_e._)`${$e.default.self}.logger.log(${i})`);else if(typeof n.$comment=="function"){const a=(0,_e.str)`${s}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,_e._)`${$e.default.self}.opts.$comment(${i}, ${a}, ${o}.schema)`)}}function yc(t){const{gen:e,schemaEnv:r,validateName:s,ValidationError:n,opts:i}=t;r.$async?e.if((0,_e._)`${$e.default.errors} === 0`,()=>e.return($e.default.data),()=>e.throw((0,_e._)`new ${n}(${$e.default.vErrors})`)):(e.assign((0,_e._)`${s}.errors`,$e.default.vErrors),i.unevaluated&&bc(t),e.return((0,_e._)`${$e.default.errors} === 0`))}function bc({gen:t,evaluated:e,props:r,items:s}){r instanceof _e.Name&&t.assign((0,_e._)`${e}.props`,r),s instanceof _e.Name&&t.assign((0,_e._)`${e}.items`,s)}function $i(t,e,r,s){const{gen:n,schema:i,data:a,allErrors:o,opts:l,self:c}=t,{RULES:p}=c;if(i.$ref&&(l.ignoreKeywordsWithRef||!(0,Kt.schemaHasRulesButRef)(i,p))){n.block(()=>Fa(t,"$ref",p.all.$ref.definition));return}l.jtd||wc(t,e),n.block(()=>{for(const y of p.rules)f(y);f(p.post)});function f(y){(0,fs.shouldUseGroup)(i,y)&&(y.type?(n.if((0,An.checkDataType)(y.type,a,l.strictNumbers)),ki(t,y),e.length===1&&e[0]===y.type&&r&&(n.else(),(0,An.reportTypeError)(t)),n.endIf()):ki(t,y),o||n.if((0,_e._)`${$e.default.errors} === ${s||0}`))}}function ki(t,e){const{gen:r,schema:s,opts:{useDefaults:n}}=t;n&&(0,ac.assignDefaults)(t,e.type),r.block(()=>{for(const i of e.rules)(0,fs.shouldUseRule)(s,i)&&Fa(t,i.keyword,i.definition,e.type)})}function wc(t,e){t.schemaEnv.meta||!t.opts.strictTypes||($c(t,e),t.opts.allowUnionTypes||kc(t,e),Ac(t,t.dataTypes))}function $c(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{za(t.dataTypes,r)||ds(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),Sc(t,e)}}function kc(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ds(t,"use allowUnionTypes to allow union type keyword")}function Ac(t,e){const r=t.self.RULES.all;for(const s in r){const n=r[s];if(typeof n=="object"&&(0,fs.shouldUseRule)(t.schema,n)){const{type:i}=n.definition;i.length&&!i.some(a=>Ec(e,a))&&ds(t,`missing type "${i.join(",")}" for keyword "${s}"`)}}}function Ec(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function za(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Sc(t,e){const r=[];for(const s of t.dataTypes)za(e,s)?r.push(s):e.includes("integer")&&s==="number"&&r.push("integer");t.dataTypes=r}function ds(t,e){const r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Kt.checkStrictMode)(t,e,t.opts.strictTypes)}class Ba{constructor(e,r,s){if((0,xr.validateKeywordUsage)(e,r,s),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=s,this.data=e.data,this.schema=e.schema[s],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Kt.schemaRefOrVal)(e,this.schema,s,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Ua(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,xr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${s} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",$e.default.errors))}result(e,r,s){this.failResult((0,_e.not)(e),r,s)}failResult(e,r,s){this.gen.if(e),s?s():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,_e.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,_e._)`${r} !== undefined && (${(0,_e.or)(this.invalid$data(),e)})`)}error(e,r,s){if(r){this.setParams(r),this._error(e,s),this.setParams({});return}this._error(e,s)}_error(e,r){(e?Br.reportExtraError:Br.reportError)(this,this.def.error,r)}$dataError(){(0,Br.reportError)(this,this.def.$dataError||Br.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Br.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,s=_e.nil){this.gen.block(()=>{this.check$data(e,s),r()})}check$data(e=_e.nil,r=_e.nil){if(!this.$data)return;const{gen:s,schemaCode:n,schemaType:i,def:a}=this;s.if((0,_e.or)((0,_e._)`${n} === undefined`,r)),e!==_e.nil&&s.assign(e,!0),(i.length||a.validateSchema)&&(s.elseIf(this.invalid$data()),this.$dataError(),e!==_e.nil&&s.assign(e,!1)),s.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:s,def:n,it:i}=this;return(0,_e.or)(a(),o());function a(){if(s.length){if(!(r instanceof _e.Name))throw new Error("ajv implementation error");const l=Array.isArray(s)?s:[s];return(0,_e._)`${(0,An.checkDataTypes)(l,r,i.opts.strictNumbers,An.DataType.Wrong)}`}return _e.nil}function o(){if(n.validateSchema){const l=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,_e._)`!${l}(${r})`}return _e.nil}}subschema(e,r){const s=(0,Mn.getSubschema)(this.it,e);(0,Mn.extendSubschemaData)(s,this.it,e),(0,Mn.extendSubschemaMode)(s,e);const n={...this.it,...s,items:void 0,props:void 0};return hc(n,r),n}mergeEvaluated(e,r){const{it:s,gen:n}=this;s.opts.unevaluated&&(s.props!==!0&&e.props!==void 0&&(s.props=Kt.mergeEvaluated.props(n,e.props,s.props,r)),s.items!==!0&&e.items!==void 0&&(s.items=Kt.mergeEvaluated.items(n,e.items,s.items,r)))}mergeValidEvaluated(e,r){const{it:s,gen:n}=this;if(s.opts.unevaluated&&(s.props!==!0||s.items!==!0))return n.if(r,()=>this.mergeEvaluated(e,_e.Name)),!0}}Et.KeywordCxt=Ba;function Fa(t,e,r,s){const n=new Ba(t,r,e);"code"in r?r.code(n,s):n.$data&&r.validate?(0,xr.funcKeywordCode)(n,r):"macro"in r?(0,xr.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,xr.funcKeywordCode)(n,r)}const Cc=/^\/(?:[^~]|~0|~1)*$/,Ic=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ua(t,{dataLevel:e,dataNames:r,dataPathArr:s}){let n,i;if(t==="")return $e.default.rootData;if(t[0]==="/"){if(!Cc.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,i=$e.default.rootData}else{const c=Ic.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const p=+c[1];if(n=c[2],n==="#"){if(p>=e)throw new Error(l("property/index",p));return s[e-p]}if(p>e)throw new Error(l("data",p));if(i=r[e-p],!n)return i}let a=i;const o=n.split("/");for(const c of o)c&&(i=(0,_e._)`${i}${(0,_e.getProperty)((0,Kt.unescapeJsonPointer)(c))}`,a=(0,_e._)`${a} && ${i}`);return a;function l(c,p){return`Cannot access ${c} ${p} levels up, current level is ${e}`}}Et.getData=Ua;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});class Pc extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}tn.default=Pc;var rn={};Object.defineProperty(rn,"__esModule",{value:!0});const Ln=et;class Oc extends Error{constructor(e,r,s,n){super(n||`can't resolve reference ${s} from id ${r}`),this.missingRef=(0,Ln.resolveUrl)(e,r,s),this.missingSchema=(0,Ln.normalizeId)((0,Ln.getFullPath)(e,this.missingRef))}}rn.default=Oc;var ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.resolveSchema=ot.getCompilingSchema=ot.resolveRef=ot.compileSchema=ot.SchemaEnv=void 0;const yt=Pe,Rc=tn,ar=Bt,At=et,Ai=Ne,Nc=Et;class Rn{constructor(e){var r;this.refs={},this.dynamicAnchors={};let s;typeof e.schema=="object"&&(s=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,At.normalizeId)(s==null?void 0:s[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=s==null?void 0:s.$async,this.refs={}}}ot.SchemaEnv=Rn;function hs(t){const e=Ma.call(this,t);if(e)return e;const r=(0,At.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:s,lines:n}=this.opts.code,{ownProperties:i}=this.opts,a=new yt.CodeGen(this.scope,{es5:s,lines:n,ownProperties:i});let o;t.$async&&(o=a.scopeValue("Error",{ref:Rc.default,code:(0,yt._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");t.validateName=l;const c={gen:a,allErrors:this.opts.allErrors,data:ar.default.data,parentData:ar.default.parentData,parentDataProperty:ar.default.parentDataProperty,dataNames:[ar.default.data],dataPathArr:[yt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,yt.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:yt.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,yt._)`""`,opts:this.opts,self:this};let p;try{this._compilations.add(t),(0,Nc.validateFunctionCode)(c),a.optimize(this.opts.code.optimize);const f=a.toString();p=`${a.scopeRefs(ar.default.scope)}return ${f}`,this.opts.code.process&&(p=this.opts.code.process(p,t));const d=new Function(`${ar.default.self}`,`${ar.default.scope}`,p)(this,this.scope.get());if(this.scope.value(l,{ref:d}),d.errors=null,d.schema=t.schema,d.schemaEnv=t,t.$async&&(d.$async=!0),this.opts.code.source===!0&&(d.source={validateName:l,validateCode:f,scopeValues:a._values}),this.opts.unevaluated){const{props:m,items:u}=c;d.evaluated={props:m instanceof yt.Name?void 0:m,items:u instanceof yt.Name?void 0:u,dynamicProps:m instanceof yt.Name,dynamicItems:u instanceof yt.Name},d.source&&(d.source.evaluated=(0,yt.stringify)(d.evaluated))}return t.validate=d,t}catch(f){throw delete t.validate,delete t.validateName,p&&this.logger.error("Error compiling schema, function code:",p),f}finally{this._compilations.delete(t)}}ot.compileSchema=hs;function Tc(t,e,r){var s;r=(0,At.resolveUrl)(this.opts.uriResolver,e,r);const n=t.refs[r];if(n)return n;let i=zc.call(this,t,r);if(i===void 0){const a=(s=t.localRefs)===null||s===void 0?void 0:s[r],{schemaId:o}=this.opts;a&&(i=new Rn({schema:a,schemaId:o,root:t,baseId:e}))}if(i!==void 0)return t.refs[r]=Dc.call(this,i)}ot.resolveRef=Tc;function Dc(t){return(0,At.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:hs.call(this,t)}function Ma(t){for(const e of this._compilations)if(jc(e,t))return e}ot.getCompilingSchema=Ma;function jc(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function zc(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Nn.call(this,t,e)}function Nn(t,e){const r=this.opts.uriResolver.parse(e),s=(0,At._getFullPath)(this.opts.uriResolver,r);let n=(0,At.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&s===n)return Vn.call(this,r,t);const i=(0,At.normalizeId)(s),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){const o=Nn.call(this,t,a);return typeof(o==null?void 0:o.schema)!="object"?void 0:Vn.call(this,r,o)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||hs.call(this,a),i===(0,At.normalizeId)(e)){const{schema:o}=a,{schemaId:l}=this.opts,c=o[l];return c&&(n=(0,At.resolveUrl)(this.opts.uriResolver,n,c)),new Rn({schema:o,schemaId:l,root:t,baseId:n})}return Vn.call(this,r,a)}}ot.resolveSchema=Nn;const Bc=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Vn(t,{baseId:e,schema:r,root:s}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Ai.unescapeFragment)(o)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!Bc.has(o)&&c&&(e=(0,At.resolveUrl)(this.opts.uriResolver,e,c))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,Ai.schemaHasRulesButRef)(r,this.RULES)){const o=(0,At.resolveUrl)(this.opts.uriResolver,e,r.$ref);i=Nn.call(this,s,o)}const{schemaId:a}=this.opts;if(i=i||new Rn({schema:r,schemaId:a,root:s,baseId:e}),i.schema!==i.root.schema)return i}const Fc="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Uc="Meta-schema for $data reference (JSON AnySchema extension proposal)",Mc="object",Lc=["$data"],Vc={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},xc=!1,Kc={$id:Fc,description:Uc,type:Mc,required:Lc,properties:Vc,additionalProperties:xc};var ps={},es={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,s){s(e)})(Mr,function(r){function s(){for(var D=arguments.length,O=Array(D),z=0;z<D;z++)O[z]=arguments[z];if(O.length>1){O[0]=O[0].slice(0,-1);for(var G=O.length-1,q=1;q<G;++q)O[q]=O[q].slice(1,-1);return O[G]=O[G].slice(1),O.join("")}else return O[0]}function n(D){return"(?:"+D+")"}function i(D){return D===void 0?"undefined":D===null?"null":Object.prototype.toString.call(D).split(" ").pop().split("]").shift().toLowerCase()}function a(D){return D.toUpperCase()}function o(D){return D!=null?D instanceof Array?D:typeof D.length!="number"||D.split||D.setInterval||D.call?[D]:Array.prototype.slice.call(D):[]}function l(D,O){var z=D;if(O)for(var G in O)z[G]=O[G];return z}function c(D){var O="[A-Za-z]",z="[0-9]",G=s(z,"[A-Fa-f]"),q=n(n("%[EFef]"+G+"%"+G+G+"%"+G+G)+"|"+n("%[89A-Fa-f]"+G+"%"+G+G)+"|"+n("%"+G+G)),ge="[\\:\\/\\?\\#\\[\\]\\@]",be="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Re=s(ge,be),Fe=D?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ze=D?"[\\uE000-\\uF8FF]":"[]",Oe=s(O,z,"[\\-\\.\\_\\~]",Fe);n(O+s(O,z,"[\\+\\-\\.]")+"*"),n(n(q+"|"+s(Oe,be,"[\\:]"))+"*");var ze=n(n("25[0-5]")+"|"+n("2[0-4]"+z)+"|"+n("1"+z+z)+"|"+n("0?[1-9]"+z)+"|0?0?"+z),qe=n(ze+"\\."+ze+"\\."+ze+"\\."+ze),Ee=n(G+"{1,4}"),Me=n(n(Ee+"\\:"+Ee)+"|"+qe),Je=n(n(Ee+"\\:")+"{6}"+Me),Le=n("\\:\\:"+n(Ee+"\\:")+"{5}"+Me),Wt=n(n(Ee)+"?\\:\\:"+n(Ee+"\\:")+"{4}"+Me),Pt=n(n(n(Ee+"\\:")+"{0,1}"+Ee)+"?\\:\\:"+n(Ee+"\\:")+"{3}"+Me),Ot=n(n(n(Ee+"\\:")+"{0,2}"+Ee)+"?\\:\\:"+n(Ee+"\\:")+"{2}"+Me),mr=n(n(n(Ee+"\\:")+"{0,3}"+Ee)+"?\\:\\:"+Ee+"\\:"+Me),sr=n(n(n(Ee+"\\:")+"{0,4}"+Ee)+"?\\:\\:"+Me),mt=n(n(n(Ee+"\\:")+"{0,5}"+Ee)+"?\\:\\:"+Ee),Rt=n(n(n(Ee+"\\:")+"{0,6}"+Ee)+"?\\:\\:"),ir=n([Je,Le,Wt,Pt,Ot,mr,sr,mt,Rt].join("|")),Ft=n(n(Oe+"|"+q)+"+");n("[vV]"+G+"+\\."+s(Oe,be,"[\\:]")+"+"),n(n(q+"|"+s(Oe,be))+"*");var Dr=n(q+"|"+s(Oe,be,"[\\:\\@]"));return n(n(q+"|"+s(Oe,be,"[\\@]"))+"+"),n(n(Dr+"|"+s("[\\/\\?]",Ze))+"*"),{NOT_SCHEME:new RegExp(s("[^]",O,z,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(s("[^\\%\\:]",Oe,be),"g"),NOT_HOST:new RegExp(s("[^\\%\\[\\]\\:]",Oe,be),"g"),NOT_PATH:new RegExp(s("[^\\%\\/\\:\\@]",Oe,be),"g"),NOT_PATH_NOSCHEME:new RegExp(s("[^\\%\\/\\@]",Oe,be),"g"),NOT_QUERY:new RegExp(s("[^\\%]",Oe,be,"[\\:\\@\\/\\?]",Ze),"g"),NOT_FRAGMENT:new RegExp(s("[^\\%]",Oe,be,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(s("[^]",Oe,be),"g"),UNRESERVED:new RegExp(Oe,"g"),OTHER_CHARS:new RegExp(s("[^\\%]",Oe,Re),"g"),PCT_ENCODED:new RegExp(q,"g"),IPV4ADDRESS:new RegExp("^("+qe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ir+")"+n(n("\\%25|\\%(?!"+G+"{2})")+"("+Ft+")")+"?\\]?$")}}var p=c(!1),f=c(!0),y=function(){function D(O,z){var G=[],q=!0,ge=!1,be=void 0;try{for(var Re=O[Symbol.iterator](),Fe;!(q=(Fe=Re.next()).done)&&(G.push(Fe.value),!(z&&G.length===z));q=!0);}catch(Ze){ge=!0,be=Ze}finally{try{!q&&Re.return&&Re.return()}finally{if(ge)throw be}}return G}return function(O,z){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return D(O,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(D){if(Array.isArray(D)){for(var O=0,z=Array(D.length);O<D.length;O++)z[O]=D[O];return z}else return Array.from(D)},m=2147483647,u=36,_=1,h=26,g=38,w=700,k=72,S=128,A="-",I=/^xn--/,B=/[^\0-\x7E]/,U=/[\x2E\u3002\uFF0E\uFF61]/g,V={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ne=u-_,T=Math.floor,W=String.fromCharCode;function b(D){throw new RangeError(V[D])}function J(D,O){for(var z=[],G=D.length;G--;)z[G]=O(D[G]);return z}function me(D,O){var z=D.split("@"),G="";z.length>1&&(G=z[0]+"@",D=z[1]),D=D.replace(U,".");var q=D.split("."),ge=J(q,O).join(".");return G+ge}function X(D){for(var O=[],z=0,G=D.length;z<G;){var q=D.charCodeAt(z++);if(q>=55296&&q<=56319&&z<G){var ge=D.charCodeAt(z++);(ge&64512)==56320?O.push(((q&1023)<<10)+(ge&1023)+65536):(O.push(q),z--)}else O.push(q)}return O}var he=function(O){return String.fromCodePoint.apply(String,d(O))},Z=function(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:u},x=function(O,z){return O+22+75*(O<26)-((z!=0)<<5)},E=function(O,z,G){var q=0;for(O=G?T(O/w):O>>1,O+=T(O/z);O>ne*h>>1;q+=u)O=T(O/ne);return T(q+(ne+1)*O/(O+g))},R=function(O){var z=[],G=O.length,q=0,ge=S,be=k,Re=O.lastIndexOf(A);Re<0&&(Re=0);for(var Fe=0;Fe<Re;++Fe)O.charCodeAt(Fe)>=128&&b("not-basic"),z.push(O.charCodeAt(Fe));for(var Ze=Re>0?Re+1:0;Ze<G;){for(var Oe=q,ze=1,qe=u;;qe+=u){Ze>=G&&b("invalid-input");var Ee=Z(O.charCodeAt(Ze++));(Ee>=u||Ee>T((m-q)/ze))&&b("overflow"),q+=Ee*ze;var Me=qe<=be?_:qe>=be+h?h:qe-be;if(Ee<Me)break;var Je=u-Me;ze>T(m/Je)&&b("overflow"),ze*=Je}var Le=z.length+1;be=E(q-Oe,Le,Oe==0),T(q/Le)>m-ge&&b("overflow"),ge+=T(q/Le),q%=Le,z.splice(q++,0,ge)}return String.fromCodePoint.apply(String,z)},F=function(O){var z=[];O=X(O);var G=O.length,q=S,ge=0,be=k,Re=!0,Fe=!1,Ze=void 0;try{for(var Oe=O[Symbol.iterator](),ze;!(Re=(ze=Oe.next()).done);Re=!0){var qe=ze.value;qe<128&&z.push(W(qe))}}catch(jr){Fe=!0,Ze=jr}finally{try{!Re&&Oe.return&&Oe.return()}finally{if(Fe)throw Ze}}var Ee=z.length,Me=Ee;for(Ee&&z.push(A);Me<G;){var Je=m,Le=!0,Wt=!1,Pt=void 0;try{for(var Ot=O[Symbol.iterator](),mr;!(Le=(mr=Ot.next()).done);Le=!0){var sr=mr.value;sr>=q&&sr<Je&&(Je=sr)}}catch(jr){Wt=!0,Pt=jr}finally{try{!Le&&Ot.return&&Ot.return()}finally{if(Wt)throw Pt}}var mt=Me+1;Je-q>T((m-ge)/mt)&&b("overflow"),ge+=(Je-q)*mt,q=Je;var Rt=!0,ir=!1,Ft=void 0;try{for(var Dr=O[Symbol.iterator](),Qs;!(Rt=(Qs=Dr.next()).done);Rt=!0){var Ys=Qs.value;if(Ys<q&&++ge>m&&b("overflow"),Ys==q){for(var an=ge,on=u;;on+=u){var ln=on<=be?_:on>=be+h?h:on-be;if(an<ln)break;var Xs=an-ln,ei=u-ln;z.push(W(x(ln+Xs%ei,0))),an=T(Xs/ei)}z.push(W(x(an,0))),be=E(ge,mt,Me==Ee),ge=0,++Me}}}catch(jr){ir=!0,Ft=jr}finally{try{!Rt&&Dr.return&&Dr.return()}finally{if(ir)throw Ft}}++ge,++q}return z.join("")},$=function(O){return me(O,function(z){return I.test(z)?R(z.slice(4).toLowerCase()):z})},C=function(O){return me(O,function(z){return B.test(z)?"xn--"+F(z):z})},K={version:"2.1.0",ucs2:{decode:X,encode:he},decode:R,encode:F,toASCII:C,toUnicode:$},se={};function re(D){var O=D.charCodeAt(0),z=void 0;return O<16?z="%0"+O.toString(16).toUpperCase():O<128?z="%"+O.toString(16).toUpperCase():O<2048?z="%"+(O>>6|192).toString(16).toUpperCase()+"%"+(O&63|128).toString(16).toUpperCase():z="%"+(O>>12|224).toString(16).toUpperCase()+"%"+(O>>6&63|128).toString(16).toUpperCase()+"%"+(O&63|128).toString(16).toUpperCase(),z}function de(D){for(var O="",z=0,G=D.length;z<G;){var q=parseInt(D.substr(z+1,2),16);if(q<128)O+=String.fromCharCode(q),z+=3;else if(q>=194&&q<224){if(G-z>=6){var ge=parseInt(D.substr(z+4,2),16);O+=String.fromCharCode((q&31)<<6|ge&63)}else O+=D.substr(z,6);z+=6}else if(q>=224){if(G-z>=9){var be=parseInt(D.substr(z+4,2),16),Re=parseInt(D.substr(z+7,2),16);O+=String.fromCharCode((q&15)<<12|(be&63)<<6|Re&63)}else O+=D.substr(z,9);z+=9}else O+=D.substr(z,3),z+=3}return O}function ye(D,O){function z(G){var q=de(G);return q.match(O.UNRESERVED)?q:G}return D.scheme&&(D.scheme=String(D.scheme).replace(O.PCT_ENCODED,z).toLowerCase().replace(O.NOT_SCHEME,"")),D.userinfo!==void 0&&(D.userinfo=String(D.userinfo).replace(O.PCT_ENCODED,z).replace(O.NOT_USERINFO,re).replace(O.PCT_ENCODED,a)),D.host!==void 0&&(D.host=String(D.host).replace(O.PCT_ENCODED,z).toLowerCase().replace(O.NOT_HOST,re).replace(O.PCT_ENCODED,a)),D.path!==void 0&&(D.path=String(D.path).replace(O.PCT_ENCODED,z).replace(D.scheme?O.NOT_PATH:O.NOT_PATH_NOSCHEME,re).replace(O.PCT_ENCODED,a)),D.query!==void 0&&(D.query=String(D.query).replace(O.PCT_ENCODED,z).replace(O.NOT_QUERY,re).replace(O.PCT_ENCODED,a)),D.fragment!==void 0&&(D.fragment=String(D.fragment).replace(O.PCT_ENCODED,z).replace(O.NOT_FRAGMENT,re).replace(O.PCT_ENCODED,a)),D}function Ae(D){return D.replace(/^0*(.*)/,"$1")||"0"}function He(D,O){var z=D.match(O.IPV4ADDRESS)||[],G=y(z,2),q=G[1];return q?q.split(".").map(Ae).join("."):D}function Ye(D,O){var z=D.match(O.IPV6ADDRESS)||[],G=y(z,3),q=G[1],ge=G[2];if(q){for(var be=q.toLowerCase().split("::").reverse(),Re=y(be,2),Fe=Re[0],Ze=Re[1],Oe=Ze?Ze.split(":").map(Ae):[],ze=Fe.split(":").map(Ae),qe=O.IPV4ADDRESS.test(ze[ze.length-1]),Ee=qe?7:8,Me=ze.length-Ee,Je=Array(Ee),Le=0;Le<Ee;++Le)Je[Le]=Oe[Le]||ze[Me+Le]||"";qe&&(Je[Ee-1]=He(Je[Ee-1],O));var Wt=Je.reduce(function(mt,Rt,ir){if(!Rt||Rt==="0"){var Ft=mt[mt.length-1];Ft&&Ft.index+Ft.length===ir?Ft.length++:mt.push({index:ir,length:1})}return mt},[]),Pt=Wt.sort(function(mt,Rt){return Rt.length-mt.length})[0],Ot=void 0;if(Pt&&Pt.length>1){var mr=Je.slice(0,Pt.index),sr=Je.slice(Pt.index+Pt.length);Ot=mr.join(":")+"::"+sr.join(":")}else Ot=Je.join(":");return ge&&(Ot+="%"+ge),Ot}else return D}var v=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Q="".match(/(){0}/)[1]===void 0;function H(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z={},G=O.iri!==!1?f:p;O.reference==="suffix"&&(D=(O.scheme?O.scheme+":":"")+"//"+D);var q=D.match(v);if(q){Q?(z.scheme=q[1],z.userinfo=q[3],z.host=q[4],z.port=parseInt(q[5],10),z.path=q[6]||"",z.query=q[7],z.fragment=q[8],isNaN(z.port)&&(z.port=q[5])):(z.scheme=q[1]||void 0,z.userinfo=D.indexOf("@")!==-1?q[3]:void 0,z.host=D.indexOf("//")!==-1?q[4]:void 0,z.port=parseInt(q[5],10),z.path=q[6]||"",z.query=D.indexOf("?")!==-1?q[7]:void 0,z.fragment=D.indexOf("#")!==-1?q[8]:void 0,isNaN(z.port)&&(z.port=D.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?q[4]:void 0)),z.host&&(z.host=Ye(He(z.host,G),G)),z.scheme===void 0&&z.userinfo===void 0&&z.host===void 0&&z.port===void 0&&!z.path&&z.query===void 0?z.reference="same-document":z.scheme===void 0?z.reference="relative":z.fragment===void 0?z.reference="absolute":z.reference="uri",O.reference&&O.reference!=="suffix"&&O.reference!==z.reference&&(z.error=z.error||"URI is not a "+O.reference+" reference.");var ge=se[(O.scheme||z.scheme||"").toLowerCase()];if(!O.unicodeSupport&&(!ge||!ge.unicodeSupport)){if(z.host&&(O.domainHost||ge&&ge.domainHost))try{z.host=K.toASCII(z.host.replace(G.PCT_ENCODED,de).toLowerCase())}catch(be){z.error=z.error||"Host's domain name can not be converted to ASCII via punycode: "+be}ye(z,p)}else ye(z,G);ge&&ge.parse&&ge.parse(z,O)}else z.error=z.error||"URI can not be parsed.";return z}function N(D,O){var z=O.iri!==!1?f:p,G=[];return D.userinfo!==void 0&&(G.push(D.userinfo),G.push("@")),D.host!==void 0&&G.push(Ye(He(String(D.host),z),z).replace(z.IPV6ADDRESS,function(q,ge,be){return"["+ge+(be?"%25"+be:"")+"]"})),(typeof D.port=="number"||typeof D.port=="string")&&(G.push(":"),G.push(String(D.port))),G.length?G.join(""):void 0}var P=/^\.\.?\//,M=/^\/\.(\/|$)/,Y=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function L(D){for(var O=[];D.length;)if(D.match(P))D=D.replace(P,"");else if(D.match(M))D=D.replace(M,"/");else if(D.match(Y))D=D.replace(Y,"/"),O.pop();else if(D==="."||D==="..")D="";else{var z=D.match(ee);if(z){var G=z[0];D=D.slice(G.length),O.push(G)}else throw new Error("Unexpected dot segment condition")}return O.join("")}function te(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=O.iri?f:p,G=[],q=se[(O.scheme||D.scheme||"").toLowerCase()];if(q&&q.serialize&&q.serialize(D,O),D.host&&!z.IPV6ADDRESS.test(D.host)){if(O.domainHost||q&&q.domainHost)try{D.host=O.iri?K.toUnicode(D.host):K.toASCII(D.host.replace(z.PCT_ENCODED,de).toLowerCase())}catch(Re){D.error=D.error||"Host's domain name can not be converted to "+(O.iri?"Unicode":"ASCII")+" via punycode: "+Re}}ye(D,z),O.reference!=="suffix"&&D.scheme&&(G.push(D.scheme),G.push(":"));var ge=N(D,O);if(ge!==void 0&&(O.reference!=="suffix"&&G.push("//"),G.push(ge),D.path&&D.path.charAt(0)!=="/"&&G.push("/")),D.path!==void 0){var be=D.path;!O.absolutePath&&(!q||!q.absolutePath)&&(be=L(be)),ge===void 0&&(be=be.replace(/^\/\//,"/%2F")),G.push(be)}return D.query!==void 0&&(G.push("?"),G.push(D.query)),D.fragment!==void 0&&(G.push("#"),G.push(D.fragment)),G.join("")}function le(D,O){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},G=arguments[3],q={};return G||(D=H(te(D,z),z),O=H(te(O,z),z)),z=z||{},!z.tolerant&&O.scheme?(q.scheme=O.scheme,q.userinfo=O.userinfo,q.host=O.host,q.port=O.port,q.path=L(O.path||""),q.query=O.query):(O.userinfo!==void 0||O.host!==void 0||O.port!==void 0?(q.userinfo=O.userinfo,q.host=O.host,q.port=O.port,q.path=L(O.path||""),q.query=O.query):(O.path?(O.path.charAt(0)==="/"?q.path=L(O.path):((D.userinfo!==void 0||D.host!==void 0||D.port!==void 0)&&!D.path?q.path="/"+O.path:D.path?q.path=D.path.slice(0,D.path.lastIndexOf("/")+1)+O.path:q.path=O.path,q.path=L(q.path)),q.query=O.query):(q.path=D.path,O.query!==void 0?q.query=O.query:q.query=D.query),q.userinfo=D.userinfo,q.host=D.host,q.port=D.port),q.scheme=D.scheme),q.fragment=O.fragment,q}function ie(D,O,z){var G=l({scheme:"null"},z);return te(le(H(D,G),H(O,G),G,!0),G)}function pe(D,O){return typeof D=="string"?D=te(H(D,O),O):i(D)==="object"&&(D=H(te(D,O),O)),D}function Te(D,O,z){return typeof D=="string"?D=te(H(D,z),z):i(D)==="object"&&(D=te(D,z)),typeof O=="string"?O=te(H(O,z),z):i(O)==="object"&&(O=te(O,z)),D===O}function Ce(D,O){return D&&D.toString().replace(!O||!O.iri?p.ESCAPE:f.ESCAPE,re)}function Be(D,O){return D&&D.toString().replace(!O||!O.iri?p.PCT_ENCODED:f.PCT_ENCODED,de)}var ct={scheme:"http",domainHost:!0,parse:function(O,z){return O.host||(O.error=O.error||"HTTP URIs must have a host."),O},serialize:function(O,z){var G=String(O.scheme).toLowerCase()==="https";return(O.port===(G?443:80)||O.port==="")&&(O.port=void 0),O.path||(O.path="/"),O}},ut={scheme:"https",domainHost:ct.domainHost,parse:ct.parse,serialize:ct.serialize};function qt(D){return typeof D.secure=="boolean"?D.secure:String(D.scheme).toLowerCase()==="wss"}var je={scheme:"ws",domainHost:!0,parse:function(O,z){var G=O;return G.secure=qt(G),G.resourceName=(G.path||"/")+(G.query?"?"+G.query:""),G.path=void 0,G.query=void 0,G},serialize:function(O,z){if((O.port===(qt(O)?443:80)||O.port==="")&&(O.port=void 0),typeof O.secure=="boolean"&&(O.scheme=O.secure?"wss":"ws",O.secure=void 0),O.resourceName){var G=O.resourceName.split("?"),q=y(G,2),ge=q[0],be=q[1];O.path=ge&&ge!=="/"?ge:void 0,O.query=be,O.resourceName=void 0}return O.fragment=void 0,O}},rr={scheme:"wss",domainHost:je.domainHost,parse:je.parse,serialize:je.serialize},Tr={},pt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ft="[0-9A-Fa-f]",Dn=n(n("%[EFef]"+ft+"%"+ft+ft+"%"+ft+ft)+"|"+n("%[89A-Fa-f]"+ft+"%"+ft+ft)+"|"+n("%"+ft+ft)),jn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",zn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",sn=s(zn,'[\\"\\\\]'),nr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",hr=new RegExp(pt,"g"),pr=new RegExp(Dn,"g"),to=new RegExp(s("[^]",jn,"[\\.]",'[\\"]',sn),"g"),qs=new RegExp(s("[^]",pt,nr),"g"),ro=qs;function Bn(D){var O=de(D);return O.match(hr)?O:D}var Ws={scheme:"mailto",parse:function(O,z){var G=O,q=G.to=G.path?G.path.split(","):[];if(G.path=void 0,G.query){for(var ge=!1,be={},Re=G.query.split("&"),Fe=0,Ze=Re.length;Fe<Ze;++Fe){var Oe=Re[Fe].split("=");switch(Oe[0]){case"to":for(var ze=Oe[1].split(","),qe=0,Ee=ze.length;qe<Ee;++qe)q.push(ze[qe]);break;case"subject":G.subject=Be(Oe[1],z);break;case"body":G.body=Be(Oe[1],z);break;default:ge=!0,be[Be(Oe[0],z)]=Be(Oe[1],z);break}}ge&&(G.headers=be)}G.query=void 0;for(var Me=0,Je=q.length;Me<Je;++Me){var Le=q[Me].split("@");if(Le[0]=Be(Le[0]),z.unicodeSupport)Le[1]=Be(Le[1],z).toLowerCase();else try{Le[1]=K.toASCII(Be(Le[1],z).toLowerCase())}catch(Wt){G.error=G.error||"Email address's domain name can not be converted to ASCII via punycode: "+Wt}q[Me]=Le.join("@")}return G},serialize:function(O,z){var G=O,q=o(O.to);if(q){for(var ge=0,be=q.length;ge<be;++ge){var Re=String(q[ge]),Fe=Re.lastIndexOf("@"),Ze=Re.slice(0,Fe).replace(pr,Bn).replace(pr,a).replace(to,re),Oe=Re.slice(Fe+1);try{Oe=z.iri?K.toUnicode(Oe):K.toASCII(Be(Oe,z).toLowerCase())}catch(Me){G.error=G.error||"Email address's domain name can not be converted to "+(z.iri?"Unicode":"ASCII")+" via punycode: "+Me}q[ge]=Ze+"@"+Oe}G.path=q.join(",")}var ze=O.headers=O.headers||{};O.subject&&(ze.subject=O.subject),O.body&&(ze.body=O.body);var qe=[];for(var Ee in ze)ze[Ee]!==Tr[Ee]&&qe.push(Ee.replace(pr,Bn).replace(pr,a).replace(qs,re)+"="+ze[Ee].replace(pr,Bn).replace(pr,a).replace(ro,re));return qe.length&&(G.query=qe.join("&")),G}},no=/^([^\:]+)\:(.*)/,Gs={scheme:"urn",parse:function(O,z){var G=O.path&&O.path.match(no),q=O;if(G){var ge=z.scheme||q.scheme||"urn",be=G[1].toLowerCase(),Re=G[2],Fe=ge+":"+(z.nid||be),Ze=se[Fe];q.nid=be,q.nss=Re,q.path=void 0,Ze&&(q=Ze.parse(q,z))}else q.error=q.error||"URN can not be parsed.";return q},serialize:function(O,z){var G=z.scheme||O.scheme||"urn",q=O.nid,ge=G+":"+(z.nid||q),be=se[ge];be&&(O=be.serialize(O,z));var Re=O,Fe=O.nss;return Re.path=(q||z.nid)+":"+Fe,Re}},so=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Js={scheme:"urn:uuid",parse:function(O,z){var G=O;return G.uuid=G.nss,G.nss=void 0,!z.tolerant&&(!G.uuid||!G.uuid.match(so))&&(G.error=G.error||"UUID is not valid."),G},serialize:function(O,z){var G=O;return G.nss=(O.uuid||"").toLowerCase(),G}};se[ct.scheme]=ct,se[ut.scheme]=ut,se[je.scheme]=je,se[rr.scheme]=rr,se[Ws.scheme]=Ws,se[Gs.scheme]=Gs,se[Js.scheme]=Js,r.SCHEMES=se,r.pctEncChar=re,r.pctDecChars=de,r.parse=H,r.removeDotSegments=L,r.serialize=te,r.resolveComponents=le,r.resolve=ie,r.normalize=pe,r.equal=Te,r.escapeComponent=Ce,r.unescapeComponent=Be,Object.defineProperty(r,"__esModule",{value:!0})})})(es,es.exports);var Hc=es.exports;Object.defineProperty(ps,"__esModule",{value:!0});const La=Hc;La.code='require("ajv/dist/runtime/uri").default';ps.default=La;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Et;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=Pe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const s=tn,n=rn,i=fr,a=ot,o=Pe,l=et,c=en,p=Ne,f=Kc,y=ps,d=(x,E)=>new RegExp(x,E);d.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],u=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},g=200;function w(x){var E,R,F,$,C,K,se,re,de,ye,Ae,He,Ye,v,Q,H,N,P,M,Y,ee,L,te,le,ie;const pe=x.strict,Te=(E=x.code)===null||E===void 0?void 0:E.optimize,Ce=Te===!0||Te===void 0?1:Te||0,Be=(F=(R=x.code)===null||R===void 0?void 0:R.regExp)!==null&&F!==void 0?F:d,ct=($=x.uriResolver)!==null&&$!==void 0?$:y.default;return{strictSchema:(K=(C=x.strictSchema)!==null&&C!==void 0?C:pe)!==null&&K!==void 0?K:!0,strictNumbers:(re=(se=x.strictNumbers)!==null&&se!==void 0?se:pe)!==null&&re!==void 0?re:!0,strictTypes:(ye=(de=x.strictTypes)!==null&&de!==void 0?de:pe)!==null&&ye!==void 0?ye:"log",strictTuples:(He=(Ae=x.strictTuples)!==null&&Ae!==void 0?Ae:pe)!==null&&He!==void 0?He:"log",strictRequired:(v=(Ye=x.strictRequired)!==null&&Ye!==void 0?Ye:pe)!==null&&v!==void 0?v:!1,code:x.code?{...x.code,optimize:Ce,regExp:Be}:{optimize:Ce,regExp:Be},loopRequired:(Q=x.loopRequired)!==null&&Q!==void 0?Q:g,loopEnum:(H=x.loopEnum)!==null&&H!==void 0?H:g,meta:(N=x.meta)!==null&&N!==void 0?N:!0,messages:(P=x.messages)!==null&&P!==void 0?P:!0,inlineRefs:(M=x.inlineRefs)!==null&&M!==void 0?M:!0,schemaId:(Y=x.schemaId)!==null&&Y!==void 0?Y:"$id",addUsedSchema:(ee=x.addUsedSchema)!==null&&ee!==void 0?ee:!0,validateSchema:(L=x.validateSchema)!==null&&L!==void 0?L:!0,validateFormats:(te=x.validateFormats)!==null&&te!==void 0?te:!0,unicodeRegExp:(le=x.unicodeRegExp)!==null&&le!==void 0?le:!0,int32range:(ie=x.int32range)!==null&&ie!==void 0?ie:!0,uriResolver:ct}}class k{constructor(E={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,E=this.opts={...E,...w(E)};const{es5:R,lines:F}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:u,es5:R,lines:F}),this.logger=T(E.logger);const $=E.validateFormats;E.validateFormats=!1,this.RULES=(0,i.getRules)(),S.call(this,_,E,"NOT SUPPORTED"),S.call(this,h,E,"DEPRECATED","warn"),this._metaOpts=V.call(this),E.formats&&B.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),E.keywords&&U.call(this,E.keywords),typeof E.meta=="object"&&this.addMetaSchema(E.meta),I.call(this),E.validateFormats=$}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:E,meta:R,schemaId:F}=this.opts;let $=f;F==="id"&&($={...f},$.id=$.$id,delete $.$id),R&&E&&this.addMetaSchema($,$[F],!1)}defaultMeta(){const{meta:E,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof E=="object"?E[R]||E:void 0}validate(E,R){let F;if(typeof E=="string"){if(F=this.getSchema(E),!F)throw new Error(`no schema with key or ref "${E}"`)}else F=this.compile(E);const $=F(R);return"$async"in F||(this.errors=F.errors),$}compile(E,R){const F=this._addSchema(E,R);return F.validate||this._compileSchemaEnv(F)}compileAsync(E,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:F}=this.opts;return $.call(this,E,R);async function $(ye,Ae){await C.call(this,ye.$schema);const He=this._addSchema(ye,Ae);return He.validate||K.call(this,He)}async function C(ye){ye&&!this.getSchema(ye)&&await $.call(this,{$ref:ye},!0)}async function K(ye){try{return this._compileSchemaEnv(ye)}catch(Ae){if(!(Ae instanceof n.default))throw Ae;return se.call(this,Ae),await re.call(this,Ae.missingSchema),K.call(this,ye)}}function se({missingSchema:ye,missingRef:Ae}){if(this.refs[ye])throw new Error(`AnySchema ${ye} is loaded but ${Ae} cannot be resolved`)}async function re(ye){const Ae=await de.call(this,ye);this.refs[ye]||await C.call(this,Ae.$schema),this.refs[ye]||this.addSchema(Ae,ye,R)}async function de(ye){const Ae=this._loading[ye];if(Ae)return Ae;try{return await(this._loading[ye]=F(ye))}finally{delete this._loading[ye]}}}addSchema(E,R,F,$=this.opts.validateSchema){if(Array.isArray(E)){for(const K of E)this.addSchema(K,void 0,F,$);return this}let C;if(typeof E=="object"){const{schemaId:K}=this.opts;if(C=E[K],C!==void 0&&typeof C!="string")throw new Error(`schema ${K} must be string`)}return R=(0,l.normalizeId)(R||C),this._checkUnique(R),this.schemas[R]=this._addSchema(E,F,R,$,!0),this}addMetaSchema(E,R,F=this.opts.validateSchema){return this.addSchema(E,R,!0,F),this}validateSchema(E,R){if(typeof E=="boolean")return!0;let F;if(F=E.$schema,F!==void 0&&typeof F!="string")throw new Error("$schema must be a string");if(F=F||this.opts.defaultMeta||this.defaultMeta(),!F)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const $=this.validate(F,E);if(!$&&R){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return $}getSchema(E){let R;for(;typeof(R=A.call(this,E))=="string";)E=R;if(R===void 0){const{schemaId:F}=this.opts,$=new a.SchemaEnv({schema:{},schemaId:F});if(R=a.resolveSchema.call(this,$,E),!R)return;this.refs[E]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(E){if(E instanceof RegExp)return this._removeAllSchemas(this.schemas,E),this._removeAllSchemas(this.refs,E),this;switch(typeof E){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=A.call(this,E);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[E],delete this.refs[E],this}case"object":{const R=E;this._cache.delete(R);let F=E[this.opts.schemaId];return F&&(F=(0,l.normalizeId)(F),delete this.schemas[F],delete this.refs[F]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(E){for(const R of E)this.addKeyword(R);return this}addKeyword(E,R){let F;if(typeof E=="string")F=E,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=F);else if(typeof E=="object"&&R===void 0){if(R=E,F=R.keyword,Array.isArray(F)&&!F.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(b.call(this,F,R),!R)return(0,p.eachItem)(F,C=>J.call(this,C)),this;X.call(this,R);const $={...R,type:(0,c.getJSONTypes)(R.type),schemaType:(0,c.getJSONTypes)(R.schemaType)};return(0,p.eachItem)(F,$.type.length===0?C=>J.call(this,C,$):C=>$.type.forEach(K=>J.call(this,C,$,K))),this}getKeyword(E){const R=this.RULES.all[E];return typeof R=="object"?R.definition:!!R}removeKeyword(E){const{RULES:R}=this;delete R.keywords[E],delete R.all[E];for(const F of R.rules){const $=F.rules.findIndex(C=>C.keyword===E);$>=0&&F.rules.splice($,1)}return this}addFormat(E,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[E]=R,this}errorsText(E=this.errors,{separator:R=", ",dataVar:F="data"}={}){return!E||E.length===0?"No errors":E.map($=>`${F}${$.instancePath} ${$.message}`).reduce(($,C)=>$+R+C)}$dataMetaSchema(E,R){const F=this.RULES.all;E=JSON.parse(JSON.stringify(E));for(const $ of R){const C=$.split("/").slice(1);let K=E;for(const se of C)K=K[se];for(const se in F){const re=F[se];if(typeof re!="object")continue;const{$data:de}=re.definition,ye=K[se];de&&ye&&(K[se]=Z(ye))}}return E}_removeAllSchemas(E,R){for(const F in E){const $=E[F];(!R||R.test(F))&&(typeof $=="string"?delete E[F]:$&&!$.meta&&(this._cache.delete($.schema),delete E[F]))}}_addSchema(E,R,F,$=this.opts.validateSchema,C=this.opts.addUsedSchema){let K;const{schemaId:se}=this.opts;if(typeof E=="object")K=E[se];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof E!="boolean")throw new Error("schema must be object or boolean")}let re=this._cache.get(E);if(re!==void 0)return re;F=(0,l.normalizeId)(K||F);const de=l.getSchemaRefs.call(this,E,F);return re=new a.SchemaEnv({schema:E,schemaId:se,meta:R,baseId:F,localRefs:de}),this._cache.set(re.schema,re),C&&!F.startsWith("#")&&(F&&this._checkUnique(F),this.refs[F]=re),$&&this.validateSchema(E,!0),re}_checkUnique(E){if(this.schemas[E]||this.refs[E])throw new Error(`schema with key or id "${E}" already exists`)}_compileSchemaEnv(E){if(E.meta?this._compileMetaSchema(E):a.compileSchema.call(this,E),!E.validate)throw new Error("ajv implementation error");return E.validate}_compileMetaSchema(E){const R=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,E)}finally{this.opts=R}}}t.default=k,k.ValidationError=s.default,k.MissingRefError=n.default;function S(x,E,R,F="error"){for(const $ in x){const C=$;C in E&&this.logger[F](`${R}: option ${$}. ${x[C]}`)}}function A(x){return x=(0,l.normalizeId)(x),this.schemas[x]||this.refs[x]}function I(){const x=this.opts.schemas;if(x)if(Array.isArray(x))this.addSchema(x);else for(const E in x)this.addSchema(x[E],E)}function B(){for(const x in this.opts.formats){const E=this.opts.formats[x];E&&this.addFormat(x,E)}}function U(x){if(Array.isArray(x)){this.addVocabulary(x);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const E in x){const R=x[E];R.keyword||(R.keyword=E),this.addKeyword(R)}}function V(){const x={...this.opts};for(const E of m)delete x[E];return x}const ne={log(){},warn(){},error(){}};function T(x){if(x===!1)return ne;if(x===void 0)return console;if(x.log&&x.warn&&x.error)return x;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function b(x,E){const{RULES:R}=this;if((0,p.eachItem)(x,F=>{if(R.keywords[F])throw new Error(`Keyword ${F} is already defined`);if(!W.test(F))throw new Error(`Keyword ${F} has invalid name`)}),!!E&&E.$data&&!("code"in E||"validate"in E))throw new Error('$data keyword must have "code" or "validate" function')}function J(x,E,R){var F;const $=E==null?void 0:E.post;if(R&&$)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:C}=this;let K=$?C.post:C.rules.find(({type:re})=>re===R);if(K||(K={type:R,rules:[]},C.rules.push(K)),C.keywords[x]=!0,!E)return;const se={keyword:x,definition:{...E,type:(0,c.getJSONTypes)(E.type),schemaType:(0,c.getJSONTypes)(E.schemaType)}};E.before?me.call(this,K,se,E.before):K.rules.push(se),C.all[x]=se,(F=E.implements)===null||F===void 0||F.forEach(re=>this.addKeyword(re))}function me(x,E,R){const F=x.rules.findIndex($=>$.keyword===R);F>=0?x.rules.splice(F,0,E):(x.rules.push(E),this.logger.warn(`rule ${R} is not defined`))}function X(x){let{metaSchema:E}=x;E!==void 0&&(x.$data&&this.opts.$data&&(E=Z(E)),x.validateSchema=this.compile(E,!0))}const he={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Z(x){return{anyOf:[x,he]}}})(_a);var ms={},_s={},gs={};Object.defineProperty(gs,"__esModule",{value:!0});const Zc={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};gs.default=Zc;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.callRef=dr.getValidate=void 0;const qc=rn,Ei=Ie,at=Pe,yr=Bt,Si=ot,fn=Ne,Wc={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:s}=t,{baseId:n,schemaEnv:i,validateName:a,opts:o,self:l}=s,{root:c}=i;if((r==="#"||r==="#/")&&n===c.baseId)return f();const p=Si.resolveRef.call(l,c,n,r);if(p===void 0)throw new qc.default(s.opts.uriResolver,n,r);if(p instanceof Si.SchemaEnv)return y(p);return d(p);function f(){if(i===c)return vn(t,a,i,i.$async);const m=e.scopeValue("root",{ref:c});return vn(t,(0,at._)`${m}.validate`,c,c.$async)}function y(m){const u=Va(t,m);vn(t,u,m,m.$async)}function d(m){const u=e.scopeValue("schema",o.code.source===!0?{ref:m,code:(0,at.stringify)(m)}:{ref:m}),_=e.name("valid"),h=t.subschema({schema:m,dataTypes:[],schemaPath:at.nil,topSchemaRef:u,errSchemaPath:r},_);t.mergeEvaluated(h),t.ok(_)}}};function Va(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,at._)`${r.scopeValue("wrapper",{ref:e})}.validate`}dr.getValidate=Va;function vn(t,e,r,s){const{gen:n,it:i}=t,{allErrors:a,schemaEnv:o,opts:l}=i,c=l.passContext?yr.default.this:at.nil;s?p():f();function p(){if(!o.$async)throw new Error("async schema referenced by sync schema");const m=n.let("valid");n.try(()=>{n.code((0,at._)`await ${(0,Ei.callValidateCode)(t,e,c)}`),d(e),a||n.assign(m,!0)},u=>{n.if((0,at._)`!(${u} instanceof ${i.ValidationError})`,()=>n.throw(u)),y(u),a||n.assign(m,!1)}),t.ok(m)}function f(){t.result((0,Ei.callValidateCode)(t,e,c),()=>d(e),()=>y(e))}function y(m){const u=(0,at._)`${m}.errors`;n.assign(yr.default.vErrors,(0,at._)`${yr.default.vErrors} === null ? ${u} : ${yr.default.vErrors}.concat(${u})`),n.assign(yr.default.errors,(0,at._)`${yr.default.vErrors}.length`)}function d(m){var u;if(!i.opts.unevaluated)return;const _=(u=r==null?void 0:r.validate)===null||u===void 0?void 0:u.evaluated;if(i.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(i.props=fn.mergeEvaluated.props(n,_.props,i.props));else{const h=n.var("props",(0,at._)`${m}.evaluated.props`);i.props=fn.mergeEvaluated.props(n,h,i.props,at.Name)}if(i.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(i.items=fn.mergeEvaluated.items(n,_.items,i.items));else{const h=n.var("items",(0,at._)`${m}.evaluated.items`);i.items=fn.mergeEvaluated.items(n,h,i.items,at.Name)}}}dr.callRef=vn;dr.default=Wc;Object.defineProperty(_s,"__esModule",{value:!0});const Gc=gs,Jc=dr,Qc=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Gc.default,Jc.default];_s.default=Qc;var vs={},ys={};Object.defineProperty(ys,"__esModule",{value:!0});const En=Pe,Jt=En.operators,Sn={maximum:{okStr:"<=",ok:Jt.LTE,fail:Jt.GT},minimum:{okStr:">=",ok:Jt.GTE,fail:Jt.LT},exclusiveMaximum:{okStr:"<",ok:Jt.LT,fail:Jt.GTE},exclusiveMinimum:{okStr:">",ok:Jt.GT,fail:Jt.LTE}},Yc={message:({keyword:t,schemaCode:e})=>(0,En.str)`must be ${Sn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,En._)`{comparison: ${Sn[t].okStr}, limit: ${e}}`},Xc={keyword:Object.keys(Sn),type:"number",schemaType:"number",$data:!0,error:Yc,code(t){const{keyword:e,data:r,schemaCode:s}=t;t.fail$data((0,En._)`${r} ${Sn[e].fail} ${s} || isNaN(${r})`)}};ys.default=Xc;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const Kr=Pe,eu={message:({schemaCode:t})=>(0,Kr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Kr._)`{multipleOf: ${t}}`},tu={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:eu,code(t){const{gen:e,data:r,schemaCode:s,it:n}=t,i=n.opts.multipleOfPrecision,a=e.let("res"),o=i?(0,Kr._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,Kr._)`${a} !== parseInt(${a})`;t.fail$data((0,Kr._)`(${s} === 0 || (${a} = ${r}/${s}, ${o}))`)}};bs.default=tu;var ws={},$s={};Object.defineProperty($s,"__esModule",{value:!0});function xa(t){const e=t.length;let r=0,s=0,n;for(;s<e;)r++,n=t.charCodeAt(s++),n>=55296&&n<=56319&&s<e&&(n=t.charCodeAt(s),(n&64512)===56320&&s++);return r}$s.default=xa;xa.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ws,"__esModule",{value:!0});const lr=Pe,ru=Ne,nu=$s,su={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,lr.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,lr._)`{limit: ${t}}`},iu={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:su,code(t){const{keyword:e,data:r,schemaCode:s,it:n}=t,i=e==="maxLength"?lr.operators.GT:lr.operators.LT,a=n.opts.unicode===!1?(0,lr._)`${r}.length`:(0,lr._)`${(0,ru.useFunc)(t.gen,nu.default)}(${r})`;t.fail$data((0,lr._)`${a} ${i} ${s}`)}};ws.default=iu;var ks={};Object.defineProperty(ks,"__esModule",{value:!0});const au=Ie,Cn=Pe,ou={message:({schemaCode:t})=>(0,Cn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Cn._)`{pattern: ${t}}`},lu={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:ou,code(t){const{data:e,$data:r,schema:s,schemaCode:n,it:i}=t,a=i.opts.unicodeRegExp?"u":"",o=r?(0,Cn._)`(new RegExp(${n}, ${a}))`:(0,au.usePattern)(t,s);t.fail$data((0,Cn._)`!${o}.test(${e})`)}};ks.default=lu;var As={};Object.defineProperty(As,"__esModule",{value:!0});const Hr=Pe,cu={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Hr.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Hr._)`{limit: ${t}}`},uu={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:cu,code(t){const{keyword:e,data:r,schemaCode:s}=t,n=e==="maxProperties"?Hr.operators.GT:Hr.operators.LT;t.fail$data((0,Hr._)`Object.keys(${r}).length ${n} ${s}`)}};As.default=uu;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});const Fr=Ie,Zr=Pe,fu=Ne,du={message:({params:{missingProperty:t}})=>(0,Zr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Zr._)`{missingProperty: ${t}}`},hu={keyword:"required",type:"object",schemaType:"array",$data:!0,error:du,code(t){const{gen:e,schema:r,schemaCode:s,data:n,$data:i,it:a}=t,{opts:o}=a;if(!i&&r.length===0)return;const l=r.length>=o.loopRequired;if(a.allErrors?c():p(),o.strictRequired){const d=t.parentSchema.properties,{definedProperties:m}=t.it;for(const u of r)if((d==null?void 0:d[u])===void 0&&!m.has(u)){const _=a.schemaEnv.baseId+a.errSchemaPath,h=`required property "${u}" is not defined at "${_}" (strictRequired)`;(0,fu.checkStrictMode)(a,h,a.opts.strictRequired)}}function c(){if(l||i)t.block$data(Zr.nil,f);else for(const d of r)(0,Fr.checkReportMissingProp)(t,d)}function p(){const d=e.let("missing");if(l||i){const m=e.let("valid",!0);t.block$data(m,()=>y(d,m)),t.ok(m)}else e.if((0,Fr.checkMissingProp)(t,r,d)),(0,Fr.reportMissingProp)(t,d),e.else()}function f(){e.forOf("prop",s,d=>{t.setParams({missingProperty:d}),e.if((0,Fr.noPropertyInData)(e,n,d,o.ownProperties),()=>t.error())})}function y(d,m){t.setParams({missingProperty:d}),e.forOf(d,s,()=>{e.assign(m,(0,Fr.propertyInData)(e,n,d,o.ownProperties)),e.if((0,Zr.not)(m),()=>{t.error(),e.break()})},Zr.nil)}}};Es.default=hu;var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});const qr=Pe,pu={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,qr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,qr._)`{limit: ${t}}`},mu={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:pu,code(t){const{keyword:e,data:r,schemaCode:s}=t,n=e==="maxItems"?qr.operators.GT:qr.operators.LT;t.fail$data((0,qr._)`${r}.length ${n} ${s}`)}};Ss.default=mu;var Cs={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});const Ka=Aa;Ka.code='require("ajv/dist/runtime/equal").default';nn.default=Ka;Object.defineProperty(Cs,"__esModule",{value:!0});const xn=en,Xe=Pe,_u=Ne,gu=nn,vu={message:({params:{i:t,j:e}})=>(0,Xe.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Xe._)`{i: ${t}, j: ${e}}`},yu={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:vu,code(t){const{gen:e,data:r,$data:s,schema:n,parentSchema:i,schemaCode:a,it:o}=t;if(!s&&!n)return;const l=e.let("valid"),c=i.items?(0,xn.getSchemaTypes)(i.items):[];t.block$data(l,p,(0,Xe._)`${a} === false`),t.ok(l);function p(){const m=e.let("i",(0,Xe._)`${r}.length`),u=e.let("j");t.setParams({i:m,j:u}),e.assign(l,!0),e.if((0,Xe._)`${m} > 1`,()=>(f()?y:d)(m,u))}function f(){return c.length>0&&!c.some(m=>m==="object"||m==="array")}function y(m,u){const _=e.name("item"),h=(0,xn.checkDataTypes)(c,_,o.opts.strictNumbers,xn.DataType.Wrong),g=e.const("indices",(0,Xe._)`{}`);e.for((0,Xe._)`;${m}--;`,()=>{e.let(_,(0,Xe._)`${r}[${m}]`),e.if(h,(0,Xe._)`continue`),c.length>1&&e.if((0,Xe._)`typeof ${_} == "string"`,(0,Xe._)`${_} += "_"`),e.if((0,Xe._)`typeof ${g}[${_}] == "number"`,()=>{e.assign(u,(0,Xe._)`${g}[${_}]`),t.error(),e.assign(l,!1).break()}).code((0,Xe._)`${g}[${_}] = ${m}`)})}function d(m,u){const _=(0,_u.useFunc)(e,gu.default),h=e.name("outer");e.label(h).for((0,Xe._)`;${m}--;`,()=>e.for((0,Xe._)`${u} = ${m}; ${u}--;`,()=>e.if((0,Xe._)`${_}(${r}[${m}], ${r}[${u}])`,()=>{t.error(),e.assign(l,!1).break(h)})))}}};Cs.default=yu;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});const ts=Pe,bu=Ne,wu=nn,$u={message:"must be equal to constant",params:({schemaCode:t})=>(0,ts._)`{allowedValue: ${t}}`},ku={keyword:"const",$data:!0,error:$u,code(t){const{gen:e,data:r,$data:s,schemaCode:n,schema:i}=t;s||i&&typeof i=="object"?t.fail$data((0,ts._)`!${(0,bu.useFunc)(e,wu.default)}(${r}, ${n})`):t.fail((0,ts._)`${i} !== ${r}`)}};Is.default=ku;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});const Lr=Pe,Au=Ne,Eu=nn,Su={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Lr._)`{allowedValues: ${t}}`},Cu={keyword:"enum",schemaType:"array",$data:!0,error:Su,code(t){const{gen:e,data:r,$data:s,schema:n,schemaCode:i,it:a}=t;if(!s&&n.length===0)throw new Error("enum must have non-empty array");const o=n.length>=a.opts.loopEnum;let l;const c=()=>l??(l=(0,Au.useFunc)(e,Eu.default));let p;if(o||s)p=e.let("valid"),t.block$data(p,f);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const d=e.const("vSchema",i);p=(0,Lr.or)(...n.map((m,u)=>y(d,u)))}t.pass(p);function f(){e.assign(p,!1),e.forOf("v",i,d=>e.if((0,Lr._)`${c()}(${r}, ${d})`,()=>e.assign(p,!0).break()))}function y(d,m){const u=n[m];return typeof u=="object"&&u!==null?(0,Lr._)`${c()}(${r}, ${d}[${m}])`:(0,Lr._)`${r} === ${u}`}}};Ps.default=Cu;Object.defineProperty(vs,"__esModule",{value:!0});const Iu=ys,Pu=bs,Ou=ws,Ru=ks,Nu=As,Tu=Es,Du=Ss,ju=Cs,zu=Is,Bu=Ps,Fu=[Iu.default,Pu.default,Ou.default,Ru.default,Nu.default,Tu.default,Du.default,ju.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},zu.default,Bu.default];vs.default=Fu;var Os={},Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.validateAdditionalItems=void 0;const cr=Pe,rs=Ne,Uu={message:({params:{len:t}})=>(0,cr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,cr._)`{limit: ${t}}`},Mu={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Uu,code(t){const{parentSchema:e,it:r}=t,{items:s}=e;if(!Array.isArray(s)){(0,rs.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ha(t,s)}};function Ha(t,e){const{gen:r,schema:s,data:n,keyword:i,it:a}=t;a.items=!0;const o=r.const("len",(0,cr._)`${n}.length`);if(s===!1)t.setParams({len:e.length}),t.pass((0,cr._)`${o} <= ${e.length}`);else if(typeof s=="object"&&!(0,rs.alwaysValidSchema)(a,s)){const c=r.var("valid",(0,cr._)`${o} <= ${e.length}`);r.if((0,cr.not)(c),()=>l(c)),t.ok(c)}function l(c){r.forRange("i",e.length,o,p=>{t.subschema({keyword:i,dataProp:p,dataPropType:rs.Type.Num},c),a.allErrors||r.if((0,cr.not)(c),()=>r.break())})}}Rr.validateAdditionalItems=Ha;Rr.default=Mu;var Rs={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.validateTuple=void 0;const Ci=Pe,yn=Ne,Lu=Ie,Vu={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return Za(t,"additionalItems",e);r.items=!0,!(0,yn.alwaysValidSchema)(r,e)&&t.ok((0,Lu.validateArray)(t))}};function Za(t,e,r=t.schema){const{gen:s,parentSchema:n,data:i,keyword:a,it:o}=t;p(n),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=yn.mergeEvaluated.items(s,r.length,o.items));const l=s.name("valid"),c=s.const("len",(0,Ci._)`${i}.length`);r.forEach((f,y)=>{(0,yn.alwaysValidSchema)(o,f)||(s.if((0,Ci._)`${c} > ${y}`,()=>t.subschema({keyword:a,schemaProp:y,dataProp:y},l)),t.ok(l))});function p(f){const{opts:y,errSchemaPath:d}=o,m=r.length,u=m===f.minItems&&(m===f.maxItems||f[e]===!1);if(y.strictTuples&&!u){const _=`"${a}" is ${m}-tuple, but minItems or maxItems/${e} are not specified or different at path "${d}"`;(0,yn.checkStrictMode)(o,_,y.strictTuples)}}}Nr.validateTuple=Za;Nr.default=Vu;Object.defineProperty(Rs,"__esModule",{value:!0});const xu=Nr,Ku={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,xu.validateTuple)(t,"items")};Rs.default=Ku;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});const Ii=Pe,Hu=Ne,Zu=Ie,qu=Rr,Wu={message:({params:{len:t}})=>(0,Ii.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Ii._)`{limit: ${t}}`},Gu={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Wu,code(t){const{schema:e,parentSchema:r,it:s}=t,{prefixItems:n}=r;s.items=!0,!(0,Hu.alwaysValidSchema)(s,e)&&(n?(0,qu.validateAdditionalItems)(t,n):t.ok((0,Zu.validateArray)(t)))}};Ns.default=Gu;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});const _t=Pe,dn=Ne,Ju={message:({params:{min:t,max:e}})=>e===void 0?(0,_t.str)`must contain at least ${t} valid item(s)`:(0,_t.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,_t._)`{minContains: ${t}}`:(0,_t._)`{minContains: ${t}, maxContains: ${e}}`},Qu={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Ju,code(t){const{gen:e,schema:r,parentSchema:s,data:n,it:i}=t;let a,o;const{minContains:l,maxContains:c}=s;i.opts.next?(a=l===void 0?1:l,o=c):a=1;const p=e.const("len",(0,_t._)`${n}.length`);if(t.setParams({min:a,max:o}),o===void 0&&a===0){(0,dn.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,dn.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,dn.alwaysValidSchema)(i,r)){let u=(0,_t._)`${p} >= ${a}`;o!==void 0&&(u=(0,_t._)`${u} && ${p} <= ${o}`),t.pass(u);return}i.items=!0;const f=e.name("valid");o===void 0&&a===1?d(f,()=>e.if(f,()=>e.break())):a===0?(e.let(f,!0),o!==void 0&&e.if((0,_t._)`${n}.length > 0`,y)):(e.let(f,!1),y()),t.result(f,()=>t.reset());function y(){const u=e.name("_valid"),_=e.let("count",0);d(u,()=>e.if(u,()=>m(_)))}function d(u,_){e.forRange("i",0,p,h=>{t.subschema({keyword:"contains",dataProp:h,dataPropType:dn.Type.Num,compositeRule:!0},u),_()})}function m(u){e.code((0,_t._)`${u}++`),o===void 0?e.if((0,_t._)`${u} >= ${a}`,()=>e.assign(f,!0).break()):(e.if((0,_t._)`${u} > ${o}`,()=>e.assign(f,!1).break()),a===1?e.assign(f,!0):e.if((0,_t._)`${u} >= ${a}`,()=>e.assign(f,!0)))}}};Ts.default=Qu;var qa={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=Pe,r=Ne,s=Ie;t.error={message:({params:{property:l,depsCount:c,deps:p}})=>{const f=c===1?"property":"properties";return(0,e.str)`must have ${f} ${p} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:p,missingProperty:f}})=>(0,e._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${c},
    deps: ${p}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,p]=i(l);a(l,c),o(l,p)}};function i({schema:l}){const c={},p={};for(const f in l){if(f==="__proto__")continue;const y=Array.isArray(l[f])?c:p;y[f]=l[f]}return[c,p]}function a(l,c=l.schema){const{gen:p,data:f,it:y}=l;if(Object.keys(c).length===0)return;const d=p.let("missing");for(const m in c){const u=c[m];if(u.length===0)continue;const _=(0,s.propertyInData)(p,f,m,y.opts.ownProperties);l.setParams({property:m,depsCount:u.length,deps:u.join(", ")}),y.allErrors?p.if(_,()=>{for(const h of u)(0,s.checkReportMissingProp)(l,h)}):(p.if((0,e._)`${_} && (${(0,s.checkMissingProp)(l,u,d)})`),(0,s.reportMissingProp)(l,d),p.else())}}t.validatePropertyDeps=a;function o(l,c=l.schema){const{gen:p,data:f,keyword:y,it:d}=l,m=p.name("valid");for(const u in c)(0,r.alwaysValidSchema)(d,c[u])||(p.if((0,s.propertyInData)(p,f,u,d.opts.ownProperties),()=>{const _=l.subschema({keyword:y,schemaProp:u},m);l.mergeValidEvaluated(_,m)},()=>p.var(m,!0)),l.ok(m))}t.validateSchemaDeps=o,t.default=n})(qa);var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const Wa=Pe,Yu=Ne,Xu={message:"property name must be valid",params:({params:t})=>(0,Wa._)`{propertyName: ${t.propertyName}}`},ef={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Xu,code(t){const{gen:e,schema:r,data:s,it:n}=t;if((0,Yu.alwaysValidSchema)(n,r))return;const i=e.name("valid");e.forIn("key",s,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),e.if((0,Wa.not)(i),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(i)}};Ds.default=ef;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});const hn=Ie,bt=Pe,tf=Bt,pn=Ne,rf={message:"must NOT have additional properties",params:({params:t})=>(0,bt._)`{additionalProperty: ${t.additionalProperty}}`},nf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:rf,code(t){const{gen:e,schema:r,parentSchema:s,data:n,errsCount:i,it:a}=t;if(!i)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,pn.alwaysValidSchema)(a,r))return;const c=(0,hn.allSchemaProperties)(s.properties),p=(0,hn.allSchemaProperties)(s.patternProperties);f(),t.ok((0,bt._)`${i} === ${tf.default.errors}`);function f(){e.forIn("key",n,_=>{!c.length&&!p.length?m(_):e.if(y(_),()=>m(_))})}function y(_){let h;if(c.length>8){const g=(0,pn.schemaRefOrVal)(a,s.properties,"properties");h=(0,hn.isOwnProperty)(e,g,_)}else c.length?h=(0,bt.or)(...c.map(g=>(0,bt._)`${_} === ${g}`)):h=bt.nil;return p.length&&(h=(0,bt.or)(h,...p.map(g=>(0,bt._)`${(0,hn.usePattern)(t,g)}.test(${_})`))),(0,bt.not)(h)}function d(_){e.code((0,bt._)`delete ${n}[${_}]`)}function m(_){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){d(_);return}if(r===!1){t.setParams({additionalProperty:_}),t.error(),o||e.break();return}if(typeof r=="object"&&!(0,pn.alwaysValidSchema)(a,r)){const h=e.name("valid");l.removeAdditional==="failing"?(u(_,h,!1),e.if((0,bt.not)(h),()=>{t.reset(),d(_)})):(u(_,h),o||e.if((0,bt.not)(h),()=>e.break()))}}function u(_,h,g){const w={keyword:"additionalProperties",dataProp:_,dataPropType:pn.Type.Str};g===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(w,h)}}};Tn.default=nf;var js={};Object.defineProperty(js,"__esModule",{value:!0});const sf=Et,Pi=Ie,Kn=Ne,Oi=Tn,af={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:s,data:n,it:i}=t;i.opts.removeAdditional==="all"&&s.additionalProperties===void 0&&Oi.default.code(new sf.KeywordCxt(i,Oi.default,"additionalProperties"));const a=(0,Pi.allSchemaProperties)(r);for(const f of a)i.definedProperties.add(f);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=Kn.mergeEvaluated.props(e,(0,Kn.toHash)(a),i.props));const o=a.filter(f=>!(0,Kn.alwaysValidSchema)(i,r[f]));if(o.length===0)return;const l=e.name("valid");for(const f of o)c(f)?p(f):(e.if((0,Pi.propertyInData)(e,n,f,i.opts.ownProperties)),p(f),i.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(l);function c(f){return i.opts.useDefaults&&!i.compositeRule&&r[f].default!==void 0}function p(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};js.default=af;var zs={};Object.defineProperty(zs,"__esModule",{value:!0});const Ri=Ie,mn=Pe,Ni=Ne,Ti=Ne,of={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:s,parentSchema:n,it:i}=t,{opts:a}=i,o=(0,Ri.allSchemaProperties)(r),l=o.filter(u=>(0,Ni.alwaysValidSchema)(i,r[u]));if(o.length===0||l.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;const c=a.strictSchema&&!a.allowMatchingProperties&&n.properties,p=e.name("valid");i.props!==!0&&!(i.props instanceof mn.Name)&&(i.props=(0,Ti.evaluatedPropsToName)(e,i.props));const{props:f}=i;y();function y(){for(const u of o)c&&d(u),i.allErrors?m(u):(e.var(p,!0),m(u),e.if(p))}function d(u){for(const _ in c)new RegExp(u).test(_)&&(0,Ni.checkStrictMode)(i,`property ${_} matches pattern ${u} (use allowMatchingProperties)`)}function m(u){e.forIn("key",s,_=>{e.if((0,mn._)`${(0,Ri.usePattern)(t,u)}.test(${_})`,()=>{const h=l.includes(u);h||t.subschema({keyword:"patternProperties",schemaProp:u,dataProp:_,dataPropType:Ti.Type.Str},p),i.opts.unevaluated&&f!==!0?e.assign((0,mn._)`${f}[${_}]`,!0):!h&&!i.allErrors&&e.if((0,mn.not)(p),()=>e.break())})})}}};zs.default=of;var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});const lf=Ne,cf={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:s}=t;if((0,lf.alwaysValidSchema)(s,r)){t.fail();return}const n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Bs.default=cf;var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});const uf=Ie,ff={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:uf.validateUnion,error:{message:"must match a schema in anyOf"}};Fs.default=ff;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});const bn=Pe,df=Ne,hf={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,bn._)`{passingSchemas: ${t.passing}}`},pf={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:hf,code(t){const{gen:e,schema:r,parentSchema:s,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&s.discriminator)return;const i=r,a=e.let("valid",!1),o=e.let("passing",null),l=e.name("_valid");t.setParams({passing:o}),e.block(c),t.result(a,()=>t.reset(),()=>t.error(!0));function c(){i.forEach((p,f)=>{let y;(0,df.alwaysValidSchema)(n,p)?e.var(l,!0):y=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&e.if((0,bn._)`${l} && ${a}`).assign(a,!1).assign(o,(0,bn._)`[${o}, ${f}]`).else(),e.if(l,()=>{e.assign(a,!0),e.assign(o,f),y&&t.mergeEvaluated(y,bn.Name)})})}}};Us.default=pf;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});const mf=Ne,_f={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=e.name("valid");r.forEach((i,a)=>{if((0,mf.alwaysValidSchema)(s,i))return;const o=t.subschema({keyword:"allOf",schemaProp:a},n);t.ok(n),t.mergeEvaluated(o)})}};Ms.default=_f;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});const In=Pe,Ga=Ne,gf={message:({params:t})=>(0,In.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,In._)`{failingKeyword: ${t.ifClause}}`},vf={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:gf,code(t){const{gen:e,parentSchema:r,it:s}=t;r.then===void 0&&r.else===void 0&&(0,Ga.checkStrictMode)(s,'"if" without "then" and "else" is ignored');const n=Di(s,"then"),i=Di(s,"else");if(!n&&!i)return;const a=e.let("valid",!0),o=e.name("_valid");if(l(),t.reset(),n&&i){const p=e.let("ifClause");t.setParams({ifClause:p}),e.if(o,c("then",p),c("else",p))}else n?e.if(o,c("then")):e.if((0,In.not)(o),c("else"));t.pass(a,()=>t.error(!0));function l(){const p=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(p)}function c(p,f){return()=>{const y=t.subschema({keyword:p},o);e.assign(a,o),t.mergeValidEvaluated(y,a),f?e.assign(f,(0,In._)`${p}`):t.setParams({ifClause:p})}}}};function Di(t,e){const r=t.schema[e];return r!==void 0&&!(0,Ga.alwaysValidSchema)(t,r)}Ls.default=vf;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});const yf=Ne,bf={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,yf.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Vs.default=bf;Object.defineProperty(Os,"__esModule",{value:!0});const wf=Rr,$f=Rs,kf=Nr,Af=Ns,Ef=Ts,Sf=qa,Cf=Ds,If=Tn,Pf=js,Of=zs,Rf=Bs,Nf=Fs,Tf=Us,Df=Ms,jf=Ls,zf=Vs;function Bf(t=!1){const e=[Rf.default,Nf.default,Tf.default,Df.default,jf.default,zf.default,Cf.default,If.default,Sf.default,Pf.default,Of.default];return t?e.push($f.default,Af.default):e.push(wf.default,kf.default),e.push(Ef.default),e}Os.default=Bf;var xs={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});const We=Pe,Ff={message:({schemaCode:t})=>(0,We.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,We._)`{format: ${t}}`},Uf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Ff,code(t,e){const{gen:r,data:s,$data:n,schema:i,schemaCode:a,it:o}=t,{opts:l,errSchemaPath:c,schemaEnv:p,self:f}=o;if(!l.validateFormats)return;n?y():d();function y(){const m=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),u=r.const("fDef",(0,We._)`${m}[${a}]`),_=r.let("fType"),h=r.let("format");r.if((0,We._)`typeof ${u} == "object" && !(${u} instanceof RegExp)`,()=>r.assign(_,(0,We._)`${u}.type || "string"`).assign(h,(0,We._)`${u}.validate`),()=>r.assign(_,(0,We._)`"string"`).assign(h,u)),t.fail$data((0,We.or)(g(),w()));function g(){return l.strictSchema===!1?We.nil:(0,We._)`${a} && !${h}`}function w(){const k=p.$async?(0,We._)`(${u}.async ? await ${h}(${s}) : ${h}(${s}))`:(0,We._)`${h}(${s})`,S=(0,We._)`(typeof ${h} == "function" ? ${k} : ${h}.test(${s}))`;return(0,We._)`${h} && ${h} !== true && ${_} === ${e} && !${S}`}}function d(){const m=f.formats[i];if(!m){g();return}if(m===!0)return;const[u,_,h]=w(m);u===e&&t.pass(k());function g(){if(l.strictSchema===!1){f.logger.warn(S());return}throw new Error(S());function S(){return`unknown format "${i}" ignored in schema at path "${c}"`}}function w(S){const A=S instanceof RegExp?(0,We.regexpCode)(S):l.code.formats?(0,We._)`${l.code.formats}${(0,We.getProperty)(i)}`:void 0,I=r.scopeValue("formats",{key:i,ref:S,code:A});return typeof S=="object"&&!(S instanceof RegExp)?[S.type||"string",S.validate,(0,We._)`${I}.validate`]:["string",S,I]}function k(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!p.$async)throw new Error("async format in sync schema");return(0,We._)`await ${h}(${s})`}return typeof _=="function"?(0,We._)`${h}(${s})`:(0,We._)`${h}.test(${s})`}}}};Ks.default=Uf;Object.defineProperty(xs,"__esModule",{value:!0});const Mf=Ks,Lf=[Mf.default];xs.default=Lf;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.contentVocabulary=Pr.metadataVocabulary=void 0;Pr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Pr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ms,"__esModule",{value:!0});const Vf=_s,xf=vs,Kf=Os,Hf=xs,ji=Pr,Zf=[Vf.default,xf.default,(0,Kf.default)(),Hf.default,ji.metadataVocabulary,ji.contentVocabulary];ms.default=Zf;var Hs={},Ja={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(Ja);Object.defineProperty(Hs,"__esModule",{value:!0});const wr=Pe,ns=Ja,zi=ot,qf=Ne,Wf={message:({params:{discrError:t,tagName:e}})=>t===ns.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,wr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Gf={keyword:"discriminator",type:"object",schemaType:"object",error:Wf,code(t){const{gen:e,data:r,schema:s,parentSchema:n,it:i}=t,{oneOf:a}=n;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=s.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,wr._)`${r}${(0,wr.getProperty)(o)}`);e.if((0,wr._)`typeof ${c} == "string"`,()=>p(),()=>t.error(!1,{discrError:ns.DiscrError.Tag,tag:c,tagName:o})),t.ok(l);function p(){const d=y();e.if(!1);for(const m in d)e.elseIf((0,wr._)`${c} === ${m}`),e.assign(l,f(d[m]));e.else(),t.error(!1,{discrError:ns.DiscrError.Mapping,tag:c,tagName:o}),e.endIf()}function f(d){const m=e.name("valid"),u=t.subschema({keyword:"oneOf",schemaProp:d},m);return t.mergeEvaluated(u,wr.Name),m}function y(){var d;const m={},u=h(n);let _=!0;for(let k=0;k<a.length;k++){let S=a[k];S!=null&&S.$ref&&!(0,qf.schemaHasRulesButRef)(S,i.self.RULES)&&(S=zi.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,S==null?void 0:S.$ref),S instanceof zi.SchemaEnv&&(S=S.schema));const A=(d=S==null?void 0:S.properties)===null||d===void 0?void 0:d[o];if(typeof A!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);_=_&&(u||h(S)),g(A,k)}if(!_)throw new Error(`discriminator: "${o}" must be required`);return m;function h({required:k}){return Array.isArray(k)&&k.includes(o)}function g(k,S){if(k.const)w(k.const,S);else if(k.enum)for(const A of k.enum)w(A,S);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function w(k,S){if(typeof k!="string"||k in m)throw new Error(`discriminator: "${o}" values must be unique strings`);m[k]=S}}}};Hs.default=Gf;const Jf="http://json-schema.org/draft-07/schema#",Qf="http://json-schema.org/draft-07/schema#",Yf="Core schema meta-schema",Xf={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ed=["object","boolean"],td={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},rd={$schema:Jf,$id:Qf,title:Yf,definitions:Xf,type:ed,properties:td,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=_a,s=ms,n=Hs,i=rd,a=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),s.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(i,a):i;this.addMetaSchema(m,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=Et;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var p=Pe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return p._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return p.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return p.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return p.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return p.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return p.CodeGen}});var f=tn;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var y=rn;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return y.default}})})(Qn,Qn.exports);var nd=Qn.exports;const sd=pa(nd),Qa=async t=>(await Yr.loadAsync(t)).file("pack.mcmeta")!==null,id=async t=>{const e=await t.text(),r={type:"array",items:{type:"object",properties:{title:{type:"string"},author:{type:"string"},"disc-namespace":{type:"string"},"model-data":{type:"integer"},"creeper-drop":{type:"boolean"},lores:{type:"array",items:{type:"string"}},"loot-tables":{type:"array",items:{type:"string"}}},required:["author","creeper-drop","disc-namespace","lores","model-data","title"]}};return new sd().compile(r)(JSON.parse(e))},ad=async(t,e)=>{try{const r=await t.text(),s=JSON.parse(r),n=await new Yr().loadAsync(e),i=await Promise.all(s.map(async a=>{const o=a["disc-namespace"].substring(a["disc-namespace"].indexOf(".")+1),l=await n.file(`assets/minecraft/sounds/records/${o}.ogg`).async("blob"),c=await n.file(`assets/minecraft/textures/item/music_disc_${o}.png`).async("blob"),p=await n.file(`assets/minecraft/textures/item/fragment_${o}.png`).async("blob");return{name:a.title,author:a.author,namespace:a["disc-namespace"],creeperDrop:a["creeper-drop"],isMono:!0,normalize:!0,lores:a.lores.join(`
`),lootTables:Bi(a["loot-tables"]??[]),fragmentLootTables:Bi(a["fragment-loot-tables"]??[]),uploadedFile:new File([l],`music_disc.${o}.ogg`),oggFile:l,monoFile:l,texture:c,fragmentTexture:p}}));Qt.set(i)}catch{alert("Can't import the resource pack. The resourcepack mismatches the discs.json file.")}},Bi=t=>{const e=[];return t.forEach(r=>{const s=Gr.find(n=>n.source.includes(r));s&&(e.includes(s.source)||e.push(s.source))}),e};function Fi(t){let e,r,s=`url(${Pn})`,n,i,a;return{c(){e=ae("div"),j(e,"class","popupbackground svelte-s6y2ol"),lt(e,"background-image",s)},m(o,l){ue(o,e,l),n=!0,i||(a=[ve(e,"click",t[9]),ve(e,"keydown",null)],i=!0)},p:Se,i(o){n||(o&&ht(()=>{n&&(r||(r=er(e,St,{},!0)),r.run(1))}),n=!0)},o(o){o&&(r||(r=er(e,St,{},!1)),r.run(0)),n=!1},d(o){o&&ce(e),o&&r&&r.end(),i=!1,De(a)}}}function Ui(t){let e,r,s,n,i,a,o,l,c,p,f,y,d,m,u,_,h,g,w,k,S,A,I,B,U,V,ne,T,W,b,J,me,X,he,Z,x;return{c(){e=ae("div"),r=ae("div"),s=ae("div"),n=ae("img"),a=ke(),o=ae("p"),o.textContent="Not Valid",l=ke(),c=ae("p"),p=nt(t[3]),d=ke(),m=ae("div"),u=ae("input"),_=ke(),h=ae("img"),w=ke(),k=ae("p"),k.textContent="Not Valid",S=ke(),A=ae("p"),I=nt(t[4]),V=ke(),ne=ae("p"),ne.textContent="Warning: Importing a resource pack will overwrite any existing resource pack in the tool!",T=ke(),W=ae("div"),b=ae("div"),J=ae("p"),J.textContent="Import",X=ke(),he=ae("div"),he.innerHTML='<p id="generate_text" class="noselect svelte-s6y2ol">Discard</p>',Qe(n.src,i=os)||j(n,"src",i),j(n,"alt",""),j(n,"class","svelte-s6y2ol"),j(o,"id","error"),j(o,"class","svelte-s6y2ol"),j(s,"class",f=gt(t[1])+" svelte-s6y2ol"),j(u,"type","file"),j(u,"name","discs_input"),j(u,"id","discs_input"),j(u,"accept",".json"),j(u,"class","svelte-s6y2ol"),Qe(h.src,g=ca)||j(h,"src",g),j(h,"alt",""),j(h,"class","svelte-s6y2ol"),j(k,"id","error"),j(k,"class","svelte-s6y2ol"),j(m,"class",B=gt(t[2])+" svelte-s6y2ol"),j(r,"class","popupcontainer svelte-s6y2ol"),lt(ne,"color","red"),lt(ne,"margin-bottom","0"),j(J,"id","generate_text"),j(J,"class","noselect svelte-s6y2ol"),j(b,"id","messagepopupconfirm"),j(b,"class",me="popupconfirm "+t[5]+" svelte-s6y2ol"),j(he,"id","messagepopupconfirm"),j(he,"class","popupconfirm svelte-s6y2ol"),j(W,"id","input"),j(W,"class","svelte-s6y2ol"),j(e,"class","popup svelte-s6y2ol")},m(E,R){ue(E,e,R),oe(e,r),oe(r,s),oe(s,n),oe(s,a),oe(s,o),oe(s,l),oe(s,c),oe(c,p),oe(r,d),oe(r,m),oe(m,u),oe(m,_),oe(m,h),oe(m,w),oe(m,k),oe(m,S),oe(m,A),oe(A,I),oe(e,V),oe(e,ne),oe(e,T),oe(e,W),oe(W,b),oe(b,J),oe(W,X),oe(W,he),Z||(x=[Ve(Er.call(null,s,{accept:".zip",cb:t[6]})),ve(s,"keydown",null),Ve(Sr.call(null,s,{accept:".zip",cb:t[6]})),Ve(Er.call(null,m,{accept:".json",cb:t[7]})),ve(m,"keydown",null),Ve(Sr.call(null,m,{accept:".json",cb:t[7]})),ve(b,"click",t[10]),ve(b,"keydown",null),ve(he,"click",t[9]),ve(he,"keydown",null)],Z=!0)},p(E,R){R&8&&Ht(p,E[3]),R&2&&f!==(f=gt(E[1])+" svelte-s6y2ol")&&j(s,"class",f),R&16&&Ht(I,E[4]),R&4&&B!==(B=gt(E[2])+" svelte-s6y2ol")&&j(m,"class",B),R&32&&me!==(me="popupconfirm "+E[5]+" svelte-s6y2ol")&&j(b,"class",me)},i(E){E&&(y||ht(()=>{y=Gn(s,St,{}),y.start()})),E&&(U||ht(()=>{U=Gn(m,St,{}),U.start()}))},o:Se,d(E){E&&ce(e),Z=!1,De(x)}}}function od(t){let e,r,s=t[0]&&Fi(t),n=t[0]&&Ui(t);return{c(){s&&s.c(),e=ke(),n&&n.c(),r=Zt()},m(i,a){s&&s.m(i,a),ue(i,e,a),n&&n.m(i,a),ue(i,r,a)},p(i,[a]){i[0]?s?(s.p(i,a),a&1&&fe(s,1)):(s=Fi(i),s.c(),fe(s,1),s.m(e.parentNode,e)):s&&(st(),we(s,1,1,()=>{s=null}),it()),i[0]?n?(n.p(i,a),a&1&&fe(n,1)):(n=Ui(i),n.c(),fe(n,1),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},i(i){fe(s),fe(n)},o(i){we(s)},d(i){i&&(ce(e),ce(r)),s&&s.d(i),n&&n.d(i)}}}function ld(t,e,r){let s,{active:n}=e,i="ready",a="Resource pack",o,l="ready",c="discs.json",p,f=!1;const y=async h=>{if(!h||h.length===0||!h[0])return;const g=h[0];g.name.length>13?r(3,a=g.name.substring(0,10)+"..."):r(3,a=g.name),await Qa(g)?r(1,i="success"):r(1,i="error"),o=g},d=async h=>{if(!h||h.length===0||!h[0])return;const g=h[0];g.name.length>13?r(4,c=g.name.substring(0,10)+"..."):r(4,c=g.name),await id(g)?r(2,l="success"):r(2,l="error"),p=g},m=async()=>{i==="success"&&l==="success"&&!f&&(f=!0,await ad(p,o),r(1,i="ready"),r(3,a="Resource pack"),o=void 0,r(2,l="ready"),r(4,c="discs.json"),p=void 0,u())},u=()=>r(0,n=!1),_=()=>m();return t.$$set=h=>{"active"in h&&r(0,n=h.active)},t.$$.update=()=>{t.$$.dirty&6&&r(5,s=i!=="success"||l!=="success"?"forbid":"")},[n,i,l,a,c,s,y,d,m,u,_]}class cd extends It{constructor(e){super(),Ct(this,e,ld,od,vt,{active:0})}}function Zs(){return new Worker("/jext-reborn/assets/worker-377d6e3d.js")}const ud=async t=>t.type=="audio/ogg"?new Blob([t],{type:"audio/ogg"}):await new Promise(e=>{const r=new FileReader,s=new Blob([t]);r.readAsArrayBuffer(s),r.onload=async()=>{const n=r.result,i=new Zs;i.onmessage=a=>{e(new Blob([a.data],{type:"audio/ogg"})),i.terminate()},i.postMessage({audio:n,args:["-vn","-acodec","libvorbis"]})}}),fd=async t=>await new Promise(e=>{const r=new FileReader;r.readAsArrayBuffer(t),r.onload=async()=>{const s=r.result,n=new Zs;n.onmessage=i=>{e(new Blob([i.data],{type:"audio/ogg"})),n.terminate()},n.postMessage({audio:s,args:["-af","loudnorm"]})}}),dd=async t=>await new Promise(e=>{const r=new FileReader;r.readAsArrayBuffer(t),r.onload=async()=>{const s=r.result,n=new Zs;n.onmessage=i=>{e(new Blob([i.data],{type:"audio/ogg"})),n.terminate()},n.postMessage({audio:s,args:["-ac","1"]})}});function hd(t){return{c:Se,m:Se,p:Se,i:Se,o:Se,d:Se}}function pd(t){let e,r,s,n,i,a,o,l,c,p,f,y,d,m,u,_,h,g,w,k,S,A,I,B,U,V,ne,T;r=new $t({props:{text:"Changes the disc icon",$$slots:{default:[md]},$$scope:{ctx:t}}}),i=new $t({props:{text:"Toggles Creeper drops",$$slots:{default:[_d]},$$scope:{ctx:t}}}),o=new $t({props:{text:"Selects structures in which the disc can be found",$$slots:{default:[gd]},$$scope:{ctx:t}}});const W=[yd,vd],b=[];function J(Z,x){return Z[4]>=9?0:1}c=J(t),p=b[c]=W[c](t),y=new $t({props:{text:"(M)ono: single audio channel but music fading<br>(S)tereo: multiple audio channels but no music fading",width:"22em",$$slots:{default:[$d]},$$scope:{ctx:t}}}),m=new $t({props:{text:"Enabled: Normalizes the audio<br>Disabled: Keeps the song as is",width:"15em",$$slots:{default:[kd]},$$scope:{ctx:t}}}),_=new $t({props:{text:"Removes the disc",$$slots:{default:[Ad]},$$scope:{ctx:t}}});function me(Z,x){return Z[0].namespace.length>90?Sd:Ed}let X=me(t),he=X(t);return{c(){e=ae("div"),Ge(r.$$.fragment),s=ke(),n=ae("div"),Ge(i.$$.fragment),a=ke(),Ge(o.$$.fragment),l=ke(),p.c(),f=ke(),Ge(y.$$.fragment),d=ke(),Ge(m.$$.fragment),u=ke(),Ge(_.$$.fragment),h=ke(),g=ae("div"),w=ae("input"),k=ke(),S=ae("input"),A=ke(),I=ae("p"),he.c(),B=ke(),U=ae("textarea"),j(n,"id","buttons"),j(n,"class","svelte-cnucw0"),j(e,"id","icons"),j(e,"class","svelte-cnucw0"),j(w,"type","text"),j(w,"name","song_name"),j(w,"id","song_name_input"),j(w,"class","svelte-cnucw0"),j(S,"type","text"),j(S,"name","song_author"),j(S,"id","song_author_input"),j(S,"class","svelte-cnucw0"),j(I,"id","disknamespace"),j(I,"class","svelte-cnucw0"),j(g,"id","names"),j(g,"class","svelte-cnucw0"),j(U,"name","song_lore"),j(U,"id","song_lore_input"),j(U,"cols","30"),j(U,"rows","6"),j(U,"class","svelte-cnucw0")},m(Z,x){ue(Z,e,x),xe(r,e,null),oe(e,s),oe(e,n),xe(i,n,null),oe(n,a),xe(o,n,null),oe(n,l),b[c].m(n,null),oe(n,f),xe(y,n,null),oe(n,d),xe(m,n,null),oe(n,u),xe(_,n,null),ue(Z,h,x),ue(Z,g,x),oe(g,w),dt(w,t[0].name),oe(g,k),oe(g,S),dt(S,t[0].author),oe(g,A),oe(g,I),he.m(I,null),ue(Z,B,x),ue(Z,U,x),dt(U,t[0].lores),V=!0,ne||(T=[ve(w,"input",t[19]),ve(w,"input",t[5]),ve(S,"input",t[20]),ve(S,"input",t[5]),ve(U,"input",t[21])],ne=!0)},p(Z,x){const E={};x&16777217&&(E.$$scope={dirty:x,ctx:Z}),r.$set(E);const R={};x&16777217&&(R.$$scope={dirty:x,ctx:Z}),i.$set(R);const F={};x&16777220&&(F.$$scope={dirty:x,ctx:Z}),o.$set(F);let $=c;c=J(Z),c===$?b[c].p(Z,x):(st(),we(b[$],1,1,()=>{b[$]=null}),it(),p=b[c],p?p.p(Z,x):(p=b[c]=W[c](Z),p.c()),fe(p,1),p.m(n,f));const C={};x&16777217&&(C.$$scope={dirty:x,ctx:Z}),y.$set(C);const K={};x&16777217&&(K.$$scope={dirty:x,ctx:Z}),m.$set(K);const se={};x&16777218&&(se.$$scope={dirty:x,ctx:Z}),_.$set(se),x&1&&w.value!==Z[0].name&&dt(w,Z[0].name),x&1&&S.value!==Z[0].author&&dt(S,Z[0].author),X===(X=me(Z))&&he?he.p(Z,x):(he.d(1),he=X(Z),he&&(he.c(),he.m(I,null))),x&1&&dt(U,Z[0].lores)},i(Z){V||(fe(r.$$.fragment,Z),fe(i.$$.fragment,Z),fe(o.$$.fragment,Z),fe(p),fe(y.$$.fragment,Z),fe(m.$$.fragment,Z),fe(_.$$.fragment,Z),V=!0)},o(Z){we(r.$$.fragment,Z),we(i.$$.fragment,Z),we(o.$$.fragment,Z),we(p),we(y.$$.fragment,Z),we(m.$$.fragment,Z),we(_.$$.fragment,Z),V=!1},d(Z){Z&&(ce(e),ce(h),ce(g),ce(B),ce(U)),Ke(r),Ke(i),Ke(o),b[c].d(),Ke(y),Ke(m),Ke(_),he.d(),ne=!1,De(T)}}}function md(t){let e,r,s,n;return{c(){e=ae("img"),j(e,"id","disc_texture"),Qe(e.src,r=URL.createObjectURL(t[0].texture))||j(e,"src",r),j(e,"height","64"),j(e,"width","64"),j(e,"alt","disc icon"),j(e,"class","svelte-cnucw0")},m(i,a){ue(i,e,a),s||(n=[Ve(zt.call(null,e)),Ve(Er.call(null,e,{accept:"image/*",cb:t[7]})),ve(e,"keydown",null),Ve(Sr.call(null,e,{accept:"image/*",cb:t[7]}))],s=!0)},p(i,a){a&1&&!Qe(e.src,r=URL.createObjectURL(i[0].texture))&&j(e,"src",r)},d(i){i&&ce(e),s=!1,De(n)}}}function _d(t){let e,r,s,n,i;return{c(){e=ae("img"),j(e,"id","toggle_creeper"),Qe(e.src,r=Ro)||j(e,"src",r),j(e,"alt","creeper icon"),j(e,"class",s=gt(t[0].creeperDrop?"":"grayscale")+" svelte-cnucw0")},m(a,o){ue(a,e,o),n||(i=[Ve(zt.call(null,e)),ve(e,"click",t[14]),ve(e,"keydown",null)],n=!0)},p(a,o){o&1&&s!==(s=gt(a[0].creeperDrop?"":"grayscale")+" svelte-cnucw0")&&j(e,"class",s)},d(a){a&&ce(e),n=!1,De(i)}}}function gd(t){let e,r,s,n;return{c(){e=ae("img"),j(e,"id","loot_selector"),Qe(e.src,r=Oo)||j(e,"src",r),j(e,"alt","chest icon"),j(e,"class","svelte-cnucw0")},m(i,a){ue(i,e,a),s||(n=[Ve(zt.call(null,e)),ve(e,"click",t[15]),ve(e,"keydown",null)],s=!0)},p:Se,d(i){i&&ce(e),s=!1,De(n)}}}function vd(t){let e,r;return e=new $t({props:{text:"Not available in versions lower than 1.19",$$slots:{default:[bd]},$$scope:{ctx:t}}}),{c(){Ge(e.$$.fragment)},m(s,n){xe(e,s,n),r=!0},p(s,n){const i={};n&16777216&&(i.$$scope={dirty:n,ctx:s}),e.$set(i)},i(s){r||(fe(e.$$.fragment,s),r=!0)},o(s){we(e.$$.fragment,s),r=!1},d(s){Ke(e,s)}}}function yd(t){let e,r;return e=new $t({props:{text:"Selects structures in which the disc fragments can be found",$$slots:{default:[wd]},$$scope:{ctx:t}}}),{c(){Ge(e.$$.fragment)},m(s,n){xe(e,s,n),r=!0},p(s,n){const i={};n&16777224&&(i.$$scope={dirty:n,ctx:s}),e.$set(i)},i(s){r||(fe(e.$$.fragment,s),r=!0)},o(s){we(e.$$.fragment,s),r=!1},d(s){Ke(e,s)}}}function bd(t){let e,r,s,n;return{c(){e=ae("img"),j(e,"id","loot_fragment_selector"),Qe(e.src,r=ua)||j(e,"src",r),j(e,"alt","fragment icon"),j(e,"class","disabled svelte-cnucw0")},m(i,a){ue(i,e,a),s||(n=Ve(zt.call(null,e)),s=!0)},p:Se,d(i){i&&ce(e),s=!1,n()}}}function wd(t){let e,r,s,n;return{c(){e=ae("img"),j(e,"id","loot_fragment_selector"),Qe(e.src,r=ua)||j(e,"src",r),j(e,"alt","fragment icon"),j(e,"class","svelte-cnucw0")},m(i,a){ue(i,e,a),s||(n=[Ve(zt.call(null,e)),ve(e,"click",t[16]),ve(e,"keydown",null)],s=!0)},p:Se,d(i){i&&ce(e),s=!1,De(n)}}}function $d(t){let e,r=t[0].isMono?"M":"S",s,n,i;return{c(){e=ae("p"),s=nt(r),j(e,"id","toggle_mono"),j(e,"class","svelte-cnucw0")},m(a,o){ue(a,e,o),oe(e,s),n||(i=[Ve(zt.call(null,e)),ve(e,"click",t[17]),ve(e,"keydown",null)],n=!0)},p(a,o){o&1&&r!==(r=a[0].isMono?"M":"S")&&Ht(s,r)},d(a){a&&ce(e),n=!1,De(i)}}}function kd(t){let e,r,s,n;return{c(){e=ae("img"),Qe(e.src,r=t[0].normalize?ni:si)||j(e,"src",r),j(e,"id","audio_normalize"),j(e,"alt","audio icon"),j(e,"class","svelte-cnucw0")},m(i,a){ue(i,e,a),s||(n=[Ve(zt.call(null,e)),ve(e,"click",t[18]),ve(e,"keydown",null)],s=!0)},p(i,a){a&1&&!Qe(e.src,r=i[0].normalize?ni:si)&&j(e,"src",r)},d(i){i&&ce(e),s=!1,De(n)}}}function Ad(t){let e,r,s;return{c(){e=ae("img"),j(e,"id","song_delete"),j(e,"alt","delete icon"),j(e,"class","svelte-cnucw0")},m(n,i){ue(n,e,i),r||(s=[Ve(zt.call(null,e)),Ve(Co.call(null,e,{src:Do,hover:To})),ve(e,"click",function(){tr(t[1])&&t[1].apply(this,arguments)}),ve(e,"keydown",null)],r=!0)},p(n,i){t=n},d(n){n&&ce(e),r=!1,De(s)}}}function Ed(t){let e=t[0].namespace+"",r;return{c(){r=nt(e)},m(s,n){ue(s,r,n)},p(s,n){n&1&&e!==(e=s[0].namespace+"")&&Ht(r,e)},d(s){s&&ce(r)}}}function Sd(t){let e=t[0].namespace.substring(0,90)+"",r,s;return{c(){r=nt(e),s=nt("...")},m(n,i){ue(n,r,i),ue(n,s,i)},p(n,i){i&1&&e!==(e=n[0].namespace.substring(0,90)+"")&&Ht(r,e)},d(n){n&&(ce(r),ce(s))}}}function Cd(t){let e,r,s,n;return{c(){e=ae("div"),r=ae("img"),j(r,"alt","loading"),j(r,"class","svelte-cnucw0"),j(e,"id","loading"),j(e,"class","svelte-cnucw0")},m(i,a){ue(i,e,a),oe(e,r),s||(n=Ve(Io.call(null,r,jo)),s=!0)},p:Se,i:Se,o:Se,d(i){i&&ce(e),s=!1,n()}}}function Id(t){let e,r,s,n,i,a,o,l,c,p,f;function y(k){t[9](k)}function d(k){t[10](k)}let m={};t[0].lootTables!==void 0&&(m.selectedDungeons=t[0].lootTables),t[2]!==void 0&&(m.active=t[2]),e=new Jo({props:m}),kt.push(()=>Mt(e,"selectedDungeons",y)),kt.push(()=>Mt(e,"active",d));function u(k){t[11](k)}function _(k){t[12](k)}function h(k){t[13](k)}let g={};t[0].fragmentLootTables!==void 0&&(g.selectedDungeons=t[0].fragmentLootTables),t[3]!==void 0&&(g.active=t[3]),t[0].fragmentTexture!==void 0&&(g.texture=t[0].fragmentTexture),i=new Ld({props:g}),kt.push(()=>Mt(i,"selectedDungeons",u)),kt.push(()=>Mt(i,"active",_)),kt.push(()=>Mt(i,"texture",h));let w={ctx:t,current:null,token:null,hasCatch:!1,pending:Cd,then:pd,catch:hd,value:23,blocks:[,,,]};return oa(t[6],w),{c(){Ge(e.$$.fragment),n=ke(),Ge(i.$$.fragment),c=ke(),p=ae("div"),w.block.c(),j(p,"id","song"),j(p,"class","svelte-cnucw0")},m(k,S){xe(e,k,S),ue(k,n,S),xe(i,k,S),ue(k,c,S),ue(k,p,S),w.block.m(p,w.anchor=null),w.mount=()=>p,w.anchor=null,f=!0},p(k,[S]){t=k;const A={};!r&&S&1&&(r=!0,A.selectedDungeons=t[0].lootTables,Ut(()=>r=!1)),!s&&S&4&&(s=!0,A.active=t[2],Ut(()=>s=!1)),e.$set(A);const I={};!a&&S&1&&(a=!0,I.selectedDungeons=t[0].fragmentLootTables,Ut(()=>a=!1)),!o&&S&8&&(o=!0,I.active=t[3],Ut(()=>o=!1)),!l&&S&1&&(l=!0,I.texture=t[0].fragmentTexture,Ut(()=>l=!1)),i.$set(I),la(w,t,S)},i(k){f||(fe(e.$$.fragment,k),fe(i.$$.fragment,k),fe(w.block),f=!0)},o(k){we(e.$$.fragment,k),we(i.$$.fragment,k);for(let S=0;S<3;S+=1){const A=w.blocks[S];we(A)}f=!1},d(k){k&&(ce(n),ce(c),ce(p)),Ke(e,k),Ke(i,k),w.block.d(),w.token=null,w=null}}}function Pd(t,e,r){let s;Dt(t,Cr,V=>r(4,s=V));let{song:n}=e,{id:i}=e,{onRemove:a=()=>{}}=e,o=!1,l=!1;const c=()=>{r(0,n.namespace=`${n.name}${n.author}${i}`.replace(/[^a-zA-Z0-9]/g,"").replaceAll("1","one").replaceAll("2","two").replaceAll("3","three").replaceAll("4","four").replaceAll("5","five").replaceAll("6","six").replaceAll("7","seven").replaceAll("8","eight").replaceAll("9","nine").replaceAll("0","zero").toLowerCase(),n)},f=(async()=>{if(n.name===""&&n.author===""){const V=n.uploadedFile.name.replace(/(\.mp3)|(\.ogg)|(\.wav)/g,"").split(/ ?- ?/g);V.length>=1&&r(0,n.name=V.shift(),n),V.length>=1&&r(0,n.author=V.join(),n)}c(),n.oggFile||r(0,n.oggFile=await ud(n.uploadedFile),n),n.fragmentTexture||r(0,n.fragmentTexture=await(await fetch(No)).blob(),n),n.texture||r(0,n.texture=await(await fetch(ca)).blob(),n)})(),y=V=>{const ne=V[0];ne&&r(0,n.texture=ne,n)};function d(V){t.$$.not_equal(n.lootTables,V)&&(n.lootTables=V,r(0,n))}function m(V){o=V,r(2,o)}function u(V){t.$$.not_equal(n.fragmentLootTables,V)&&(n.fragmentLootTables=V,r(0,n))}function _(V){l=V,r(3,l)}function h(V){t.$$.not_equal(n.fragmentTexture,V)&&(n.fragmentTexture=V,r(0,n))}const g=()=>r(0,n.creeperDrop=!n.creeperDrop,n),w=()=>r(2,o=!0),k=()=>r(3,l=!0),S=()=>r(0,n.isMono=!n.isMono,n),A=()=>r(0,n.normalize=!n.normalize,n);function I(){n.name=this.value,r(0,n)}function B(){n.author=this.value,r(0,n)}function U(){n.lores=this.value,r(0,n)}return t.$$set=V=>{"song"in V&&r(0,n=V.song),"id"in V&&r(8,i=V.id),"onRemove"in V&&r(1,a=V.onRemove)},[n,a,o,l,s,c,f,y,i,d,m,u,_,h,g,w,k,S,A,I,B,U]}class Od extends It{constructor(e){super(),Ct(this,e,Pd,Id,vt,{song:0,id:8,onRemove:1})}}function Mi(t){let e,r,s,n,i;return{c(){e=ae("div"),j(e,"class","popupbackground svelte-14i2kdi"),lt(e,"background-image","url("+Pn+")")},m(a,o){ue(a,e,o),s=!0,n||(i=[ve(e,"click",t[2]),ve(e,"keydown",null)],n=!0)},p:Se,i(a){s||(a&&ht(()=>{s&&(r||(r=er(e,St,{},!0)),r.run(1))}),s=!0)},o(a){a&&(r||(r=er(e,St,{},!1)),r.run(0)),s=!1},d(a){a&&ce(e),a&&r&&r.end(),n=!1,De(i)}}}function Li(t){let e,r,s,n,i,a,o;return{c(){e=ae("div"),r=ae("div"),s=nt(t[1]),n=ke(),i=ae("div"),i.innerHTML='<div id="content" class="svelte-14i2kdi"><p id="generate_text" class="noselect svelte-14i2kdi">OK</p></div>',j(r,"class","popupcontainer svelte-14i2kdi"),j(r,"id","messagepopupcontainer"),j(i,"id","messagepopupconfirm"),j(i,"class","popupconfirm svelte-14i2kdi"),j(e,"class","popup svelte-14i2kdi")},m(l,c){ue(l,e,c),oe(e,r),oe(r,s),oe(e,n),oe(e,i),a||(o=[ve(i,"click",t[2]),ve(i,"keydown",null)],a=!0)},p(l,c){c&2&&Ht(s,l[1])},d(l){l&&ce(e),a=!1,De(o)}}}function Rd(t){let e,r,s=t[0]&&Mi(t),n=t[0]&&Li(t);return{c(){s&&s.c(),e=ke(),n&&n.c(),r=Zt()},m(i,a){s&&s.m(i,a),ue(i,e,a),n&&n.m(i,a),ue(i,r,a)},p(i,[a]){i[0]?s?(s.p(i,a),a&1&&fe(s,1)):(s=Mi(i),s.c(),fe(s,1),s.m(e.parentNode,e)):s&&(st(),we(s,1,1,()=>{s=null}),it()),i[0]?n?n.p(i,a):(n=Li(i),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},i(i){fe(s)},o(i){we(s)},d(i){i&&(ce(e),ce(r)),s&&s.d(i),n&&n.d(i)}}}function Nd(t,e,r){let{text:s}=e,{active:n}=e;const i=()=>r(0,n=!1);return t.$$set=a=>{"text"in a&&r(1,s=a.text),"active"in a&&r(0,n=a.active)},[n,s,i]}class Td extends It{constructor(e){super(),Ct(this,e,Nd,Rd,vt,{text:1,active:0})}}function Dd(t){let e,r,s;const n=t[4].default,i=Gi(n,t,t[3],null);return{c(){i&&i.c(),e=ke(),r=ae("span"),j(r,"id","tooltiptext"),j(r,"class","left svelte-i4awrz"),lt(r,"width",t[1])},m(a,o){i&&i.m(a,o),ue(a,e,o),ue(a,r,o),r.innerHTML=t[0],s=!0},p(a,o){i&&i.p&&(!s||o&8)&&Yi(i,n,a,a[3],s?Qi(n,a[3],o,null):Xi(a[3]),null),(!s||o&1)&&(r.innerHTML=a[0]),(!s||o&2)&&lt(r,"width",a[1])},i(a){s||(fe(i,a),s=!0)},o(a){we(i,a),s=!1},d(a){a&&(ce(e),ce(r)),i&&i.d(a)}}}function jd(t){let e,r,s;const n=t[4].default,i=Gi(n,t,t[3],null);return{c(){e=ae("span"),r=ke(),i&&i.c(),j(e,"id","tooltiptext"),j(e,"class","right svelte-i4awrz"),lt(e,"width",t[1])},m(a,o){ue(a,e,o),e.innerHTML=t[0],ue(a,r,o),i&&i.m(a,o),s=!0},p(a,o){(!s||o&1)&&(e.innerHTML=a[0]),(!s||o&2)&&lt(e,"width",a[1]),i&&i.p&&(!s||o&8)&&Yi(i,n,a,a[3],s?Qi(n,a[3],o,null):Xi(a[3]),null)},i(a){s||(fe(i,a),s=!0)},o(a){we(i,a),s=!1},d(a){a&&(ce(e),ce(r)),i&&i.d(a)}}}function zd(t){let e,r,s,n;const i=[jd,Dd],a=[];function o(l,c){return l[2]?0:1}return r=o(t),s=a[r]=i[r](t),{c(){e=ae("div"),s.c(),j(e,"id","container"),j(e,"class","svelte-i4awrz")},m(l,c){ue(l,e,c),a[r].m(e,null),n=!0},p(l,[c]){let p=r;r=o(l),r===p?a[r].p(l,c):(st(),we(a[p],1,1,()=>{a[p]=null}),it(),s=a[r],s?s.p(l,c):(s=a[r]=i[r](l),s.c()),fe(s,1),s.m(e,null))},i(l){n||(fe(s),n=!0)},o(l){we(s),n=!1},d(l){l&&ce(e),a[r].d()}}}function Bd(t,e,r){let{$$slots:s={},$$scope:n}=e,{text:i}=e,{width:a="120px"}=e,{right:o=!0}=e;return t.$$set=l=>{"text"in l&&r(0,i=l.text),"width"in l&&r(1,a=l.width),"right"in l&&r(2,o=l.right),"$$scope"in l&&r(3,n=l.$$scope)},[i,a,o,n,s]}class $t extends It{constructor(e){super(),Ct(this,e,Bd,zd,vt,{text:0,width:1,right:2})}}function Vi(t,e,r){const s=t.slice();return s[8]=e[r],s}function xi(t){let e,r,s=`url(${Pn})`,n,i,a;return{c(){e=ae("div"),j(e,"class","popupbackground svelte-1w6xa2d"),lt(e,"background-image",s)},m(o,l){ue(o,e,l),n=!0,i||(a=[ve(e,"click",t[6]),ve(e,"keydown",null)],i=!0)},p:Se,i(o){n||(o&&ht(()=>{n&&(r||(r=er(e,St,{},!0)),r.run(1))}),n=!0)},o(o){o&&(r||(r=er(e,St,{},!1)),r.run(0)),n=!1},d(o){o&&ce(e),o&&r&&r.end(),i=!1,De(a)}}}function Ki(t){let e,r,s,n,i,a,o,l,c,p,f,y=jt(Gr),d=[];for(let u=0;u<y.length;u+=1)d[u]=Zi(Vi(t,y,u));const m=u=>we(d[u],1,1,()=>{d[u]=null});return a=new $t({props:{text:"Selects a texture for the disc fragment",$$slots:{default:[Fd]},$$scope:{ctx:t}}}),{c(){e=ae("div"),r=ae("div");for(let u=0;u<d.length;u+=1)d[u].c();s=ke(),n=ae("div"),i=ae("div"),Ge(a.$$.fragment),o=ke(),l=ae("div"),l.innerHTML='<div id="content" class="svelte-1w6xa2d"><p id="generate_text" class="noselect svelte-1w6xa2d">OK</p></div>',j(r,"class","popupcontainer svelte-1w6xa2d"),j(l,"id","messagepopupconfirm"),j(l,"class","popupconfirm svelte-1w6xa2d"),j(n,"id","out"),j(n,"class","svelte-1w6xa2d"),j(e,"class","popup svelte-1w6xa2d")},m(u,_){ue(u,e,_),oe(e,r);for(let h=0;h<d.length;h+=1)d[h]&&d[h].m(r,null);oe(e,s),oe(e,n),oe(n,i),xe(a,i,null),oe(n,o),oe(n,l),c=!0,p||(f=[ve(l,"click",t[6]),ve(l,"keydown",null)],p=!0)},p(u,_){if(_&25){y=jt(Gr);let g;for(g=0;g<y.length;g+=1){const w=Vi(u,y,g);d[g]?(d[g].p(w,_),fe(d[g],1)):(d[g]=Zi(w),d[g].c(),fe(d[g],1),d[g].m(r,null))}for(st(),g=y.length;g<d.length;g+=1)m(g);it()}const h={};_&2050&&(h.$$scope={dirty:_,ctx:u}),a.$set(h)},i(u){if(!c){for(let _=0;_<y.length;_+=1)fe(d[_]);fe(a.$$.fragment,u),c=!0}},o(u){d=d.filter(Boolean);for(let _=0;_<d.length;_+=1)we(d[_]);we(a.$$.fragment,u),c=!1},d(u){u&&ce(e),Qr(d,u),Ke(a),p=!1,De(f)}}}function Hi(t){let e,r;function s(){return t[7](t[8])}return e=new ha({props:{image:t[8].img,name:t[8].name,value:t[0].includes(t[8].source),onClick:s}}),{c(){Ge(e.$$.fragment)},m(n,i){xe(e,n,i),r=!0},p(n,i){t=n;const a={};i&1&&(a.value=t[0].includes(t[8].source)),e.$set(a)},i(n){r||(fe(e.$$.fragment,n),r=!0)},o(n){we(e.$$.fragment,n),r=!1},d(n){Ke(e,n)}}}function Zi(t){let e,r,s=t[8].minVersion&&t[8].minVersion<=t[3]&&Hi(t);return{c(){s&&s.c(),e=Zt()},m(n,i){s&&s.m(n,i),ue(n,e,i),r=!0},p(n,i){n[8].minVersion&&n[8].minVersion<=n[3]?s?(s.p(n,i),i&8&&fe(s,1)):(s=Hi(n),s.c(),fe(s,1),s.m(e.parentNode,e)):s&&(st(),we(s,1,1,()=>{s=null}),it())},i(n){r||(fe(s),r=!0)},o(n){we(s),r=!1},d(n){n&&ce(e),s&&s.d(n)}}}function Fd(t){let e,r,s,n;return{c(){e=ae("img"),Qe(e.src,r=URL.createObjectURL(t[1]))||j(e,"src",r),j(e,"alt","fragment icon"),j(e,"id","fragment_icon"),j(e,"class","noselect svelte-1w6xa2d")},m(i,a){ue(i,e,a),s||(n=[Ve(zt.call(null,e)),Ve(Er.call(null,e,{accept:"image/png",cb:t[5]})),Ve(Sr.call(null,e,{accept:"image/png",cb:t[5]})),ve(e,"keypress",null)],s=!0)},p(i,a){a&2&&!Qe(e.src,r=URL.createObjectURL(i[1]))&&j(e,"src",r)},d(i){i&&ce(e),s=!1,De(n)}}}function Ud(t){let e,r,s,n=t[2]&&xi(t),i=t[2]&&Ki(t);return{c(){n&&n.c(),e=ke(),i&&i.c(),r=Zt()},m(a,o){n&&n.m(a,o),ue(a,e,o),i&&i.m(a,o),ue(a,r,o),s=!0},p(a,[o]){a[2]?n?(n.p(a,o),o&4&&fe(n,1)):(n=xi(a),n.c(),fe(n,1),n.m(e.parentNode,e)):n&&(st(),we(n,1,1,()=>{n=null}),it()),a[2]?i?(i.p(a,o),o&4&&fe(i,1)):(i=Ki(a),i.c(),fe(i,1),i.m(r.parentNode,r)):i&&(st(),we(i,1,1,()=>{i=null}),it())},i(a){s||(fe(n),fe(i),s=!0)},o(a){we(n),we(i),s=!1},d(a){a&&(ce(e),ce(r)),n&&n.d(a),i&&i.d(a)}}}function Md(t,e,r){let s;Dt(t,Cr,f=>r(3,s=f));let{selectedDungeons:n}=e,{texture:i}=e,{active:a=!0}=e;const o=f=>{n.includes(f)?r(0,n=n.filter(y=>y!=f)):r(0,n=[...n,f])},l=f=>{const y=f[0];y&&r(1,i=y)},c=()=>r(2,a=!1),p=f=>o(f.source);return t.$$set=f=>{"selectedDungeons"in f&&r(0,n=f.selectedDungeons),"texture"in f&&r(1,i=f.texture),"active"in f&&r(2,a=f.active)},[n,i,a,s,o,l,c,p]}class Ld extends It{constructor(e){super(),Ct(this,e,Md,Ud,vt,{selectedDungeons:0,texture:1,active:2})}}const Vd=t=>new Promise(e=>{const r=Zd(t);e(new Blob([r],{type:"image/png"}))}),xd=(t,e)=>{const r=document.createElement("a");r.href=URL.createObjectURL(t),r.download=e,r.click()},qi=async(t,e,r)=>await new Promise(s=>{const n=new Image;n.src=URL.createObjectURL(t),n.onload=()=>{const i=document.createElement("canvas");i.width=e,i.height=r,i.getContext("2d").drawImage(n,0,0,e,r);const o=i.toDataURL("image/png");s(Vd(o))}}),Kd=async t=>new Promise(e=>{const r=document.createElement("audio");r.src=URL.createObjectURL(t),r.onloadedmetadata=()=>{URL.revokeObjectURL(r.src),e(Math.ceil(r.duration))}}),Hd=(t,e)=>e.overrides?(t.overrides.push(...e.overrides),t):Object.assign(t,e),Zd=t=>{const e=t.split(",")[1],r=window.atob(e),s=new ArrayBuffer(r.length),n=new Uint8Array(s);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return s};Array.prototype.mapAsync=async function(t){const e=this.map(t);return await Promise.all(e)};Array.prototype.forEachParallel=async function(t){await Promise.all(this.map(t))};const wn=Or(0),ur=Or(0);let wt=[],Ya=12,Xa=os,eo="your_pack_name";Cr.subscribe(t=>Ya=t);Jn.subscribe(t=>Xa=t);Ur.subscribe(t=>eo=t);Qt.subscribe(t=>wt=t);const qd=async()=>{const t=await Promise.all(wt.map(async(e,r)=>({title:e.name,author:e.author,duration:await Kd(e.isMono?e.monoFile:e.oggFile),"disc-namespace":`music_disc.${e.namespace}`,"model-data":r+1,"creeper-drop":e.creeperDrop,lores:e.lores.split(`
`).length==1&&e.lores.split(`
`)[0]==""?[]:e.lores.split(`
`),"loot-tables":e.lootTables.join(",").split(",").filter(s=>s!=""),"fragment-loot-tables":e.fragmentLootTables.join(",").split(",").filter(s=>s!="")})));return JSON.stringify(t,null,2)},Wd=async()=>{const t=new Yr,e=`
			{"pack": {"pack_format": ${Ya},"description": "Adds custom musics discs"}}
		`;t.file("pack.mcmeta",e);const r=await(await(await fetch(Xa)).blob()).arrayBuffer();t.file("pack.png",r);const s=t.folder("assets").folder("minecraft"),n={};wt.forEach(p=>{n[`music_disc.${p.namespace}`]={sounds:[{name:`records/${p.namespace}`,stream:!0}]}}),s.file("sounds.json",JSON.stringify(n,null,2));const i=s.folder("models").folder("item"),a=s.folder("sounds").folder("records"),o=s.folder("textures").folder("item"),l={parent:"item/generated",textures:{layer0:"item/music_disc_11"},overrides:wt.map((p,f)=>({predicate:{custom_model_data:f+1},model:`item/music_disc_${p.namespace}`}))},c={parent:"item/generated",textures:{layer0:"item/disc_fragment_5"},overrides:wt.map((p,f)=>({predicate:{custom_model_data:f+1},model:`item/fragment_${p.namespace}`}))};i.file("music_disc_11.json",JSON.stringify(l,null,2)),i.file("disc_fragment_5.json",JSON.stringify(c,null,2));for(let p=0;p<wt.length;p+=4){const f=wt.slice(p,p+4);await f.forEachParallel(async y=>{y.isMono&&!y.monoFile&&(y.monoFile=await dd(y.oggFile),ur.update(d=>d+1))}),wt.splice(p,4,...f)}for(let p=0;p<wt.length;p++){const f=wt[p],y=await(await qi(f.texture,16,16)).arrayBuffer();o.file(`music_disc_${f.namespace}.png`,y);const d=await(await qi(f.fragmentTexture,16,16)).arrayBuffer();o.file(`fragment_${f.namespace}.png`,d);const m=f.isMono?f.monoFile:f.oggFile,_=await(f.normalize?await fd(m):m).arrayBuffer();a.file(`${f.namespace}.ogg`,_),i.file(`music_disc_${f.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/music_disc_${f.namespace}`}},null,2)),i.file(`fragment_${f.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/fragment_${f.namespace}`}},null,2))}return t},Gd=async t=>await new Promise((e,r)=>{const s=document.createElement("input");s.type="file",s.accept=".zip",s.click(),s.onchange=async()=>{(!s.files||s.files.length==0)&&r("No file was selected"),await Qa(s.files[0])||r("The selected file is not a valid resource pack"),await(await Yr.loadAsync(s.files[0])).forEach(async(i,a)=>{if(i!="pack.mcmeta"&&i!="pack.png")if(a.dir)t.folder(i)||t.folder(i);else if(!t.file(i))t.file(i,await a.async("arraybuffer"));else if(i.endsWith(".json")){const o=JSON.parse(await t.file(i).async("text")),l=JSON.parse(await a.async("text")),c=Hd(o,l);t.file(i,JSON.stringify(c,null,2))}else r("Cannot merge resource pack manually as there are conflicting files that cannot be merged")}),e(t)}}).catch(e=>e),Jd=async t=>{ur.set(0),wn.set(wt.length+1+(t?1:0));let e=await Wd();if(t){const s=await Gd(e);if(typeof s=="string"){alert(s),ur.set(0),wn.set(0);return}e=s,ur.update(n=>n+1)}const r=await qd();ur.update(s=>s+1),e.generateAsync({type:"blob"}).then(async s=>{const n=new Yr;n.file("README.md",await(await fetch(zo)).arrayBuffer()),n.file(`${eo}.zip`,await s.arrayBuffer()),n.file("discs.json",r),n.generateAsync({type:"blob"}).then(async i=>{xd(i,"open me.zip"),ur.set(0),wn.set(0)})})};function Qd(t){let e,r,s=`url(${fa})`,n,i,a,o,l,c;function p(y){t[10](y)}let f={options:["Generate","Merge"]};return t[1]!==void 0&&(f.selected=t[1]),i=new Vo({props:f}),kt.push(()=>Mt(i,"selected",p)),{c(){e=ae("div"),n=ke(),Ge(i.$$.fragment),j(e,"id","generate_button"),j(e,"class",r=gt(t[2]?"":"grayscale")+" svelte-83e0x7"),lt(e,"background-image",s)},m(y,d){ue(y,e,d),ue(y,n,d),xe(i,y,d),o=!0,l||(c=[ve(e,"click",function(){tr(t[2]?t[7]:t[9])&&(t[2]?t[7]:t[9]).apply(this,arguments)}),ve(e,"keydown",null)],l=!0)},p(y,d){t=y,(!o||d&4&&r!==(r=gt(t[2]?"":"grayscale")+" svelte-83e0x7"))&&j(e,"class",r);const m={};!a&&d&2&&(a=!0,m.selected=t[1],Ut(()=>a=!1)),i.$set(m)},i(y){o||(fe(i.$$.fragment,y),o=!0)},o(y){we(i.$$.fragment,y),o=!1},d(y){y&&(ce(e),ce(n)),Ke(i,y),l=!1,De(c)}}}function Yd(t){let e,r,s,n,i,a,o=`calc(100% / ${t[5]} * ${t[6]})`;return{c(){e=ae("div"),r=ae("img"),n=ke(),i=ae("div"),a=ae("div"),Qe(r.src,s=da)||j(r,"src",s),j(r,"alt","loading"),j(r,"height","28"),j(r,"width","28"),j(a,"id","progress"),j(a,"class","svelte-83e0x7"),lt(a,"width",o),j(i,"id","progressbar"),j(i,"class","svelte-83e0x7"),j(e,"id","generate_button"),lt(e,"background-image","url("+fa+")"),j(e,"class","svelte-83e0x7")},m(l,c){ue(l,e,c),oe(e,r),oe(e,n),oe(e,i),oe(i,a)},p(l,c){c&96&&o!==(o=`calc(100% / ${l[5]} * ${l[6]})`)&&lt(a,"width",o)},i:Se,o:Se,d(l){l&&ce(e)}}}function Xd(t){let e,r,s,n,i,a,o,l,c,p,f,y;function d(g){t[8](g)}let m={text:t[4].length>0?"Can't generate discs while adding one":"Add at least a disc"};t[0]!==void 0&&(m.active=t[0]),r=new Td({props:m}),kt.push(()=>Mt(r,"active",d)),i=new ul({props:{canEdit:!t[3]}}),o=new Uo({});const u=[Yd,Qd],_=[];function h(g,w){return g[3]?0:1}return p=h(t),f=_[p]=u[p](t),{c(){e=ae("main"),Ge(r.$$.fragment),n=ke(),Ge(i.$$.fragment),a=ke(),Ge(o.$$.fragment),l=ke(),c=ae("div"),f.c(),j(c,"id","footer"),j(c,"class","svelte-83e0x7"),j(e,"class","svelte-83e0x7")},m(g,w){ue(g,e,w),xe(r,e,null),oe(e,n),xe(i,e,null),oe(e,a),xe(o,e,null),oe(e,l),oe(e,c),_[p].m(c,null),y=!0},p(g,[w]){const k={};w&16&&(k.text=g[4].length>0?"Can't generate discs while adding one":"Add at least a disc"),!s&&w&1&&(s=!0,k.active=g[0],Ut(()=>s=!1)),r.$set(k);const S={};w&8&&(S.canEdit=!g[3]),i.$set(S);let A=p;p=h(g),p===A?_[p].p(g,w):(st(),we(_[A],1,1,()=>{_[A]=null}),it(),f=_[p],f?f.p(g,w):(f=_[p]=u[p](g),f.c()),fe(f,1),f.m(c,null))},i(g){y||(fe(r.$$.fragment,g),fe(i.$$.fragment,g),fe(o.$$.fragment,g),fe(f),y=!0)},o(g){we(r.$$.fragment,g),we(i.$$.fragment,g),we(o.$$.fragment,g),we(f),y=!1},d(g){g&&ce(e),Ke(r),Ke(i),Ke(o),_[p].d()}}}function eh(t,e,r){let s,n,i;Dt(t,Qt,m=>r(4,s=m)),Dt(t,wn,m=>r(5,n=m)),Dt(t,ur,m=>r(6,i=m));let a=!1,o="Generate",l=!1,c=!1;Qt.subscribe(m=>{r(2,l=m.every(u=>u.texture!=null)&&m.length>0)});const p=async()=>{c||(r(3,c=!0),await Jd(o=="Merge"),r(3,c=!1))};function f(m){a=m,r(0,a)}const y=()=>r(0,a=!0);function d(m){o=m,r(1,o)}return[a,o,l,c,s,n,i,p,f,y,d]}class th extends It{constructor(e){super(),Ct(this,e,eh,Xd,vt,{})}}new th({target:document.getElementById("app")});
